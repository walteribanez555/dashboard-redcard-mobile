(self.webpackChunkdashboard_mobile=self.webpackChunkdashboard_mobile||[]).push([[711],{9711:(ke,re,P)=>{"use strict";P.r(re),P.d(re,{DashboardModule:()=>y1});var j=P(2183),k=P(177),i=P(3953);let S=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(r,o){1&r&&i.nrm(0,"router-outlet")},dependencies:[k.MD,j.iI,j.n3],encapsulation:2})}return e})(),G=(()=>{class e{constructor(){this.onAddServiceToggle=new i.bkB}ngOnInit(){}onAddToggle(){this.onAddServiceToggle.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-service-mobile-header"]],outputs:{onAddServiceToggle:"onAddServiceToggle"},standalone:!0,features:[i.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"h3",2),i.EFF(3,"Planes"),i.k0s(),i.j41(4,"div",3)(5,"a",4),i.EFF(6,"Lista"),i.k0s(),i.j41(7,"span"),i.EFF(8," - Planes"),i.k0s()()(),i.j41(9,"div",5)(10,"button",6),i.bIt("click",function(){return o.onAddToggle()}),i.EFF(11," Agregar Detalle de Plan "),i.k0s()()())},dependencies:[k.MD],encapsulation:2})}return e})();const u=["item-list-service-mobile",""];let l=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["","item-list-service-mobile",""]],inputs:{serviceItem:"serviceItem"},standalone:!0,features:[i.aNF],attrs:u,decls:12,vars:4,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"py-3","pl-3","text-right"],[1,"p-2","text-sm","text-muted-foreground",3,"ngClass"]],template:function(r,o){1&r&&(i.j41(0,"td",0)(1,"div")(2,"span",1),i.EFF(3),i.k0s()()(),i.j41(4,"td",0)(5,"div",2)(6,"span",1),i.EFF(7),i.k0s()()(),i.j41(8,"td",3)(9,"div",2)(10,"span",4),i.EFF(11),i.k0s()()()),2&r&&(i.R7$(3),i.JRh(o.serviceItem.service.servicio),i.R7$(4),i.JRh(o.serviceItem.description),i.R7$(3),i.Y8G("ngClass",1==o.serviceItem.status.id?"border border-green-800 items-end w-fit rounded-md ":"border border-red-800  items-end w-fit rounded-md "),i.R7$(),i.JRh(o.serviceItem.status.title))},dependencies:[k.MD,k.YU],encapsulation:2})}return e})();function d(e,n){if(1&e){const t=i.RV6();i.j41(0,"tr",15),i.bIt("click",function(){const o=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onSelectItem(o))}),i.k0s()}2&e&&i.Y8G("serviceItem",n.$implicit)}let C=(()=>{class e{constructor(){this.listServices=[],this.onSelectService=new i.bkB}onSelectItem(t){this.onSelectService.emit(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-list-service-mobile"]],inputs:{listServices:"listServices"},outputs:{onSelectService:"onSelectService"},standalone:!0,features:[i.aNF],decls:23,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","RED MUNDIAL VIP",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-service-mobile","","class","border-b border-dashed border-border hover:bg-card",3,"serviceItem","click",4,"ngFor","ngForOf"],["item-list-service-mobile","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","serviceItem"]],template:function(r,o){1&r&&(i.j41(0,"div",0),i.nrm(1,"hr",1),i.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),i.EFF(8,"Planes"),i.k0s(),i.nrm(9,"input",8),i.k0s()()()()(),i.nrm(10,"hr",1),i.j41(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),i.EFF(16,"Plan"),i.k0s(),i.j41(17,"th",12),i.EFF(18,"Descripcion"),i.k0s(),i.j41(19,"th",13),i.EFF(20,"Status"),i.k0s()()(),i.j41(21,"tbody"),i.DNE(22,d,1,1,"tr",14),i.k0s()()()()),2&r&&(i.R7$(22),i.Y8G("ngForOf",o.listServices))},dependencies:[k.MD,k.Sq,l],encapsulation:2})}return e})();var h=P(5312),p=P(1626);let E=(()=>{class e{constructor(){this.apiMobile=h.c.apiMobile+"/services",this.http=(0,i.WQX)(p.Qq)}getServices(){return this.http.get(this.apiMobile)}getServiceById(t){return this.http.get(`${this.apiMobile}?id=${t}`)}createService(t){return this.http.post(this.apiMobile,t)}updateService(t){return this.http.put(this.apiMobile,t)}deleteService(t){return this.http.delete(`${this.apiMobile}?id=${t}`)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),R=(()=>{class e{constructor(t){this.viewContainerRef=t}static#e=this.\u0275fac=function(r){return new(r||e)(i.rXU(i.c1b))};static#t=this.\u0275dir=i.FsC({type:e,selectors:[["","dcWrapper",""]],standalone:!0})}return e})();var T=P(4341);const le=["inputFile"];function fe(e,n){if(1&e&&i.nrm(0,"img",6),2&e){const t=i.XpG();i.Y8G("src",t.imgBase64,i.B4B)}}let Ce=(()=>{class e{constructor(){this.isDisabled=!1,this.cdr=(0,i.WQX)(i.gRc),this.fileName="Agregar Archivo",this.imgBase64=null,this.file=null}ngOnInit(){}writeValue(t){this.file=t,t&&(this.fileName=t.name,this.setImageToView(t)),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}changeValue(t){this.file=t,this.onTouched?.(),this.onChange?.(t),this.cdr.detectChanges()}onClickInputWrapper(){this.isDisabled||(this.inputFile.nativeElement.click(),this.cdr.detectChanges())}onChangeFile(t){let r=t.target.files[0];this.fileName=r.name,r&&this.setImageToView(r),this.changeValue(r),this.cdr.detectChanges()}setImageToView(t){let r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.imgBase64=r.result},r.onloadend=()=>{this.cdr.detectChanges()}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-file-input"]],viewQuery:function(r,o){if(1&r&&i.GBs(le,5),2&r){let s;i.mGM(s=i.lsd())&&(o.inputFile=s.first)}},standalone:!0,features:[i.Jv_([{provide:T.kq,useExisting:(0,i.Rfq)(()=>e),multi:!0}]),i.aNF],decls:8,vars:2,consts:[["inputFile",""],[1,"flex","flex-col","gap-2"],["alt","image","class","image",3,"src",4,"ngIf"],[1,"wrapper",3,"click"],["type","file","name","file","hidden","",1,"file-input",3,"change"],[1,"fas","fa-cloud-upload-alt"],["alt","image",1,"image",3,"src"]],template:function(r,o){if(1&r){const s=i.RV6();i.j41(0,"div",1),i.DNE(1,fe,1,1,"img",2),i.j41(2,"div",3),i.bIt("click",function(){return i.eBV(s),i.Njj(o.onClickInputWrapper())}),i.j41(3,"header"),i.EFF(4),i.k0s(),i.j41(5,"input",4,0),i.bIt("change",function(c){return i.eBV(s),i.Njj(o.onChangeFile(c))}),i.k0s(),i.nrm(7,"i",5),i.k0s()()}2&r&&(i.R7$(),i.Y8G("ngIf",o.imgBase64),i.R7$(3),i.JRh(o.fileName))},dependencies:[k.MD,k.bT],styles:["[_ngcontent-%COMP%]::selection{color:#fff;background:#6990f2}.wrapper[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;border-color:hsl(var(--border));background-color:hsl(var(--background));padding:.75rem;font-size:.75rem;line-height:1rem;color:hsl(var(--foreground))}.wrapper[_ngcontent-%COMP%]::placeholder{color:hsl(var(--muted-foreground))}.wrapper[_ngcontent-%COMP%]:focus{z-index:10;border-color:hsl(var(--primary));outline:2px solid transparent;outline-offset:2px;--tw-ring-color: hsl(var(--primary))}header[_ngcontent-%COMP%]{text-align:center}section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:10px;list-style:none;padding:15px 20px;border-radius:5px;display:flex;align-items:center;justify-content:space-between}section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"]})}return e})();var w=P(1413);let M=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-item-list"]],inputs:{id:"id",name:"name"},standalone:!0,features:[i.aNF],decls:3,vars:1,consts:[[1,"flex","flex-col","items-start","p-2","rounded-md","hover:bg-muted","hover:cursor-pointer"],[1,"text-sm","text-foreground"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"span",1),i.EFF(2),i.k0s()()),2&r&&(i.R7$(2),i.SpI(" ",o.name," "))},dependencies:[k.MD],encapsulation:2})}return e})();function Q(e,n){if(1&e){const t=i.RV6();i.j41(0,"app-item-list",2),i.bIt("click",function(){const o=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onSelect(o))}),i.k0s()}if(2&e){const t=n.$implicit;i.Y8G("name",t.name)("id",t.id)}}let B=(()=>{class e{constructor(){this.isHidden=!1,this.items=[],this.filteredItems=[]}ngOnInit(){this.filteredItems=this.items,this.filterListener?.subscribe({next:t=>{this.filterItems(t)}})}filterItems(t){this.filteredItems=this.items.filter(r=>r.name.toLowerCase().startsWith(t.toLowerCase()))}onSelect(t){this.onSelectItem(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-listview"]],inputs:{isHidden:"isHidden",onSelectItem:"onSelectItem",items:"items",filterListener:"filterListener"},standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[[3,"ngClass"],[3,"name","id","click",4,"ngFor","ngForOf"],[3,"click","name","id"]],template:function(r,o){1&r&&(i.j41(0,"div",0),i.DNE(1,Q,1,2,"app-item-list",1),i.k0s()),2&r&&(i.Y8G("ngClass",o.isHidden?" hidden":" mt-2 absolute z-10 bg-background shadow-lg rounded-md w-full border border-muted max-h-32 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted"),i.R7$(),i.Y8G("ngForOf",o.filteredItems))},dependencies:[k.MD,k.YU,k.Sq,M],encapsulation:2})}return e})();var z=P(6134);function A(e,n){if(1&e&&(i.qex(0),i.j41(1,"div",5),i.nrm(2,"app-listview",6),i.k0s(),i.bVm()),2&e){const t=i.XpG();i.R7$(2),i.Y8G("items",t.items)("isHidden",t.isHidden)("onSelectItem",t.onSelectItem)("filterListener",t.searchTerm$)}}let V=(()=>{class e{constructor(){this.value=null,this.isDisabled=!1,this.isHidden=!0,this.cdr=(0,i.WQX)(i.gRc),this.searchTerm$=new w.B,this.withFilter=!1,this.isToggle=!1,this.searchInput="Select",this.searchText="1",this.onSelectItem=t=>{this.searchInput=t.name,this.changeValue(t.id),this.updateToggle()}}writeValue(t){this.value=t,this.searchInput=this.items.find(r=>r.id==t)?.name||"Select item",this.value?console.log("Hay valor ",this.value):(console.log("No hay valor ",this.value),console.log("Items ",this.items)),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}changeValue(t){this.value=t,this.searchInput=this.items.find(r=>r.id==t)?.name||"Select item",this.onTouched?.(),this.onChange?.(t)}ngOnInit(){}ngAfterViewInit(){}searchTerm(t){t.target.value&&this.searchTerm$.next(t.target.value)}updateToggle(){const t=this.isHidden;this.isToggle=!this.isToggle,this.isHidden=!t,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-select"]],inputs:{items:"items",withFilter:"withFilter"},standalone:!0,features:[i.Jv_([{provide:T.kq,useExisting:(0,i.Rfq)(()=>e),multi:!0}]),i.aNF],decls:6,vars:4,consts:[[1,"flex","flex-col","relative"],[1,"flex","items-start","hover:bg-card","p-2","border-muted","rounded-md","relative",3,"click","ngClass"],[1,"text-sm","text-foreground"],["src","assets/icons/heroicons/outline/bars-arrow-down.svg",3,"svgClass"],[4,"ngIf"],[1,"content"],[3,"items","isHidden","onSelectItem","filterListener"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return o.updateToggle()}),i.j41(2,"span",2),i.EFF(3),i.k0s(),i.nrm(4,"svg-icon",3),i.k0s(),i.DNE(5,A,3,4,"ng-container",4),i.k0s()),2&r&&(i.R7$(),i.Y8G("ngClass",o.isHidden?"border  ":" border-2 border-primary "),i.R7$(2),i.JRh(o.searchInput),i.R7$(),i.Y8G("svgClass","h-6 w-6 absolute right-2 text-foreground"),i.R7$(),i.Y8G("ngIf",o.isToggle))},dependencies:[k.MD,k.YU,k.bT,B,T.YN,z.DM],encapsulation:2})}return e})();var g=P(467);function L(){return(L=(0,g.A)(function*(e,n){const r=yield(yield fetch(e)).blob();return new File([r],n,{type:r.type})})).apply(this,arguments)}function xe(e,n){if(1&e){const t=i.RV6();i.j41(0,"form",1),i.bIt("ngSubmit",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onSubmit())}),i.j41(1,"div",2)(2,"div",3)(3,"span",4),i.EFF(4),i.k0s(),i.j41(5,"button",5),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.close())}),i.EFF(6," X "),i.k0s()(),i.nrm(7,"hr",6),i.k0s(),i.j41(8,"div",7),i.nrm(9,"div",8),i.j41(10,"div",7)(11,"div",9)(12,"span",10),i.EFF(13,"Plan"),i.k0s(),i.nrm(14,"app-select",11),i.k0s()(),i.nrm(15,"hr",6),i.j41(16,"div",7)(17,"div",9)(18,"span",10),i.EFF(19,"Descripcion"),i.k0s(),i.nrm(20,"input",12),i.k0s()(),i.nrm(21,"hr",6),i.j41(22,"div",7)(23,"div",9)(24,"span",10),i.EFF(25,"Estado"),i.k0s(),i.nrm(26,"app-select",13),i.k0s()(),i.nrm(27,"hr",6),i.j41(28,"div",7)(29,"div",9)(30,"span",10),i.EFF(31,"Imagen"),i.k0s(),i.nrm(32,"app-file-input",14),i.k0s()(),i.nrm(33,"hr",6),i.j41(34,"div",15)(35,"button",16),i.EFF(36," Guardar Cambios "),i.k0s(),i.nrm(37,"hr"),i.j41(38,"button",17),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onDelete())}),i.EFF(39," Eliminar "),i.k0s()()()()}if(2&e){const t=i.XpG();i.Y8G("formGroup",t.formDetails),i.R7$(4),i.JRh("Detalles del Plan"),i.R7$(10),i.Y8G("items",t.data.items),i.R7$(12),i.Y8G("items",t.items)}}let me=(()=>{class e{constructor(){this.cdr=(0,i.WQX)(i.gRc),this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.formDetails=null}ngAfterViewInit(){(function ee(e,n){return L.apply(this,arguments)})(this.service.img_url,this.service.description).then(t=>{this.formDetails=new T.gE({plan:new T.MJ(this.service.service.servicio_id),description:new T.MJ(this.service.description),image:new T.MJ(t),status:new T.MJ(this.service.status.id)})})}ngOnInit(){this.cdr.detectChanges()}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.formDetails)}onDelete(){this.detailListener.delete(this.service.id||this.service.service_id)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-service-mobile-detail"]],inputs:{detailListener:"detailListener",service:"service",data:"data"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[["class","flex   w-screen  md:w-96 bg-background h-full overflow-auto gap-2  px-3 flex-col scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","z-10","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["formControlName","plan",3,"items"],["formControlName","description","type","text","placeholder","Enlace general con detalles precisos"],["formControlName","status",3,"items"],["formControlName","image"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(r,o){1&r&&i.DNE(0,xe,40,4,"form",0),2&r&&i.Y8G("ngIf",o.formDetails)},dependencies:[k.MD,k.bT,Ce,T.X1,T.qT,T.me,T.BC,T.cb,T.j4,T.JD,T.YN,V],encapsulation:2})}return e})();var Pe=function(e){return e.Create="Create",e.Read="Read",e.Update="Update",e.Delete="Delete",e}(Pe||{});const Xr=["*","*"];function So(e,n){}function ft(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",22),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2).$implicit,s=i.XpG();return i.Njj(s.submit(o))}),i.EFF(1),i.k0s()}if(2&e){const t=i.XpG(2).$implicit;i.R7$(),i.JRh(t.title)}}function Wr(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2).$implicit,s=i.XpG();return i.Njj(s.submit(o))}),i.EFF(1),i.k0s()}if(2&e){const t=i.XpG(2).$implicit;i.R7$(),i.JRh(t.title)}}function Yr(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",24),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2).$implicit,s=i.XpG();return i.Njj(s.submit(o))}),i.EFF(1),i.k0s()}if(2&e){const t=i.XpG(2).$implicit;i.R7$(),i.JRh(t.title)}}function x_(e,n){if(1&e&&i.DNE(0,ft,2,1,"button",19)(1,Wr,2,1,"button",20)(2,Yr,2,1,"button",21),2&e){const t=i.XpG().$implicit,r=i.XpG();i.Y8G("ngIf",t.action==r.create&&(null==r.forms||r.actualStep==r.forms.length-1)),i.R7$(),i.Y8G("ngIf",t.action==r.edit&&(null==r.forms||r.actualStep==r.forms.length-1)),i.R7$(),i.Y8G("ngIf",t.action==r.delete&&(null==r.forms||r.actualStep==r.forms.length-1))}}function b_(e,n){1&e&&i.SdG(0,0,["*ngFor","let action of actions"],x_,3,3)}function C_(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",27),i.bIt("click",function(){i.eBV(t);const o=i.XpG(4);return i.Njj(o.toggleNext())}),i.EFF(1," Siguiente Paso "),i.k0s()}}function S_(e,n){if(1&e){const t=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(t);const o=i.XpG(3);return i.Njj(o.togglePrev())}),i.EFF(2," Paso Previo "),i.k0s(),i.DNE(3,C_,2,0,"button",28),i.k0s()}if(2&e){const t=i.XpG(3);i.R7$(3),i.Y8G("ngIf",t.actualStep!=t.forms.length-1)}}function E_(e,n){if(1&e&&i.DNE(0,S_,4,1,"div",25),2&e){const t=i.XpG(2);i.Y8G("ngIf",t.forms.length>1)}}function A_(e,n){1&e&&i.SdG(0,1,["*ngIf","forms && forms.length > 0  "],E_,1,1)}let w_=(()=>{class e{constructor(t,r){this.elementRef=t,this.iconRegistry=r,this.delete=Pe.Delete,this.edit=Pe.Update,this.create=Pe.Create,this.actualStep=0,this.title="Agregar Elemento",this.iconPath="assets/icons/heroicons/outline/plus.svg",this.size="md",this.actions=[{action:Pe.Create,title:"Agregar"}],this.closeEvent=new i.bkB,this.submitEvent=new i.bkB,this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(t){this.elementRef.nativeElement.remove(),this.submitEvent.emit({form:this.forms,data:this.data,action:t})}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const t=this.dcWrapper.viewContainerRef;t.clear();const r=t.createComponent(this.component);r.instance.forms=this.forms,r.instance.data=this.data,r.instance.onCreateModal?.subscribe({next:o=>{this.listenerFromChild=o}}),this.cdr.detectChanges()}toggleNext(){const{actualStep:r}=this.listenerFromChild?.onNext();this.actualStep=r,this.cdr.detectChanges()}togglePrev(){const{actualStep:r}=this.listenerFromChild?.onPrev();this.actualStep=r,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)(i.rXU(i.aKT),i.rXU(z.it))};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-modal"]],viewQuery:function(r,o){if(1&r&&i.GBs(R,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{title:"title",iconPath:"iconPath",size:"size",forms:"forms",data:"data",actions:"actions",component:"component"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!0,features:[i.aNF],ngContentSelectors:Xr,decls:22,vars:4,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"relative","z-10"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"fixed","inset-0","z-10","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"relative","w-full","max-w-4xl","transform","overflow-hidden","rounded-lg","bg-card","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-4xl"],[1,"bg-card","px-2","pb-2","pt-5","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"relative","w-full","mt-3","text-center","sm:ml-4"],[1,"flex","w-full","text-start","flex-row","gap-2","pr-8","items-start","justify-start"],[1,"flex","flex-row","h-6","w-fit","flex-shrink-0","items-center","justify-start","rounded-full","bg-primary","mx-0"],["alt","",1,"h-6","w-6","text-white",3,"src"],["id","modal-title",1,"text-base","leading-6","font-semibold","text-foreground","text-bold"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"mt-5"],["dcWrapper","","id","item"],[1,"flex","flex-col","bg-background","gap-2","px-4","py-3","sm:flex","md:flex-row-reverse","sm:px-6"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["type","button","class","inline-flex w-full justify-center rounded-md bg-primary px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md bg-blue-700 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md  bg-red-600 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-primary","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-700","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["class","flex flex-col-reverse w-full md:flex-row md:w-fit items-center justify-center  gap-1 px-1 ",4,"ngIf"],[1,"flex","flex-col-reverse","w-full","md:flex-row","md:w-fit","items-center","justify-center","gap-1","px-1"],[1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["class","inline-flex w-full justify-center rounded-md bg-background px-3 py-2 text-sm font-semibold text-foreground shadow-sm ring-1 ring-inset ring-foreground hover:bg-card sm:mt-0 sm:w-auto ",3,"click",4,"ngIf"]],template:function(r,o){1&r&&(i.NAR(Xr),i.j41(0,"div",0),i.nrm(1,"div",1),i.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),i.nrm(10,"svg-icon",10),i.k0s(),i.j41(11,"h3",11),i.EFF(12),i.k0s(),i.j41(13,"div",12),i.bIt("click",function(){return o.close()}),i.EFF(14," X "),i.k0s()(),i.j41(15,"div",13),i.DNE(16,So,0,0,"ng-template",14),i.k0s()()()(),i.j41(17,"div",15),i.DNE(18,b_,2,0,"ng-content",16)(19,A_,2,0,"ng-content",17),i.j41(20,"button",18),i.bIt("click",function(){return o.close()}),i.EFF(21,"Cancelar"),i.k0s()()()()()()),2&r&&(i.R7$(10),i.Y8G("src",o.iconPath),i.R7$(2),i.JRh(o.title),i.R7$(6),i.Y8G("ngForOf",o.actions),i.R7$(),i.Y8G("ngIf",o.forms&&o.forms.length>0))},dependencies:[k.MD,k.Sq,k.bT,z.DM,R],encapsulation:2})}return e})(),tu=(()=>{class e{constructor(t,r,o){this.resolver=t,this.injector=r,this.document=o}open(t,r){const s=this.resolver.resolveComponentFactory(w_).create(this.injector),a=s.instance;return a.title=r?.title,a.size=r?.size||"md",a.forms=r.forms,a.data=r.data,a.iconPath=r?.icon||"assets/icons/heroicons/outline/plus.svg",a.actions=r?.actions||[{action:Pe.Create,title:"Realizar"}],this.resolver.resolveComponentFactory(t).create(this.injector),a.component=t,a.closeEvent.subscribe(()=>{this.closeModal()}),a.submitEvent.subscribe(m=>{this.submitModal(m)}),s.hostView.detectChanges(),this.document.body.appendChild(s.location.nativeElement),s.hostView.detectChanges(),this.modalNotifier=new w.B,this.modalNotifier.asObservable()}closeModal(){this.modalNotifier?.complete()}submitModal(t){this.modalNotifier?.next(t),this.closeModal()}static#e=this.\u0275fac=function(r){return new(r||e)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(k.qQ))};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qr=(()=>{class e{constructor(){this.validators=[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-input-text"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[i.aNF],decls:1,vars:2,consts:[["type","text",3,"formControl","placeholder"]],template:function(r,o){1&r&&i.nrm(0,"input",0),2&r&&i.Y8G("formControl",o.formControl)("placeholder",o.data.placeholder)},dependencies:[k.MD,T.YN,T.me,T.BC,T.X1,T.l_],encapsulation:2})}return e})();function v_(e,n){}let k_=(()=>{class e{constructor(){this.titleField=null,this.cdr=(0,i.WQX)(i.gRc)}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const t=this.dcWrapper.viewContainerRef;t.clear();const r=t.createComponent(this.dynamicField.component);r.instance.formControl=this.dynamicField.fieldFormControl,r.instance.data=this.dynamicField.data,this.titleField=this.dynamicField.data.title,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-field-template"]],viewQuery:function(r,o){if(1&r&&i.GBs(R,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{fieldListener:"fieldListener",dynamicField:"dynamicField"},standalone:!0,features:[i.aNF],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","gap-1","p-2"],[1,"text-sm","font-semibold","text-muted-foreground","text-start"],["dcWrapper","","id","item"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"label",1),i.EFF(2),i.k0s(),i.DNE(3,v_,0,0,"ng-template",2),i.k0s()),2&r&&(i.R7$(2),i.JRh(o.titleField||"Titulo"))},dependencies:[k.MD,R],encapsulation:2})}return e})();function T_(e,n){1&e&&i.nrm(0,"app-field-template",4),2&e&&i.Y8G("dynamicField",n.$implicit)}let Ks=(()=>{class e{constructor(){this.fields=[],this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}renderForm(){this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-form-template"]],inputs:{fields:"fields",step:"step",formListener:"formListener",data:"data"},standalone:!0,features:[i.aNF],decls:5,vars:2,consts:[[1,"flex","w-full","flex-col","gap-2","bg-background","p-3"],[1,"text-sm","font-semibold","text-foreground","text-start"],[1,"flex","gap-2","flex-col","w-full"],["class","w-full",3,"dynamicField",4,"ngFor","ngForOf"],[1,"w-full",3,"dynamicField"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"label",1),i.EFF(2),i.k0s(),i.j41(3,"div",2),i.DNE(4,T_,1,1,"app-field-template",3),i.k0s()()),2&r&&(i.R7$(2),i.JRh(o.data.description||""),i.R7$(2),i.Y8G("ngForOf",o.fields))},dependencies:[k.MD,k.Sq,k_],encapsulation:2})}return e})();function R_(e,n){1&e&&(i.qSk(),i.j41(0,"svg",9),i.nrm(1,"path",10),i.k0s())}function B_(e,n){if(1&e&&(i.j41(0,"li",6)(1,"span",7),i.EFF(2),i.k0s(),i.EFF(3),i.DNE(4,R_,2,0,"svg",8),i.k0s()),2&e){const t=n.$implicit,r=n.index,o=i.XpG();i.Y8G("ngClass",r==o.actualFormIndex?" text-primary ":r<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),i.R7$(),i.Y8G("classList",r<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),i.R7$(),i.SpI(" ",r+1," "),i.R7$(),i.SpI(" ",t.data.title," "),i.R7$(),i.Y8G("ngIf",r+1<=o.forms.length-1)}}function I_(e,n){}let N_=(()=>{class e{constructor(){this.onCreateModal=new i.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}ngAfterViewInit(){const t=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(t),this.cdr.detectChanges()}loadComponent(t){const r=this.forms[t],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(r.component);s.instance.step=t,s.instance.fields=r.dynamicFields,s.instance.data=r.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-modal-service-mobile"]],viewQuery:function(r,o){if(1&r&&i.GBs(R,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[i.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"ol",2),i.DNE(3,B_,5,5,"li",3),i.k0s()(),i.j41(4,"div",4),i.DNE(5,I_,0,0,"ng-template",5),i.k0s()()),2&r&&(i.R7$(3),i.Y8G("ngForOf",o.forms))},dependencies:[k.MD,k.YU,k.Sq,k.bT,R],encapsulation:2})}return e})(),O_=(()=>{class e{constructor(){this.validators=[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-input-select"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[i.aNF],decls:1,vars:2,consts:[[3,"items","formControl"]],template:function(r,o){1&r&&i.nrm(0,"app-select",0),2&r&&i.Y8G("items",o.data.items)("formControl",o.formControl)},dependencies:[k.MD,V,T.X1,T.BC,T.l_,T.YN],encapsulation:2})}return e})(),M_=(()=>{class e{constructor(){this.validators=[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-input-file"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[[3,"formControl"]],template:function(r,o){1&r&&i.nrm(0,"app-file-input",0),2&r&&i.Y8G("formControl",o.formControl)},dependencies:[k.MD,Ce,T.YN,T.BC,T.X1,T.l_],encapsulation:2})}return e})();const P_=e=>{let n=e.httpHandler;return{setHttpHandler(t){n=t},httpHandler:()=>n,updateHttpClientConfig(t,r){n.updateHttpClientConfig(t,r)},httpHandlerConfigs:()=>n.httpHandlerConfigs()}},F_=e=>({httpHandler:e.httpHandler()});var Eo=function(e){return e.HTTP="http",e.HTTPS="https",e}(Eo||{}),Jr=function(e){return e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e}(Jr||{});const Xs="__smithy_context";class Te{constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.slice(-1)?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const t=new Te({...n,headers:{...n.headers}});return t.query&&(t.query=function z_(e){return Object.keys(e).reduce((n,t)=>{const r=e[t];return{...n,[t]:Array.isArray(r)?[...r]:r}},{})}(t.query)),t}static isInstance(n){return!!n&&("method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&"object"==typeof n.query&&"object"==typeof n.headers)}clone(){return Te.clone(this)}}class bn{constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){return!!n&&("number"==typeof n.statusCode&&"object"==typeof n.headers)}}const H_={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},V_=e=>({applyToStack:n=>{n.add(function $_(e){return n=>function(){var t=(0,g.A)(function*(r){const{request:o}=r;return Te.isInstance(o)&&o.body&&"node"===e.runtime&&"FetchHttpHandler"!==e.requestHandler?.constructor?.name&&(o.headers={...o.headers,Expect:"100-continue"}),n({...r,request:o})});return function(r){return t.apply(this,arguments)}}()}(e),H_)}}),q_=e=>n=>function(){var t=(0,g.A)(function*(r){if(!Te.isInstance(r.request))return n(r);const{request:o}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let a=o.hostname;null!=o.port&&(a+=`:${o.port}`),o.headers.host=a}return n(r)});return function(r){return t.apply(this,arguments)}}(),K_={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},W_=()=>(e,n)=>function(){var t=(0,g.A)(function*(r){try{const o=yield e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:f={}}=n,{overrideInputFilterSensitiveLog:m,overrideOutputFilterSensitiveLog:x}=f,b=m??n.inputFilterSensitiveLog,v=x??n.outputFilterSensitiveLog,{$metadata:O,...H}=o.output;return c?.info?.({clientName:s,commandName:a,input:b(r.input),output:v(H),metadata:O}),o}catch(o){const{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:f={}}=n,{overrideInputFilterSensitiveLog:m}=f,x=m??n.inputFilterSensitiveLog;throw c?.error?.({clientName:s,commandName:a,input:x(r.input),error:o,metadata:o.$metadata}),o}});return function(r){return t.apply(this,arguments)}}(),Y_={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},nu="X-Amzn-Trace-Id",ep=e=>n=>function(){var t=(0,g.A)(function*(r){const{request:o}=r;if(!Te.isInstance(o)||"node"!==e.runtime||o.headers.hasOwnProperty(nu))return n(r);const s=process.env.AWS_LAMBDA_FUNCTION_NAME,a=process.env._X_AMZN_TRACE_ID,c=f=>"string"==typeof f&&f.length>0;return c(s)&&c(a)&&(o.headers[nu]=a),n({...r,request:o})});return function(r){return t.apply(this,arguments)}}(),tp={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};class Ws{trace(){}debug(){}info(){}warn(){}error(){}}const Cn=(e,n)=>{const t=[];if(e&&t.push(e),n)for(const r of n)t.push(r);return t},on=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,Ao=()=>{let e=[],n=[],t=!1;const r=new Set,c=b=>(e.forEach(v=>{b.add(v.middleware,{...v})}),n.forEach(v=>{b.addRelativeTo(v.middleware,{...v})}),b.identifyOnResolve?.(x.identifyOnResolve()),b),f=b=>{const v=[];return b.before.forEach(O=>{0===O.before.length&&0===O.after.length?v.push(O):v.push(...f(O))}),v.push(b),b.after.reverse().forEach(O=>{0===O.before.length&&0===O.after.length?v.push(O):v.push(...f(O))}),v},m=(b=!1)=>{const v=[],O=[],H={};return e.forEach($=>{const se={...$,before:[],after:[]};for(const ie of Cn(se.name,se.aliases))H[ie]=se;v.push(se)}),n.forEach($=>{const se={...$,before:[],after:[]};for(const ie of Cn(se.name,se.aliases))H[ie]=se;O.push(se)}),O.forEach($=>{if($.toMiddleware){const se=H[$.toMiddleware];if(void 0===se){if(b)return;throw new Error(`${$.toMiddleware} is not found when adding ${on($.name,$.aliases)} middleware ${$.relation} ${$.toMiddleware}`)}"after"===$.relation&&se.after.push($),"before"===$.relation&&se.before.push($)}}),(b=>b.sort((v,O)=>ru[O.step]-ru[v.step]||ou[O.priority||"normal"]-ou[v.priority||"normal"]))(v).map(f).reduce(($,se)=>($.push(...se),$),[])},x={add:(b,v={})=>{const{name:O,override:H,aliases:Z}=v,$={step:"initialize",priority:"normal",middleware:b,...v},se=Cn(O,Z);if(se.length>0){if(se.some(ie=>r.has(ie))){if(!H)throw new Error(`Duplicate middleware name '${on(O,Z)}'`);for(const ie of se){const Ue=e.findIndex(ht=>ht.name===ie||ht.aliases?.some(xn=>xn===ie));if(-1===Ue)continue;const we=e[Ue];if(we.step!==$.step||$.priority!==we.priority)throw new Error(`"${on(we.name,we.aliases)}" middleware with ${we.priority} priority in ${we.step} step cannot be overridden by "${on(O,Z)}" middleware with ${$.priority} priority in ${$.step} step.`);e.splice(Ue,1)}}for(const ie of se)r.add(ie)}e.push($)},addRelativeTo:(b,v)=>{const{name:O,override:H,aliases:Z}=v,$={middleware:b,...v},se=Cn(O,Z);if(se.length>0){if(se.some(ie=>r.has(ie))){if(!H)throw new Error(`Duplicate middleware name '${on(O,Z)}'`);for(const ie of se){const Ue=n.findIndex(ht=>ht.name===ie||ht.aliases?.some(xn=>xn===ie));if(-1===Ue)continue;const we=n[Ue];if(we.toMiddleware!==$.toMiddleware||we.relation!==$.relation)throw new Error(`"${on(we.name,we.aliases)}" middleware ${we.relation} "${we.toMiddleware}" middleware cannot be overridden by "${on(O,Z)}" middleware ${$.relation} "${$.toMiddleware}" middleware.`);n.splice(Ue,1)}}for(const ie of se)r.add(ie)}n.push($)},clone:()=>c(Ao()),use:b=>{b.applyToStack(x)},remove:b=>"string"==typeof b?(b=>{let v=!1;const O=H=>{const Z=Cn(H.name,H.aliases);if(Z.includes(b)){v=!0;for(const $ of Z)r.delete($);return!1}return!0};return e=e.filter(O),n=n.filter(O),v})(b):(b=>{let v=!1;const O=H=>{if(H.middleware===b){v=!0;for(const Z of Cn(H.name,H.aliases))r.delete(Z);return!1}return!0};return e=e.filter(O),n=n.filter(O),v})(b),removeByTag:b=>{let v=!1;const O=H=>{const{tags:Z,name:$,aliases:se}=H;if(Z&&Z.includes(b)){const ie=Cn($,se);for(const Ue of ie)r.delete(Ue);return v=!0,!1}return!0};return e=e.filter(O),n=n.filter(O),v},concat:b=>{const v=c(Ao());return v.use(b),v.identifyOnResolve(t||v.identifyOnResolve()||(b.identifyOnResolve?.()??!1)),v},applyToStack:c,identify:()=>m(!0).map(b=>{const v=b.step??b.relation+" "+b.toMiddleware;return on(b.name,b.aliases)+" - "+v}),identifyOnResolve:b=>("boolean"==typeof b&&(t=b),t),resolve:(b,v)=>{for(const O of m().map(H=>H.middleware).reverse())b=O(b,v);return t&&console.log(x.identify()),b}};return x},ru={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ou={high:3,normal:2,low:1};class rp{constructor(n){this.middlewareStack=Ao(),this.config=n}send(n,t,r){const s="function"==typeof t?t:r,a=n.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof t?t:void 0);if(!s)return a(n).then(c=>c.output);a(n).then(c=>s(null,c.output),c=>s(c)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const sn={},tr=new Array(64);for(let e=0,n=65,t=90;e+n<=t;e++){const r=String.fromCharCode(e+n);sn[r]=e,tr[e]=r}for(let e=0,n=97,t=122;e+n<=t;e++){const r=String.fromCharCode(e+n),o=e+26;sn[r]=o,tr[o]=r}for(let e=0;e<10;e++){sn[e.toString(10)]=e+52;const n=e.toString(10),t=e+52;sn[n]=t,tr[t]=n}sn["+"]=62,tr[62]="+",sn["/"]=63,tr[63]="/";const Ys=e=>{let n=e.length/4*3;"=="===e.slice(-2)?n-=2:"="===e.slice(-1)&&n--;const t=new ArrayBuffer(n),r=new DataView(t);for(let o=0;o<e.length;o+=4){let s=0,a=0;for(let m=o,x=o+3;m<=x;m++)if("="!==e[m]){if(!(e[m]in sn))throw new TypeError(`Invalid character ${e[m]} in base64 string.`);s|=sn[e[m]]<<6*(x-m),a+=6}else s>>=6;const c=o/4*3;s>>=a%8;const f=Math.floor(a/8);for(let m=0;m<f;m++){const x=8*(f-m-1);r.setUint8(c+m,(s&255<<x)>>x)}}return new Uint8Array(t)},Sn=e=>(new TextEncoder).encode(e);function Qs(e){let n;if(n="string"==typeof e?Sn(e):e,!("object"==typeof n&&"number"==typeof n.length||"object"==typeof n&&"number"==typeof n.byteOffset&&"number"==typeof n.byteLength))throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let s=0;s<n.length;s+=3){let a=0,c=0;for(let m=s,x=Math.min(s+3,n.length);m<x;m++)a|=n[m]<<8*(x-m-1),c+=8;const f=Math.ceil(c/6);a<<=6*f-c;for(let m=1;m<=f;m++){const x=6*(f-m);o+=tr[(a&63<<x)>>x]}o+="==".slice(0,4-f)}return o}const Js=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};class En extends Uint8Array{static fromString(n,t="utf-8"){if("string"==typeof n)return function ip(e,n){return En.mutate("base64"===n?Ys(e):Sn(e))}(n,t);throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}static mutate(n){return Object.setPrototypeOf(n,En.prototype),n}transformToString(n="utf-8"){return function sp(e,n="utf-8"){return"base64"===n?Qs(e):Js(e)}(this,n)}}const ap=(e,n)=>{const{base64Encoder:t,bodyLengthChecker:r,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:a}=n,c=void 0!==t&&void 0!==r&&void 0!==o&&void 0!==s&&void 0!==a,f=c?a(o,e):void 0,m=e.getReader();return new ReadableStream({pull:x=>(0,g.A)(function*(){const{value:b,done:v}=yield m.read();if(v){if(x.enqueue("0\r\n"),c){const O=t(yield f);x.enqueue(`${s}:${O}\r\n`),x.enqueue("\r\n")}x.close()}else x.enqueue(`${(r(b)||0).toString(16)}\r\n${b}\r\n`)})()})},an=e=>encodeURIComponent(e).replace(/[!'()*]/g,cp),cp=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function lp(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{const r=new Error(`Request did not complete within ${e} ms`);r.name="TimeoutError",t(r)},e)})}const Zs={supported:void 0};class ei{static create(n){return"function"==typeof n?.handle?n:new ei(n)}constructor(n){"function"==typeof n?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),void 0===Zs.supported&&(Zs.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(n,{abortSignal:t}={}){var r=this;return(0,g.A)(function*(){r.config||(r.config=yield r.configProvider);const o=r.config.requestTimeout,s=!0===r.config.keepAlive,a=r.config.credentials;if(t?.aborted){const ie=new Error("Request aborted");return ie.name="AbortError",Promise.reject(ie)}let c=n.path;const f=function up(e){const n=[];for(let t of Object.keys(e).sort()){const r=e[t];if(t=an(t),Array.isArray(r))for(let o=0,s=r.length;o<s;o++)n.push(`${t}=${an(r[o])}`);else{let o=t;(r||"string"==typeof r)&&(o+=`=${an(r)}`),n.push(o)}}return n.join("&")}(n.query||{});f&&(c+=`?${f}`),n.fragment&&(c+=`#${n.fragment}`);let m="";null==n.username&&null==n.password||(m=`${n.username??""}:${n.password??""}@`);const{port:x,method:b}=n,v=`${n.protocol}//${m}${n.hostname}${x?`:${x}`:""}${c}`,O="GET"===b||"HEAD"===b?void 0:n.body,H={body:O,headers:new Headers(n.headers),method:b,credentials:a};O&&(H.duplex="half"),typeof AbortController<"u"&&(H.signal=t),Zs.supported&&(H.keepalive=s);let Z=()=>{};const $=new Request(v,H),se=[fetch($).then(ie=>{const Ue=ie.headers,we={};for(const xn of Ue.entries())we[xn[0]]=xn[1];return null!=ie.body?{response:new bn({headers:we,reason:ie.statusText,statusCode:ie.status,body:ie.body})}:ie.blob().then(xn=>({response:new bn({headers:we,reason:ie.statusText,statusCode:ie.status,body:xn})}))}),lp(o)];return t&&se.push(new Promise((ie,Ue)=>{const we=()=>{const ht=new Error("Request aborted");ht.name="AbortError",Ue(ht)};if("function"==typeof t.addEventListener){const ht=t;ht.addEventListener("abort",we,{once:!0}),Z=()=>ht.removeEventListener("abort",we)}else t.onabort=we})),Promise.race(se).finally(Z)})()}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[n]=t,r))}httpHandlerConfigs(){return this.config??{}}}const su=e=>"function"==typeof Blob&&e instanceof Blob?function dp(e){return ti.apply(this,arguments)}(e):function fp(e){return ni.apply(this,arguments)}(e);function ti(){return(ti=(0,g.A)(function*(e){const n=yield function _p(e){return new Promise((n,t)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return t(new Error("Reader aborted too early"));const o=r.result??"",s=o.indexOf(",");n(o.substring(s>-1?s+1:o.length))},r.onabort=()=>t(new Error("Read aborted")),r.onerror=()=>t(r.error),r.readAsDataURL(e)})}(e),t=Ys(n);return new Uint8Array(t)})).apply(this,arguments)}function ni(){return(ni=(0,g.A)(function*(e){const n=[],t=e.getReader();let r=!1,o=0;for(;!r;){const{done:c,value:f}=yield t.read();f&&(n.push(f),o+=f.length),r=c}const s=new Uint8Array(o);let a=0;for(const c of n)s.set(c,a),a+=c.length;return s})).apply(this,arguments)}const iu={},ri={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();1===n.length&&(n=`0${n}`),iu[e]=n,ri[n]=e}function au(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){const r=e.slice(t,t+2).toLowerCase();if(!(r in ri))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);n[t/2]=ri[r]}return n}function _t(e){let n="";for(let t=0;t<e.byteLength;t++)n+=iu[e[t]];return n}const cu=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),uu="The stream has already been transformed.",pp=e=>{if(!lu(e)&&!cu(e))throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`);let n=!1;const t=function(){var o=(0,g.A)(function*(){if(n)throw new Error(uu);return n=!0,yield su(e)});return function(){return o.apply(this,arguments)}}();return Object.assign(e,{transformToByteArray:t,transformToString:(o=(0,g.A)(function*(s){const a=yield t();if("base64"===s)return Qs(a);if("hex"===s)return _t(a);if(void 0===s||"utf8"===s||"utf-8"===s)return Js(a);if("function"==typeof TextDecoder)return new TextDecoder(s).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),function(a){return o.apply(this,arguments)}),transformToWebStream:()=>{if(n)throw new Error(uu);if(n=!0,lu(e))return(o=>{if("function"!=typeof o.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return o.stream()})(e);if(cu(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}});var o},lu=e=>"function"==typeof Blob&&e instanceof Blob;function oi(){return(oi=(0,g.A)(function*(e){return"function"==typeof e.stream&&(e=e.stream()),e.tee()})).apply(this,arguments)}function si(){return(si=(0,g.A)(function*(e,n){let t=0;const r=[],o=e.getReader();let s=!1;for(;!s;){const{done:f,value:m}=yield o.read();if(m&&(r.push(m),t+=m?.byteLength??0),t>=n)break;s=f}o.releaseLock();const a=new Uint8Array(Math.min(n,t));let c=0;for(const f of r){if(f.byteLength>a.byteLength-c){a.set(f.subarray(0,a.byteLength-c),c);break}a.set(f,c),c+=f.length}return a})).apply(this,arguments)}const ii=function(){var e=(0,g.A)(function*(n=new Uint8Array,t){if(n instanceof Uint8Array)return En.mutate(n);if(!n)return En.mutate(new Uint8Array);const r=t.streamCollector(n);return En.mutate(yield r)});return function(){return e.apply(this,arguments)}}();class eo{constructor(){this.middlewareStack=Ao()}static classBuilder(){return new gp}resolveMiddlewareWithContext(n,t,r,{middlewareFn:o,clientName:s,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:f,smithyContext:m,additionalContext:x,CommandCtor:b}){for(const $ of o.bind(this)(b,n,t,r))this.middlewareStack.use($);const v=n.concat(this.middlewareStack),{logger:O}=t,H={logger:O,clientName:s,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:f,[Xs]:{commandInstance:this,...m},...x},{requestHandler:Z}=t;return v.resolve($=>Z.handle($.request,r||{}),H)}}class gp{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=n=>n,this._outputFilterSensitiveLog=n=>n,this._serializer=null,this._deserializer=null}init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,r={}){return this._smithyContext={service:n,operation:t,...r},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=r=>r,t=r=>r){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}build(){const n=this;let t;return t=class extends eo{static getEndpointParameterInstructions(){return n._ep}constructor(...[r]){super(),this.serialize=n._serializer,this.deserialize=n._deserializer,this.input=r??{},n._init(this)}resolveMiddleware(r,o,s){return this.resolveMiddlewareWithContext(r,o,s,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog,outputFilterSensitiveLog:n._outputFilterSensitiveLog,smithyContext:n._smithyContext,additionalContext:n._additionalContext})}}}}const Zt="***SensitiveInformation***",wo=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},yp=Math.ceil(2**127*(2-2**-23)),ai=e=>{const n=(e=>{if(null!=e){if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Ro.warn(To(`Expected number but observed string: ${e}`)),n}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}})(e);if(void 0!==n&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>yp)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},ci=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},ui=(e,n)=>{const t=ci(e);if(void 0!==t&&xp(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},xp=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},to=(e,n)=>{if(null==e)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},no=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Ro.warn(To(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Cp=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,rr=e=>{const n=e.match(Cp);if(null===n||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},li=e=>(e=>ui(e,32))("string"==typeof e?rr(e):e),ko=e=>(e=>ui(e,16))("string"==typeof e?rr(e):e),To=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join("\n"),Ro={warn:console.warn},Ap=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],di=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bo(e){const n=e.getUTCFullYear(),t=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds();return`${Ap[r]}, ${o<10?`0${o}`:`${o}`} ${di[t]} ${n} ${s<10?`0${s}`:`${s}`}:${a<10?`0${a}`:`${a}`}:${c<10?`0${c}`:`${c}`} GMT`}const vp=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),hu=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=vp.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[t,r,o,s,a,c,f,m,x]=n,b=ko(or(r)),v=$t(o,"month",1,12),O=$t(s,"day",1,31),H=ro(b,v,O,{hours:a,minutes:c,seconds:f,fractionalMilliseconds:m});return"Z"!=x.toUpperCase()&&H.setTime(H.getTime()-Dp(x)),H},kp=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Tp=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),Rp=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),fi=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=kp.exec(e);if(n){const[t,r,o,s,a,c,f,m]=n;return ro(ko(or(s)),_i(o),$t(r,"day",1,31),{hours:a,minutes:c,seconds:f,fractionalMilliseconds:m})}if(n=Tp.exec(e),n){const[t,r,o,s,a,c,f,m]=n;return Np(ro(Bp(s),_i(o),$t(r,"day",1,31),{hours:a,minutes:c,seconds:f,fractionalMilliseconds:m}))}if(n=Rp.exec(e),n){const[t,r,o,s,a,c,f,m]=n;return ro(ko(or(m)),_i(r),$t(o.trimLeft(),"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:f})}throw new TypeError("Invalid RFC-7231 date-time value")},ro=(e,n,t,r)=>{const o=n-1;return Mp(e,o,t),new Date(Date.UTC(e,o,t,$t(r.hours,"hour",0,23),$t(r.minutes,"minute",0,59),$t(r.seconds,"seconds",0,60),Fp(r.fractionalMilliseconds)))},Bp=e=>{const n=(new Date).getUTCFullYear(),t=100*Math.floor(n/100)+ko(or(e));return t<n?t+100:t},Np=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,_i=e=>{const n=di.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},Op=[31,28,31,30,31,30,31,31,30,31,30,31],Mp=(e,n,t)=>{let r=Op[n];if(1===n&&Pp(e)&&(r=29),t>r)throw new TypeError(`Invalid day for ${di[n]} in ${e}: ${t}`)},Pp=e=>e%4==0&&(e%100!=0||e%400==0),$t=(e,n,t,r)=>{const o=(e=>(e=>ui(e,8))("string"==typeof e?rr(e):e))(or(e));if(o<t||o>r)throw new TypeError(`${n} must be between ${t} and ${r}, inclusive`);return o},Fp=e=>null==e?0:1e3*(e=>ai("string"==typeof e?rr(e):e))("0."+e),Dp=e=>{const n=e[0];let t=1;if("+"==n)t=1;else{if("-"!=n)throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);t=-1}return t*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},or=e=>{let n=0;for(;n<e.length-1&&"0"===e.charAt(n);)n++;return 0===n?e:e.slice(n)};class pi extends Error{constructor(n){super(n.message),Object.setPrototypeOf(this,pi.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}}const Ht=(e,n={})=>(Object.entries(n).filter(([,r])=>void 0!==r).forEach(([r,o])=>{(null==e[r]||""===e[r])&&(e[r]=o)}),e.message=e.message||e.Message||"UnknownError",delete e.Message,e),jp=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},zp=e=>{const n=[];for(const t in Jr){const r=Jr[t];void 0!==e[r]&&n.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:n,addChecksumAlgorithm(t){this._checksumAlgorithms.push(t)},checksumAlgorithms(){return this._checksumAlgorithms}}},$p=e=>{const n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},Hp=e=>{let n=e.retryStrategy;return{setRetryStrategy(t){n=t},retryStrategy:()=>n}},Vp=e=>{const n={};return n.retryStrategy=e.retryStrategy(),n},qp=e=>({...zp(e),...Hp(e)}),Kp=e=>({...$p(e),...Vp(e)}),gu=e=>{const n="#text";for(const t in e)e.hasOwnProperty(t)&&void 0!==e[t][n]?e[t]=e[t][n]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=gu(e[t]));return e},mi=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function Re(e,n,t){let r,o,s;if(typeof n>"u"&&typeof t>"u")r={},s=e;else{if(r=e,"function"==typeof n)return o=n,s=t,Xp(r,o,s);s=n}for(const a of Object.keys(s))Array.isArray(s[a])?yu(r,null,s,a):r[a]=s[a];return r}mi.prototype=Object.create(String.prototype,{constructor:{value:mi,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(mi,String);const Xp=(e,n,t)=>Re(e,Object.entries(t).reduce((r,[o,s])=>(r[o]=Array.isArray(s)?s:"function"==typeof s?[n,s()]:[n,s],r),{})),yu=(e,n,t,r)=>{if(null!==n){let a=t[r];"function"==typeof a&&(a=[,a]);const[c=Wp,f=Yp,m=r]=a;return void(("function"==typeof c&&c(n[m])||"function"!=typeof c&&c)&&(e[r]=f(n[m])))}let[o,s]=t[r];if("function"==typeof s){let a;const c=void 0===o&&null!=(a=s()),f="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;c?e[r]=a:f&&(e[r]=s())}else{const a=void 0===o&&null!=s,c="function"==typeof o&&!!o(s)||"function"!=typeof o&&!!o;(a||c)&&(e[r]=s)}},Wp=e=>null!=e,Yp=e=>e;function xu(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}const tm={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},nm=e=>({applyToStack:n=>{n.add(function em(){return(e,n)=>function(){var t=(0,g.A)(function*(r){const{request:o}=r;if(Te.isInstance(o)&&!("content-length"in o.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof n?.logger?.warn||n.logger instanceof Ws?console.warn(s):n.logger.warn(s)}return e({...r})});return function(r){return t.apply(this,arguments)}}()}(),tm)}}),rm=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){const s=yield e.region(),a=e.region;let c=()=>{};var f;t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:(f=(0,g.A)(function*(){return t.__s3RegionRedirect}),function(){return f.apply(this,arguments)})}),c=()=>Object.defineProperty(e,"region",{writable:!0,value:a}));try{const f=yield n(o);if(t.__s3RegionRedirect&&(c(),s!==(yield e.region())))throw new Error("Region was not restored following S3 region redirect.");return f}catch(f){throw c(),f}});return function(o){return r.apply(this,arguments)}}(),om={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},im={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},am=e=>({applyToStack:n=>{n.add(function sm(e){return(n,t)=>function(){var r=(0,g.A)(function*(o){try{return yield n(o)}catch(s){if(e.followRegionRedirects&&301===s?.$metadata?.httpStatusCode){try{const a=s.$response.headers["x-amz-bucket-region"];t.logger?.debug(`Redirecting from ${yield e.region()} to ${a}`),t.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return n(o)}throw s}});return function(o){return r.apply(this,arguments)}}()}(e),im),n.addRelativeTo(rm(e),om)}}),cm=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){const s=yield n(o),{response:a}=s;if(bn.isInstance(a)&&a.headers.expires){a.headers.expiresstring=a.headers.expires;try{fi(a.headers.expires)}catch(c){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${a.headers.expires}): ${c}`),delete a.headers.expires}}return s});return function(o){return r.apply(this,arguments)}}(),um={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"};let dm=(()=>{class e{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}purgeExpired(){var t=this;return(0,g.A)(function*(){const r=Date.now();if(!(t.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(const o in t.data){const s=t.data[o];if(!s.isRefreshing){const a=yield s.identity;a.expiration&&a.expiration.getTime()<r&&delete t.data[o]}}})()}}return e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,e})();class hi{constructor(n,t=!1,r=Date.now()){this._identity=n,this.isRefreshing=t,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}}let fm=(()=>{class e{constructor(t,r=new dm){this.createSessionFn=t,this.cache=r}getS3ExpressIdentity(t,r){var o=this;return(0,g.A)(function*(){const s=r.Bucket,{cache:a}=o,c=a.get(s);return c?c.identity.then(f=>(f.expiration?.getTime()??0)<Date.now()?a.set(s,new hi(o.getIdentity(s))).identity:((f.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!c.isRefreshing&&(c.isRefreshing=!0,o.getIdentity(s).then(b=>{a.set(s,new hi(Promise.resolve(b)))})),f)):a.set(s,new hi(o.getIdentity(s))).identity})()}getIdentity(t){var r=this;return(0,g.A)(function*(){yield r.cache.purgeExpired().catch(a=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+a)});const o=yield r.createSessionFn(t);if(!o.Credentials?.AccessKeyId||!o.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretAccessKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration?new Date(o.Credentials.Expiration):void 0}})()}}return e.REFRESH_WINDOW_MS=6e4,e})();const sr=e=>e[Xs]||(e[Xs]={}),cn=e=>{if("function"==typeof e)return e;const n=Promise.resolve(e);return()=>n},ir=e=>"string"==typeof e?Sn(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),bu="X-Amz-Date",Cu="X-Amz-Signature",Su="X-Amz-Security-Token",Eu="authorization",Au=bu.toLowerCase(),gm=[Eu,Au,"date"],ym=Cu.toLowerCase(),gi="x-amz-content-sha256",xm=Su.toLowerCase(),bm={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Cm=/^proxy-/,Sm=/^sec-/,yi="AWS4-HMAC-SHA256",Em="AWS4-HMAC-SHA256-PAYLOAD",wu="aws4_request",ar={},No=[],xi=(e,n,t)=>`${e}/${n}/${t}/${wu}`,km=function(){var e=(0,g.A)(function*(n,t,r,o,s){const c=`${r}:${o}:${s}:${_t(yield vu(n,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(c in ar)return ar[c];for(No.push(c);No.length>50;)delete ar[No.shift()];let f=`AWS4${t.secretAccessKey}`;for(const m of[r,o,s,wu])f=yield vu(n,f,m);return ar[c]=f});return function(t,r,o,s,a){return e.apply(this,arguments)}}(),vu=(e,n,t)=>{const r=new e(n);return r.update(ir(t)),r.digest()},ku=({headers:e},n,t)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const s=o.toLowerCase();(s in bm||n?.has(s)||Cm.test(s)||Sm.test(s))&&(!t||t&&!t.has(s))||(r[s]=e[o].trim().replace(/\s+/g," "))}return r},Tu=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),bi=function(){var e=(0,g.A)(function*({headers:n,body:t},r){for(const o of Object.keys(n))if(o.toLowerCase()===gi)return n[o];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||Tu(t)){const o=new r;return o.update(ir(t)),_t(yield o.digest())}return"UNSIGNED-PAYLOAD"});return function(t,r){return e.apply(this,arguments)}}();class Rm{format(n){const t=[];for(const s of Object.keys(n)){const a=Sn(s);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(n[s]))}const r=new Uint8Array(t.reduce((s,a)=>s+a.byteLength,0));let o=0;for(const s of t)r.set(s,o),o+=s.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(n.value.bytes,1),o;case"binary":const s=new DataView(new ArrayBuffer(3+n.value.byteLength));s.setUint8(0,6),s.setUint16(1,n.value.byteLength,!1);const a=new Uint8Array(s.buffer);return a.set(n.value,3),a;case"string":const c=Sn(n.value),f=new DataView(new ArrayBuffer(3+c.byteLength));f.setUint8(0,7),f.setUint16(1,c.byteLength,!1);const m=new Uint8Array(f.buffer);return m.set(c,3),m;case"timestamp":const x=new Uint8Array(9);return x[0]=8,x.set(Ci.fromNumber(n.value.valueOf()).bytes,1),x;case"uuid":if(!Im.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const b=new Uint8Array(17);return b[0]=9,b.set(au(n.value.replace(/\-/g,"")),1),b}}}const Im=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Ci{constructor(n){if(this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(n));r>-1&&o>0;r--,o/=256)t[r]=o;return n<0&&Ru(t),new Ci(t)}valueOf(){const n=this.bytes.slice(0),t=128&n[0];return t&&Ru(n),parseInt(_t(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function Ru(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,0===e[n]);n--);}const Bu=e=>{e=Te.clone(e);for(const n of Object.keys(e.headers))gm.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e};class Si{constructor({applyChecksum:n,credentials:t,region:r,service:o,sha256:s,uriEscapePath:a=!0}){this.headerFormatter=new Rm,this.service=o,this.sha256=s,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof n||n,this.regionProvider=cn(r),this.credentialProvider=cn(t)}presign(n,t={}){var r=this;return(0,g.A)(function*(){const{signingDate:o=new Date,expiresIn:s=3600,unsignableHeaders:a,unhoistableHeaders:c,signableHeaders:f,signingRegion:m,signingService:x}=t,b=yield r.credentialProvider();r.validateResolvedCredentials(b);const v=m??(yield r.regionProvider()),{longDate:O,shortDate:H}=Oo(o);if(s>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Z=xi(H,v,x??r.service),$=((e,n={})=>{const{headers:t,query:r={}}=Te.clone(e);for(const o of Object.keys(t)){const s=o.toLowerCase();"x-amz-"===s.slice(0,6)&&!n.unhoistableHeaders?.has(s)&&(r[o]=t[o],delete t[o])}return{...e,headers:t,query:r}})(Bu(n),{unhoistableHeaders:c});b.sessionToken&&($.query[Su]=b.sessionToken),$.query["X-Amz-Algorithm"]=yi,$.query["X-Amz-Credential"]=`${b.accessKeyId}/${Z}`,$.query[bu]=O,$.query["X-Amz-Expires"]=s.toString(10);const se=ku($,a,f);return $.query["X-Amz-SignedHeaders"]=Iu(se),$.query[Cu]=yield r.getSignature(O,Z,r.getSigningKey(b,v,H,x),r.createCanonicalRequest($,se,yield bi(n,r.sha256))),$})()}sign(n,t){var r=this;return(0,g.A)(function*(){return"string"==typeof n?r.signString(n,t):n.headers&&n.payload?r.signEvent(n,t):n.message?r.signMessage(n,t):r.signRequest(n,t)})()}signEvent({headers:n,payload:t},{signingDate:r=new Date,priorSignature:o,signingRegion:s,signingService:a}){var c=this;return(0,g.A)(function*(){const f=s??(yield c.regionProvider()),{shortDate:m,longDate:x}=Oo(r),b=xi(m,f,a??c.service),v=yield bi({headers:{},body:t},c.sha256),O=new c.sha256;O.update(n);const H=_t(yield O.digest()),Z=[Em,x,b,o,H,v].join("\n");return c.signString(Z,{signingDate:r,signingRegion:f,signingService:a})})()}signMessage(n,{signingDate:t=new Date,signingRegion:r,signingService:o}){var s=this;return(0,g.A)(function*(){return s.signEvent({headers:s.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:r,signingService:o,priorSignature:n.priorSignature}).then(c=>({message:n.message,signature:c}))})()}signString(n,{signingDate:t=new Date,signingRegion:r,signingService:o}={}){var s=this;return(0,g.A)(function*(){const a=yield s.credentialProvider();s.validateResolvedCredentials(a);const c=r??(yield s.regionProvider()),{shortDate:f}=Oo(t),m=new s.sha256(yield s.getSigningKey(a,c,f,o));return m.update(ir(n)),_t(yield m.digest())})()}signRequest(n,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:o,signingRegion:s,signingService:a}={}){var c=this;return(0,g.A)(function*(){const f=yield c.credentialProvider();c.validateResolvedCredentials(f);const m=s??(yield c.regionProvider()),x=Bu(n),{longDate:b,shortDate:v}=Oo(t),O=xi(v,m,a??c.service);x.headers[Au]=b,f.sessionToken&&(x.headers[xm]=f.sessionToken);const H=yield bi(x,c.sha256);!((e,n)=>{e=e.toLowerCase();for(const t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1})(gi,x.headers)&&c.applyChecksum&&(x.headers[gi]=H);const Z=ku(x,o,r),$=yield c.getSignature(b,O,c.getSigningKey(f,m,v,a),c.createCanonicalRequest(x,Z,H));return x.headers[Eu]=`${yi} Credential=${f.accessKeyId}/${O}, SignedHeaders=${Iu(Z)}, Signature=${$}`,x})()}createCanonicalRequest(n,t,r){const o=Object.keys(t).sort();return`${n.method}\n${this.getCanonicalPath(n)}\n${(({query:e={}})=>{const n=[],t={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===ym)continue;n.push(r);const o=e[r];"string"==typeof o?t[r]=`${an(r)}=${an(o)}`:Array.isArray(o)&&(t[r]=o.slice(0).reduce((s,a)=>s.concat([`${an(r)}=${an(a)}`]),[]).sort().join("&"))}return n.map(r=>t[r]).filter(r=>r).join("&")})(n)}\n${o.map(s=>`${s}:${t[s]}`).join("\n")}\n\n${o.join(";")}\n${r}`}createStringToSign(n,t,r){var o=this;return(0,g.A)(function*(){const s=new o.sha256;s.update(ir(r));const a=yield s.digest();return`${yi}\n${n}\n${t}\n${_t(a)}`})()}getCanonicalPath({path:n}){if(this.uriEscapePath){const t=[];for(const s of n.split("/"))0!==s?.length&&"."!==s&&(".."===s?t.pop():t.push(s));const r=`${n?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&n?.endsWith("/")?"/":""}`;return an(r).replace(/%2F/g,"/")}return n}getSignature(n,t,r,o){var s=this;return(0,g.A)(function*(){const a=yield s.createStringToSign(n,t,o),c=new s.sha256(yield r);return c.update(ir(a)),_t(yield c.digest())})()}getSigningKey(n,t,r,o){return km(this.sha256,n,r,t,o||this.service)}validateResolvedCredentials(n){if("object"!=typeof n||"string"!=typeof n.accessKeyId||"string"!=typeof n.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Oo=e=>{const n=(e=>(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},Iu=e=>Object.keys(e).sort().join(";"),Ei="X-Amz-S3session-Token",Ai=Ei.toLowerCase();class jm extends Si{signWithCredentials(n,t,r){var o=this;return(0,g.A)(function*(){const s=Nu(t);n.headers[Ai]=t.sessionToken;const a=o;return Ou(a,s),a.signRequest(n,r??{})})()}presignWithCredentials(n,t,r){var o=this;return(0,g.A)(function*(){const s=Nu(t);return delete n.headers[Ai],n.headers[Ei]=t.sessionToken,n.query=n.query??{},n.query[Ei]=t.sessionToken,Ou(o,s),o.presign(n,r)})()}}function Nu(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function Ou(e,n){const t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=e.credentialProvider;e.credentialProvider=()=>(clearTimeout(t),e.credentialProvider=r,Promise.resolve(n))}const zm=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){if(t.endpointV2){const s=t.endpointV2,a="sigv4-s3express"===s.properties?.authSchemes?.[0]?.name;if(("S3Express"===s.properties?.backend||"Directory"===s.properties?.bucketType)&&(t.isS3ExpressBucket=!0),a){const f=o.input.Bucket;if(f){const m=yield e.s3ExpressIdentityProvider.getS3ExpressIdentity(yield e.credentials(),{Bucket:f});t.s3ExpressIdentity=m,Te.isInstance(o.request)&&m.sessionToken&&(o.request.headers[Ai]=m.sessionToken)}}}return n(o)});return function(o){return r.apply(this,arguments)}}(),$m={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},qm=(e,n)=>(t,r)=>function(){var o=(0,g.A)(function*(s){const a=e.httpAuthSchemeProvider(yield n.httpAuthSchemeParametersProvider(e,r,s.input)),c=function Vm(e){const n=new Map;for(const t of e)n.set(t.schemeId,t);return n}(e.httpAuthSchemes),f=sr(r),m=[];for(const x of a){const b=c.get(x.schemeId);if(!b){m.push(`HttpAuthScheme \`${x.schemeId}\` was not enabled for this service.`);continue}const v=b.identityProvider(yield n.identityProviderConfigProvider(e));if(!v){m.push(`HttpAuthScheme \`${x.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:O={},signingProperties:H={}}=x.propertiesExtractor?.(e,r)||{};x.identityProperties=Object.assign(x.identityProperties||{},O),x.signingProperties=Object.assign(x.signingProperties||{},H),f.selectedHttpAuthScheme={httpAuthOption:x,identity:yield v(x.identityProperties),signer:b.signer};break}if(!f.selectedHttpAuthScheme)throw new Error(m.join("\n"));return t(s)});return function(s){return o.apply(this,arguments)}}(),Km=function(){var e=(0,g.A)(function*(n){const t=n?.Bucket||"";if("string"==typeof n.Bucket&&(n.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Jm(t)){if(!0===n.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!Qm(t)||-1!==t.indexOf(".")&&!String(n.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(n.ForcePathStyle=!0);return n.DisableMultiRegionAccessPoints&&(n.disableMultiRegionAccessPoints=!0,n.DisableMRAP=!0),n});return function(t){return e.apply(this,arguments)}}(),Xm=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Wm=/(\d+\.){3}\d+/,Ym=/\.\./,Qm=e=>Xm.test(e)&&!Wm.test(e)&&!Ym.test(e),Jm=e=>{const[n,t,r,,,o]=e.split(":"),s="arn"===n&&e.split(":").length>=6,a=!!(s&&t&&r&&o);if(s&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},Zm=(e,n,t)=>{const r=function(){var o=(0,g.A)(function*(){const s=t[e]??t[n];return"function"==typeof s?s():s});return function(){return o.apply(this,arguments)}}();return"credentialScope"===e||"CredentialScope"===n?(0,g.A)(function*(){const o="function"==typeof t.credentials?yield t.credentials():t.credentials;return o?.credentialScope??o?.CredentialScope}):"accountId"===e||"AccountId"===n?(0,g.A)(function*(){const o="function"==typeof t.credentials?yield t.credentials():t.credentials;return o?.accountId??o?.AccountId}):"endpoint"===e||"endpoint"===n?(0,g.A)(function*(){const o=yield r();if(o&&"object"==typeof o){if("url"in o)return o.url.href;if("hostname"in o){const{protocol:s,hostname:a,port:c,path:f}=o;return`${s}//${a}${c?":"+c:""}${f}`}}return o}):r},eh=function(){var e=(0,g.A)(function*(n){});return function(t){return e.apply(this,arguments)}}(),Mo=e=>{if("string"==typeof e)return Mo(new URL(e));const{hostname:n,pathname:t,port:r,protocol:o,search:s}=e;let a;return s&&(a=function th(e){const n={};if(e=e.replace(/^\?/,""))for(const t of e.split("&")){let[r,o=null]=t.split("=");r=decodeURIComponent(r),o&&(o=decodeURIComponent(o)),r in n?Array.isArray(n[r])?n[r].push(o):n[r]=[n[r],o]:n[r]=o}return n}(s)),{hostname:n,port:r?parseInt(r):void 0,protocol:o,path:t,query:a}},Mu=e=>"object"==typeof e?"url"in e?Mo(e.url):e:Mo(e),nh=function(){var e=(0,g.A)(function*(n,t,r,o){if(!r.endpoint){const c=yield eh(r.serviceId||"");c&&(r.endpoint=()=>Promise.resolve(Mu(c)))}const s=yield Pu(n,t,r);if("function"!=typeof r.endpointProvider)throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,o)});return function(t,r,o,s){return e.apply(this,arguments)}}(),Pu=function(){var e=(0,g.A)(function*(n,t,r){const o={},s=t?.getEndpointParameterInstructions?.()||{};for(const[a,c]of Object.entries(s))switch(c.type){case"staticContextParams":o[a]=c.value;break;case"contextParams":o[a]=n[c.name];break;case"clientContextParams":case"builtInParams":o[a]=yield Zm(c.name,a,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(c))}return 0===Object.keys(s).length&&Object.assign(o,r),"s3"===String(r.serviceId).toLowerCase()&&(yield Km(o)),o});return function(t,r,o){return e.apply(this,arguments)}}(),rh=({config:e,instructions:n})=>(t,r)=>function(){var o=(0,g.A)(function*(s){const a=yield nh(s.input,{getEndpointParameterInstructions:()=>n},{...e},r);r.endpointV2=a,r.authSchemes=a.properties?.authSchemes;const c=r.authSchemes?.[0];if(c){r.signing_region=c.signingRegion,r.signing_service=c.signingName;const m=sr(r)?.selectedHttpAuthScheme?.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:c.signingRegion,signingRegion:c.signingRegion,signing_service:c.signingName,signingName:c.signingName,signingRegionSet:c.signingRegionSet},c.properties))}return t({...s})});return function(s){return o.apply(this,arguments)}}(),oh=(e,n)=>t=>function(){var r=(0,g.A)(function*(o){const{response:s}=yield t(o);try{return{response:s,output:yield n(s,e)}}catch(a){throw Object.defineProperty(a,"$response",{value:s}),"$metadata"in a||(a.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.",typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText)),a}});return function(o){return r.apply(this,arguments)}}(),sh=(e,n)=>(t,r)=>function(){var o=(0,g.A)(function*(s){const a=r.endpointV2?.url&&e.urlParser?(0,g.A)(function*(){return e.urlParser(r.endpointV2.url)}):e.endpoint;if(!a)throw new Error("No valid endpoint provider available.");const c=yield n(s.input,{...e,endpoint:a});return t({...s,request:c})});return function(s){return o.apply(this,arguments)}}(),ih={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},wi={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Po(e,n,t){return{applyToStack:r=>{r.add(oh(e,t),ih),r.add(sh(e,n),wi)}}}const Fu={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:wi.name},Fo=(e,n)=>({applyToStack:t=>{t.addRelativeTo(rh({config:e,instructions:n}),Fu)}}),ch={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Fu.name},dh=e=>n=>{throw n},fh=(e,n)=>{},_h=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){if(!Te.isInstance(o.request))return n(o);const a=sr(t).selectedHttpAuthScheme;if(!a)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:c={}},identity:f,signer:m}=a,x=yield n({...o,request:yield m.sign(o.request,f,c)}).catch((m.errorHandler||dh)(c));return(m.successHandler||fh)(x.response,c),x});return function(o){return r.apply(this,arguments)}}();var wn=function(e){return e.STANDARD="standard",e.ADAPTIVE="adaptive",e}(wn||{});const Du=wn.STANDARD,mh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],hh=["TimeoutError","RequestTimeout","RequestTimeoutException"],gh=[500,502,503,504],yh=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],Do=e=>429===e.$metadata?.httpStatusCode||mh.includes(e.name)||1==e.$retryable?.throttling,vi=e=>(e=>e.$metadata?.clockSkewCorrected)(e)||hh.includes(e.name)||yh.includes(e?.code||"")||gh.includes(e.$metadata?.httpStatusCode||0);class Lu{constructor(n){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=n?.beta??.7,this.minCapacity=n?.minCapacity??1,this.minFillRate=n?.minFillRate??.5,this.scaleConstant=n?.scaleConstant??.4,this.smooth=n?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){var n=this;return(0,g.A)(function*(){return n.acquireTokenBucket(1)})()}acquireTokenBucket(n){var t=this;return(0,g.A)(function*(){if(t.enabled){if(t.refillTokenBucket(),n>t.currentCapacity){const r=(n-t.currentCapacity)/t.fillRate*1e3;yield new Promise(o=>setTimeout(o,r))}t.currentCapacity=t.currentCapacity-n}})()}refillTokenBucket(){const n=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(n-this.lastTimestamp)*this.fillRate),this.lastTimestamp=n):this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),Do(n)){const o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const n=this.getCurrentTimeInSeconds(),t=Math.floor(2*n)/2;this.requestCount++,t>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(t-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t)}getPrecise(n){return parseFloat(n.toFixed(8))}}const Vu=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>t});class Ri{constructor(n){this.maxAttempts=n,this.mode=wn.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}})(),this.maxAttemptsProvider="function"==typeof n?n:(0,g.A)(function*(){return n})}acquireInitialRetryToken(n){return(0,g.A)(function*(){return Vu({retryDelay:100,retryCount:0})})()}refreshRetryTokenForRetry(n,t){var r=this;return(0,g.A)(function*(){const o=yield r.getMaxAttempts();if(r.shouldRetry(n,t,o)){const s=t.errorType;r.retryBackoffStrategy.setDelayBase("THROTTLING"===s?500:100);const a=r.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),c=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,a):a,f=r.getCapacityCost(s);return r.capacity-=f,Vu({retryDelay:c,retryCount:n.getRetryCount()+1,retryCost:f})}throw new Error("No retry token available")})()}recordSuccess(n){this.capacity=Math.max(500,this.capacity+(n.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){var n=this;return(0,g.A)(function*(){try{return yield n.maxAttemptsProvider()}catch{return console.warn("Max attempts provider could not resolve. Using default of 3"),3}})()}shouldRetry(n,t,r){return n.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return"TRANSIENT"===n?10:5}isRetryableError(n){return"THROTTLING"===n||"TRANSIENT"===n}}class Ah{constructor(n,t){this.maxAttemptsProvider=n,this.mode=wn.ADAPTIVE;const{rateLimiter:r}=t??{};this.rateLimiter=r??new Lu,this.standardRetryStrategy=new Ri(n)}acquireInitialRetryToken(n){var t=this;return(0,g.A)(function*(){return yield t.rateLimiter.getSendToken(),t.standardRetryStrategy.acquireInitialRetryToken(n)})()}refreshRetryTokenForRetry(n,t){var r=this;return(0,g.A)(function*(){return r.rateLimiter.updateClientSendingRate(t),r.standardRetryStrategy.refreshRetryTokenForRetry(n,t)})()}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}}const qu={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Lo;const wh=new Uint8Array(16);function vh(){if(!Lo&&(Lo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Lo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Lo(wh)}const et=[];for(let e=0;e<256;++e)et.push((e+256).toString(16).slice(1));const Xu=function kh(e,n,t){if(qu.randomUUID&&!n&&!e)return qu.randomUUID();const r=(e=e||{}).random||(e.rng||vh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(let o=0;o<16;++o)n[t+o]=r[o];return n}return function Ku(e,n=0){return et[e[n+0]]+et[e[n+1]]+et[e[n+2]]+et[e[n+3]]+"-"+et[e[n+4]]+et[e[n+5]]+"-"+et[e[n+6]]+et[e[n+7]]+"-"+et[e[n+8]]+et[e[n+9]]+"-"+et[e[n+10]]+et[e[n+11]]+et[e[n+12]]+et[e[n+13]]+et[e[n+14]]+et[e[n+15]]}(r)},Wu=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),Oh=e=>{const{retryStrategy:n}=e,t=cn(e.maxAttempts??3);return{...e,maxAttempts:t,retryStrategy:(r=(0,g.A)(function*(){return n||((yield cn(e.retryMode)())===wn.ADAPTIVE?new Ah(t):new Ri(t))}),function(){return r.apply(this,arguments)})};var r},Lh=e=>e?.body instanceof ReadableStream,Gh=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){let s=yield e.retryStrategy();const a=yield e.maxAttempts();if(!Uh(s))return s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(n,o);{let c=yield s.acquireInitialRetryToken(t.partition_id),f=new Error,m=0,x=0;const{request:b}=o,v=Te.isInstance(b);for(v&&(b.headers["amz-sdk-invocation-id"]=Xu());;)try{v&&(b.headers["amz-sdk-request"]=`attempt=${m+1}; max=${a}`);const{response:O,output:H}=yield n(o);return s.recordSuccess(c),H.$metadata.attempts=m+1,H.$metadata.totalRetryDelay=x,{response:O,output:H}}catch(O){const H=jh(O);if(f=Wu(O),v&&Lh(b))throw(t.logger instanceof Ws?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),f;try{c=yield s.refreshRetryTokenForRetry(c,H)}catch{throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=m+1,f.$metadata.totalRetryDelay=x,f}m=c.getRetryCount();const Z=c.getRetryDelay();x+=Z,yield new Promise($=>setTimeout($,Z))}}});return function(o){return r.apply(this,arguments)}}(),Uh=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",jh=e=>{const n={error:e,errorType:zh(e)},t=Hh(e.$response);return t&&(n.retryAfterHint=t),n},zh=e=>Do(e)?"THROTTLING":vi(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!vi(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",Ju={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Hh=e=>{if(!bn.isInstance(e))return;const n=Object.keys(e.headers).find(s=>"retry-after"===s.toLowerCase());if(!n)return;const t=e.headers[n],r=Number(t);return Number.isNaN(r)?new Date(t):new Date(1e3*r)},Zu={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:Ju.name};class qh{constructor(n){this.authSchemes=new Map;for(const[t,r]of Object.entries(n))void 0!==r&&this.authSchemes.set(t,r)}getIdentityProvider(n){return this.authSchemes.get(n)}}const Kh=n=>el(n)&&n.expiration.getTime()-Date.now()<3e5,el=e=>void 0!==e.expiration,Xh=(e,n,t)=>{if(void 0===e)return;const r="function"!=typeof e?(0,g.A)(function*(){return Promise.resolve(e)}):e;let o,s,a,c=!1;const f=function(){var m=(0,g.A)(function*(x){s||(s=r(x));try{o=yield s,a=!0,c=!1}finally{s=void 0}return o});return function(b){return m.apply(this,arguments)}}();return void 0===n?function(){var m=(0,g.A)(function*(x){return(!a||x?.forceRefresh)&&(o=yield f(x)),o});return function(x){return m.apply(this,arguments)}}():function(){var m=(0,g.A)(function*(x){return(!a||x?.forceRefresh)&&(o=yield f(x)),c?o:t(o)?(n(o)&&(yield f(x)),o):(c=!0,o)});return function(x){return m.apply(this,arguments)}}()},so=e=>{if("function"==typeof e)return e;const n=Promise.resolve(e);return()=>n};function Go(e,n){return new Wh(e,n)}class Wh{constructor(n,t){this.input=n,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){var n=this;return(0,g.A)(function*(){const{hostname:t,protocol:r="https",port:o,path:s}=yield n.context.endpoint();n.path=s;for(const a of n.resolvePathStack)a(n.path);return new Te({protocol:r,hostname:n.hostname||t,port:o,method:n.method,path:n.path,query:n.query,body:n.body,headers:n.headers})})()}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,r,o){return this.resolvePathStack.push(s=>{this.path=((e,n,t,r,o,s)=>{if(null==n||void 0===n[t])throw new Error("No value provided for input HTTP label: "+t+".");{const a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(o,s?a.split("/").map(c=>xu(c)).join("/"):xu(a))}return e})(s,this.input,n,t,r,o)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}function tl(e,n){this.v=e,this.k=n}function lr(e){return function(){return new io(e.apply(this,arguments))}}function io(e){var n,t;function r(s,a){try{var c=e[s](a),f=c.value,m=f instanceof tl;Promise.resolve(m?f.v:f).then(function(x){if(m){var b="return"===s?"return":"next";if(!f.k||x.done)return r(b,x);x=e[b](x).value}o(c.done?"return":"normal",x)},function(x){r("throw",x)})}catch(x){o("throw",x)}}function o(s,a){switch(s){case"return":n.resolve({value:a,done:!0});break;case"throw":n.reject(a);break;default:n.resolve({value:a,done:!1})}(n=n.next)?r(n.key,n.arg):t=null}this._invoke=function(s,a){return new Promise(function(c,f){var m={key:s,arg:a,resolve:c,reject:f,next:null};t?t=t.next=m:(n=t=m,r(s,a))})},"function"!=typeof e.return&&(this.return=void 0)}io.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},io.prototype.next=function(e){return this._invoke("next",e)},io.prototype.throw=function(e){return this._invoke("throw",e)},io.prototype.return=function(e){return this._invoke("return",e)};const Jh=function(){var e=(0,g.A)(function*(n,t,r,o){const s=yield o.signWithCredentials(r,n,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s});return function(t,r,o,s){return e.apply(this,arguments)}}(),Zh=e=>n=>{throw n},eg=(e,n)=>{},tg=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){if(!Te.isInstance(o.request))return n(o);const a=sr(t).selectedHttpAuthScheme;if(!a)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:c={}},identity:f,signer:m}=a;let x;x=t.s3ExpressIdentity?yield Jh(t.s3ExpressIdentity,c,o.request,yield e.signer()):yield m.sign(o.request,f,c);const b=yield n({...o,request:x}).catch((m.errorHandler||Zh)(c));return(m.successHandler||eg)(b.response,c),b});return function(o){return r.apply(this,arguments)}}(),rg=(e,{session:n})=>{const[t,r]=n;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new fm(function(){var o=(0,g.A)(function*(s){return t().send(new r({Bucket:s,SessionMode:"ReadWrite"}))});return function(s){return o.apply(this,arguments)}}()),bucketEndpoint:e.bucketEndpoint??!1}},og={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},ig=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){const s=yield n(o),{response:a}=s;if(!bn.isInstance(a))return s;const{statusCode:c,body:f}=a;if(c<200||c>=300||"function"!=typeof f?.stream&&"function"!=typeof f?.pipe&&"function"!=typeof f?.tee)return s;let x=f,b=f;f&&"object"==typeof f&&!(f instanceof Uint8Array)&&([x,b]=yield function mp(e){return oi.apply(this,arguments)}(f)),a.body=b;const v=yield ag(x,{streamCollector:(H=(0,g.A)(function*(Z){return function hp(e,n){return si.apply(this,arguments)}(Z,3e3)}),function($){return H.apply(this,arguments)})});var H;"function"==typeof x?.destroy&&x.destroy();const O=e.utf8Encoder(v.subarray(v.length-16));if(0===v.length&&og[t.commandName]){const H=new Error("S3 aborted request");throw H.name="InternalError",H}return O&&O.endsWith("</Error>")&&(a.statusCode=400),s});return function(o){return r.apply(this,arguments)}}(),ag=(e=new Uint8Array,n)=>e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array),cg={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Bi=e=>({applyToStack:n=>{n.addRelativeTo(ig(e),cg)}}),dg={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},_g={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},pg=e=>({applyToStack:n=>{n.add(function fg({bucketEndpoint:e}){return n=>function(){var t=(0,g.A)(function*(r){const{input:{Bucket:o}}=r;if(!e&&"string"==typeof o&&!(e=>"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6)(o)&&o.indexOf("/")>=0){const s=new Error(`Bucket name shouldn't contain '/', received '${o}'`);throw s.name="InvalidBucketName",s}return n({...r})});return function(r){return t.apply(this,arguments)}}()}(e),_g),n.addRelativeTo(function lg(e){return(n,t)=>function(){var r=(0,g.A)(function*(o){if(e.bucketEndpoint){const s=t.endpointV2;if(s){const a=o.input.Bucket;if("string"==typeof a)try{const c=new URL(a);s.url=c}catch(c){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${a} could not be parsed as URL.`;throw"NoOpLogger"===t.logger?.constructor?.name?console.warn(f):t.logger?.warn?.(f),c}}}return n(o)});return function(o){return r.apply(this,arguments)}}()}(e),dg)}}),hg=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),nl=e=>hg.test(e)||e.startsWith("[")&&e.endsWith("]"),gg=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ii=(e,n=!1)=>{if(!n)return gg.test(e);const t=e.split(".");for(const r of t)if(!Ii(r))return!1;return!0},Uo={},ao="endpoints";function un(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${un(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(un).join(", ")})`:JSON.stringify(e,null,2)}class gt extends Error{constructor(n){super(n),this.name="EndpointError"}}const rl=(e,n)=>(e=>{const n=e.split("."),t=[];for(const r of n){const o=r.indexOf("[");if(-1!==o){if(r.indexOf("]")!==r.length-1)throw new gt(`Path: '${e}' does not end with ']'`);const s=r.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new gt(`Invalid array index: '${s}' in path: '${e}'`);0!==o&&t.push(r.slice(0,o)),t.push(s)}else t.push(r)}return t})(n).reduce((t,r)=>{if("object"!=typeof t)throw new gt(`Index '${r}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(r)]:t[r]},e),Ni={[Eo.HTTP]:80,[Eo.HTTPS]:443},Sg={booleanEquals:(e,n)=>e===n,getAttr:rl,isSet:e=>null!=e,isValidHostLabel:Ii,not:e=>!e,parseURL:e=>{const n=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:v,port:O,protocol:H="",path:Z="",query:$={}}=e,se=new URL(`${H}//${v}${O?`:${O}`:""}${Z}`);return se.search=Object.entries($).map(([ie,Ue])=>`${ie}=${Ue}`).join("&"),se}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const t=n.href,{host:r,hostname:o,pathname:s,protocol:a,search:c}=n;if(c)return null;const f=a.slice(0,-1);if(!Object.values(Eo).includes(f))return null;const m=nl(o);return{scheme:f,authority:`${r}${t.includes(`${r}:${Ni[f]}`)||"string"==typeof e&&e.includes(`${r}:${Ni[f]}`)?`:${Ni[f]}`:""}`,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:m}},stringEquals:(e,n)=>e===n,substring:(e,n,t,r)=>n>=t||e.length<t?null:r?e.substring(e.length-t,e.length-n):e.substring(n,t),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)},ol=(e,n)=>{const t=[],r={...n.endpointParams,...n.referenceRecord};let o=0;for(;o<e.length;){const s=e.indexOf("{",o);if(-1===s){t.push(e.slice(o));break}t.push(e.slice(o,s));const a=e.indexOf("}",s);if(-1===a){t.push(e.slice(s));break}"{"===e[s+1]&&"}"===e[a+1]&&(t.push(e.slice(s+1,a)),o=a+2);const c=e.substring(s+1,a);if(c.includes("#")){const[f,m]=c.split("#");t.push(rl(r[f],m))}else t.push(r[c]);o=a+1}return t.join("")},jo=(e,n,t)=>{if("string"==typeof e)return ol(e,t);if(e.fn)return sl(e,t);if(e.ref)return(({ref:e},n)=>({...n.endpointParams,...n.referenceRecord}[e]))(e,t);throw new gt(`'${n}': ${String(e)} is not a string, function or reference.`)},sl=({fn:e,argv:n},t)=>{const r=n.map(s=>["boolean","number"].includes(typeof s)?s:jo(s,"arg",t)),o=e.split(".");return o[0]in Uo&&null!=o[1]?Uo[o[0]][o[1]](...r):Sg[e](...r)},Ag=({assign:e,...n},t)=>{if(e&&e in t.referenceRecord)throw new gt(`'${e}' is already defined in Reference Record.`);const r=sl(n,t);return t.logger?.debug?.(`${ao} evaluateCondition: ${un(n)} = ${un(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},Oi=(e=[],n)=>{const t={};for(const r of e){const{result:o,toAssign:s}=Ag(r,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!o)return{result:o};s&&(t[s.name]=s.value,n.logger?.debug?.(`${ao} assign: ${s.name} := ${un(s.value)}`))}return{result:!0,referenceRecord:t}},wg=(e,n)=>Object.entries(e).reduce((t,[r,o])=>({...t,[r]:o.map(s=>{const a=jo(s,"Header value entry",n);if("string"!=typeof a)throw new gt(`Header '${r}' value '${a}' is not a string`);return a})}),{}),il=(e,n)=>{if(Array.isArray(e))return e.map(t=>il(t,n));switch(typeof e){case"string":return ol(e,n);case"object":if(null===e)throw new gt(`Unexpected endpoint property: ${e}`);return al(e,n);case"boolean":return e;default:throw new gt("Unexpected endpoint property type: "+typeof e)}},al=(e,n)=>Object.entries(e).reduce((t,[r,o])=>({...t,[r]:il(o,n)}),{}),vg=(e,n)=>{const t=jo(e,"Endpoint URL",n);if("string"==typeof t)try{return new URL(t)}catch(r){throw console.error(`Failed to construct URL with ${t}`,r),r}throw new gt("Endpoint URL must be a string, got "+typeof t)},kg=(e,n)=>{const{conditions:t,endpoint:r}=e,{result:o,referenceRecord:s}=Oi(t,n);if(!o)return;const a={...n,referenceRecord:{...n.referenceRecord,...s}},{url:c,properties:f,headers:m}=r;return n.logger?.debug?.(`${ao} Resolving endpoint from template: ${un(r)}`),{...null!=m&&{headers:wg(m,a)},...null!=f&&{properties:al(f,a)},url:vg(c,a)}},Tg=(e,n)=>{const{conditions:t,error:r}=e,{result:o,referenceRecord:s}=Oi(t,n);if(o)throw new gt(jo(r,"Error",{...n,referenceRecord:{...n.referenceRecord,...s}}))},Rg=(e,n)=>{const{conditions:t,rules:r}=e,{result:o,referenceRecord:s}=Oi(t,n);if(o)return cl(r,{...n,referenceRecord:{...n.referenceRecord,...s}})},cl=(e,n)=>{for(const t of e)if("endpoint"===t.type){const r=kg(t,n);if(r)return r}else if("error"===t.type)Tg(t,n);else{if("tree"!==t.type)throw new gt(`Unknown endpoint rule: ${t}`);{const r=Rg(t,n);if(r)return r}}throw new gt("Rules evaluation failed")},ul=(e,n=!1)=>{if(n){for(const t of e.split("."))if(!ul(t))return!1;return!0}return!(!Ii(e)||e.length<3||e.length>63||e!==e.toLowerCase()||nl(e))};let dl=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');const _l={isVirtualHostableS3Bucket:ul,parseArn:e=>{const n=e.split(":");if(n.length<6)return null;const[t,r,o,s,a,...c]=n;return"arn"!==t||""===r||""===o||""===c.join(":")?null:{partition:r,service:o,region:s,accountId:a,resourceId:c.map(m=>m.split("/")).flat()}},partition:e=>{const{partitions:n}=dl;for(const r of n){const{regions:o,outputs:s}=r;for(const[a,c]of Object.entries(o))if(a===e)return{...s,...c}}for(const r of n){const{regionRegex:o,outputs:s}=r;if(new RegExp(o).test(e))return{...s}}const t=n.find(r=>"aws"===r.id);if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}}};Uo.aws=_l;const pl="user-agent",Mi="x-amz-user-agent",Fg=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Dg=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Lg=e=>(n,t)=>function(){var r=(0,g.A)(function*(o){const{request:s}=o;if(!Te.isInstance(s))return n(o);const{headers:a}=s,c=t?.userAgent?.map(Fi)||[],f=(yield e.defaultUserAgentProvider()).map(Fi),m=e?.customUserAgent?.map(Fi)||[],b=[].concat([...f,...c,...m]).join(" "),v=[...f.filter(O=>O.startsWith("aws-sdk-")),...m].join(" ");return"browser"!==e.runtime?(v&&(a[Mi]=a[Mi]?`${a[pl]} ${v}`:v),a[pl]=b):a[Mi]=b,n({...o,request:s})});return function(o){return r.apply(this,arguments)}}(),Fi=e=>{const n=e[0].split("/").map(a=>a.replace(Fg,"-")).join("/"),t=e[1]?.replace(Dg,"-"),r=n.indexOf("/"),o=n.substring(0,r);let s=n.substring(r+1);return"api"===o&&(s=s.toLowerCase()),[o,s,t].filter(a=>a&&a.length>0).reduce((a,c,f)=>{switch(f){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},Gg={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},gl=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),yl=e=>gl(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,Wg=e=>{const{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return{...e,region:(r=(0,g.A)(function*(){if("string"==typeof n)return yl(n);const o=yield n();return yl(o)}),function(){return r.apply(this,arguments)}),useFipsEndpoint:function(){var r=(0,g.A)(function*(){const o="string"==typeof n?n:yield n();return!!gl(o)||("function"!=typeof t?Promise.resolve(!!t):t())});return function(){return r.apply(this,arguments)}}()};var r},xl="content-length",Jg={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Zg=e=>({applyToStack:n=>{n.add(function Qg(e){return n=>function(){var t=(0,g.A)(function*(r){const o=r.request;if(Te.isInstance(o)){const{body:s,headers:a}=o;if(s&&-1===Object.keys(a).map(c=>c.toLowerCase()).indexOf(xl))try{const c=e(s);o.headers={...o.headers,[xl]:String(c)}}catch{}}return n({...r,request:o})});return function(r){return t.apply(this,arguments)}}()}(e.bodyLengthChecker),Jg)}}),ey=e=>{let n;e.credentials&&(n=Xh(e.credentials,Kh,el)),n||(n=e.credentialDefaultProvider?so(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):function(){var a=(0,g.A)(function*(){throw new Error("`credentials` is missing")});return function(){return a.apply(this,arguments)}}());const{signingEscapePath:t=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:o}=e;let s;return s=e.signer?so(e.signer):e.regionInfoProvider?()=>so(e.region)().then(function(){var a=(0,g.A)(function*(c){return[(yield e.regionInfoProvider(c,{useFipsEndpoint:yield e.useFipsEndpoint(),useDualstackEndpoint:yield e.useDualstackEndpoint()}))||{},c]});return function(c){return a.apply(this,arguments)}}()).then(([a,c])=>{const{signingRegion:f,signingService:m}=a;e.signingRegion=e.signingRegion||f||c,e.signingName=e.signingName||m||e.serviceId;const x={...e,credentials:n,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:t};return new(e.signerConstructor||Si)(x)}):function(){var a=(0,g.A)(function*(c){const m=(c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:yield so(e.region)(),properties:{}},c)).signingName;e.signingRegion=e.signingRegion||c.signingRegion,e.signingName=e.signingName||m||e.serviceId;const x={...e,credentials:n,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:t};return new(e.signerConstructor||Si)(x)});return function(f){return a.apply(this,arguments)}}(),{...e,systemClockOffset:r,signingEscapePath:t,credentials:n,signer:s}};Error;const ty=(e,n,t)=>{let r,o,s,a=!1;const c=function(){var f=(0,g.A)(function*(){o||(o=e());try{r=yield o,s=!0,a=!1}finally{o=void 0}return r});return function(){return f.apply(this,arguments)}}();return void 0===n?function(){var f=(0,g.A)(function*(m){return(!s||m?.forceRefresh)&&(r=yield c()),r});return function(m){return f.apply(this,arguments)}}():function(){var f=(0,g.A)(function*(m){return(!s||m?.forceRefresh)&&(r=yield c()),a?r:t&&!t(r)?(a=!0,r):(n(r)&&(yield c()),r)});return function(m){return f.apply(this,arguments)}}()},ny=e=>(e.sigv4aSigningRegionSet=so(e.sigv4aSigningRegionSet),e);class ry{constructor(n){this.sigv4Signer=new jm(n),this.signerOptions=n}sign(n,t={}){var r=this;return(0,g.A)(function*(){if("*"===t.signingRegion){if("node"!==r.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return r.getSigv4aSigner().sign(n,t)}return r.sigv4Signer.sign(n,t)})()}signWithCredentials(n,t,r={}){var o=this;return(0,g.A)(function*(){if("*"===r.signingRegion){if("node"!==o.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return o.getSigv4aSigner().signWithCredentials(n,t,r)}return o.sigv4Signer.signWithCredentials(n,t,r)})()}presign(n,t={}){var r=this;return(0,g.A)(function*(){if("*"===t.signingRegion){if("node"!==r.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return r.getSigv4aSigner().presign(n,t)}return r.sigv4Signer.presign(n,t)})()}presignWithCredentials(n,t,r={}){var o=this;return(0,g.A)(function*(){if("*"===r.signingRegion)throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return o.sigv4Signer.presignWithCredentials(n,t,r)})()}getSigv4aSigner(){if(!this.sigv4aSigner){let n=null;try{if(n=null,"function"!=typeof n)throw new Error}catch(t){throw t.message=`${t.message}\nPlease check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. \nYou must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,t}this.sigv4aSigner=new n({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Di="required",_="type",y="conditions",I="fn",N="argv",ne="ref",Be="assign",q="url",K="properties",El="backend",Mt="authSchemes",yt="disableDoubleEncoding",xt="signingName",Vt="signingRegion",X="headers",Li="signingRegionSet",Pt=!0,Et="isSet",We="booleanEquals",J="error",zo="aws.partition",Ae="stringEquals",Oe="getAttr",nt="name",qt="substring",Al="bucketSuffix",wl="parseURL",vl="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",D="endpoint",F="tree",kl="aws.isVirtualHostableS3Bucket",$o="{url#scheme}://{Bucket}.{url#authority}{url#path}",Kt="not",Ho="{url#scheme}://{url#authority}{url#path}",Tl="hardwareType",Rl="regionPrefix",Bl="bucketAliasSuffix",Gi="outpostId",vn="isValidHostLabel",Ui="sigv4a",co="s3-outposts",fr="s3",Il="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",Nl="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",Ol="https://{Bucket}.s3.{partitionResult#dnsSuffix}",Ml="aws.parseArn",Pl="bucketArn",Fl="arnType",ji="s3-object-lambda",Dl="accesspoint",zi="accessPointName",Ll="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Gl="mrapPartition",Ul="outpostType",jl="arnPrefix",zl="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",$l="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Hl="https://s3.{partitionResult#dnsSuffix}",_r={[Di]:!1,[_]:"String"},pr={[Di]:!0,default:!1,[_]:"Boolean"},uo={[Di]:!1,[_]:"Boolean"},Ft={[I]:We,[N]:[{[ne]:"Accelerate"},!0]},Se={[I]:We,[N]:[{[ne]:"UseFIPS"},!0]},Ee={[I]:We,[N]:[{[ne]:"UseDualStack"},!0]},Fe={[I]:Et,[N]:[{[ne]:"Endpoint"}]},Vl={[I]:zo,[N]:[{[ne]:"Region"}],[Be]:"partitionResult"},ql={[I]:Ae,[N]:[{[I]:Oe,[N]:[{[ne]:"partitionResult"},nt]},"aws-cn"]},qo={[I]:Et,[N]:[{[ne]:"Bucket"}]},at={[ne]:"Bucket"},ct={[I]:wl,[N]:[{[ne]:"Endpoint"}],[Be]:"url"},Ko={[I]:We,[N]:[{[I]:Oe,[N]:[{[ne]:"url"},"isIp"]},!0]},Kl={[ne]:"url"},Xl={[I]:"uriEncode",[N]:[at],[Be]:"uri_encoded_bucket"},en={[El]:"S3Express",[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:"s3express",[Vt]:"{Region}"}]},oe={},Wl={[I]:kl,[N]:[at,!1]},$i={[J]:"S3Express bucket name is not a valid virtual hostable name.",[_]:J},Xo={[El]:"S3Express",[Mt]:[{[yt]:!0,[nt]:"sigv4-s3express",[xt]:"s3express",[Vt]:"{Region}"}]},Yl={[I]:Et,[N]:[{[ne]:"UseS3ExpressControlEndpoint"}]},Ql={[I]:We,[N]:[{[ne]:"UseS3ExpressControlEndpoint"},!0]},ae={[I]:Kt,[N]:[Fe]},Jl={[J]:"Unrecognized S3Express bucket name format.",[_]:J},Zl={[I]:Kt,[N]:[qo]},ed={[ne]:Tl},td={[y]:[ae],[J]:"Expected a endpoint to be specified but no endpoint was found",[_]:J},Wo={[Mt]:[{[yt]:!0,[nt]:Ui,[xt]:co,[Li]:["*"]},{[yt]:!0,[nt]:"sigv4",[xt]:co,[Vt]:"{Region}"}]},Hi={[I]:We,[N]:[{[ne]:"ForcePathStyle"},!1]},sy={[ne]:"ForcePathStyle"},De={[I]:We,[N]:[{[ne]:"Accelerate"},!1]},je={[I]:Ae,[N]:[{[ne]:"Region"},"aws-global"]},Ye={[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:fr,[Vt]:"us-east-1"}]},_e={[I]:Kt,[N]:[je]},Qe={[I]:We,[N]:[{[ne]:"UseGlobalEndpoint"},!0]},nd={[q]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:{[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:fr,[Vt]:"{Region}"}]},[X]:{}},Le={[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:fr,[Vt]:"{Region}"}]},Je={[I]:We,[N]:[{[ne]:"UseGlobalEndpoint"},!1]},de={[I]:We,[N]:[{[ne]:"UseDualStack"},!1]},rd={[q]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},ue={[I]:We,[N]:[{[ne]:"UseFIPS"},!1]},od={[q]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},sd={[q]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},Vi={[I]:We,[N]:[{[I]:Oe,[N]:[Kl,"isIp"]},!1]},qi={[q]:Il,[K]:Le,[X]:{}},Ki={[q]:$o,[K]:Le,[X]:{}},id={[D]:Ki,[_]:D},Xi={[q]:Nl,[K]:Le,[X]:{}},ad={[q]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},Yo={[J]:"Invalid region: region was not a valid DNS name.",[_]:J},pt={[ne]:Pl},cd={[ne]:Fl},Wi={[I]:Oe,[N]:[pt,"service"]},Yi={[ne]:zi},ud={[y]:[Ee],[J]:"S3 Object Lambda does not support Dual-stack",[_]:J},ld={[y]:[Ft],[J]:"S3 Object Lambda does not support S3 Accelerate",[_]:J},dd={[y]:[{[I]:Et,[N]:[{[ne]:"DisableAccessPoints"}]},{[I]:We,[N]:[{[ne]:"DisableAccessPoints"},!0]}],[J]:"Access points are not supported for this operation",[_]:J},Qi={[y]:[{[I]:Et,[N]:[{[ne]:"UseArnRegion"}]},{[I]:We,[N]:[{[ne]:"UseArnRegion"},!1]},{[I]:Kt,[N]:[{[I]:Ae,[N]:[{[I]:Oe,[N]:[pt,"region"]},"{Region}"]}]}],[J]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[_]:J},fd={[I]:Oe,[N]:[{[ne]:"bucketPartition"},nt]},_d={[I]:Oe,[N]:[pt,"accountId"]},Ji={[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:ji,[Vt]:"{bucketArn#region}"}]},pd={[J]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[_]:J},Zi={[J]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[_]:J},ea={[J]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[_]:J},ta={[J]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[_]:J},md={[J]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[_]:J},hd={[J]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[_]:J},lo={[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:fr,[Vt]:"{bucketArn#region}"}]},gd={[Mt]:[{[yt]:!0,[nt]:Ui,[xt]:co,[Li]:["*"]},{[yt]:!0,[nt]:"sigv4",[xt]:co,[Vt]:"{bucketArn#region}"}]},yd={[I]:Ml,[N]:[at]},xd={[q]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Le,[X]:{}},bd={[q]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Le,[X]:{}},Cd={[q]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Le,[X]:{}},na={[q]:zl,[K]:Le,[X]:{}},Sd={[q]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Le,[X]:{}},Ed={[ne]:"UseObjectLambdaEndpoint"},ra={[Mt]:[{[yt]:!0,[nt]:"sigv4",[xt]:ji,[Vt]:"{Region}"}]},Ad={[q]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},wd={[q]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},vd={[q]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},oa={[q]:Ho,[K]:Le,[X]:{}},kd={[q]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[K]:Le,[X]:{}},sa=[{[ne]:"Region"}],iy=[{[ne]:"Endpoint"}],ay=[at],ia=[Ee],Qo=[Ft],kn=[Fe,ct],Td=[{[I]:Et,[N]:[{[ne]:"DisableS3ExpressSessionAuth"}]},{[I]:We,[N]:[{[ne]:"DisableS3ExpressSessionAuth"},!0]}],Rd=[Ko],aa=[Xl],ca=[Wl],mr=[Se],Bd=[{[I]:qt,[N]:[at,6,14,!0],[Be]:"s3expressAvailabilityZoneId"},{[I]:qt,[N]:[at,14,16,!0],[Be]:"s3expressAvailabilityZoneDelim"},{[I]:Ae,[N]:[{[ne]:"s3expressAvailabilityZoneDelim"},"--"]}],Id=[{[y]:[Se],[D]:{[q]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[K]:en,[X]:{}},[_]:D},{[D]:{[q]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[K]:en,[X]:{}},[_]:D}],Nd=[{[I]:qt,[N]:[at,6,15,!0],[Be]:"s3expressAvailabilityZoneId"},{[I]:qt,[N]:[at,15,17,!0],[Be]:"s3expressAvailabilityZoneDelim"},{[I]:Ae,[N]:[{[ne]:"s3expressAvailabilityZoneDelim"},"--"]}],Od=[{[y]:[Se],[D]:{[q]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[K]:Xo,[X]:{}},[_]:D},{[D]:{[q]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[K]:Xo,[X]:{}},[_]:D}],cy=[qo],Md=[{[I]:vn,[N]:[{[ne]:Gi},!1]}],Pd=[{[I]:Ae,[N]:[{[ne]:Rl},"beta"]}],ln=[Vl],Fd=[{[I]:vn,[N]:[{[ne]:"Region"},!1]}],dn=[{[I]:Ae,[N]:[{[ne]:"Region"},"us-east-1"]}],ua=[{[I]:Ae,[N]:[cd,Dl]}],Dd=[{[I]:Oe,[N]:[pt,"resourceId[1]"],[Be]:zi},{[I]:Kt,[N]:[{[I]:Ae,[N]:[Yi,""]}]}],ly=[pt,"resourceId[1]"],la=[{[I]:Kt,[N]:[{[I]:Ae,[N]:[{[I]:Oe,[N]:[pt,"region"]},""]}]}],Ld=[{[I]:Kt,[N]:[{[I]:Et,[N]:[{[I]:Oe,[N]:[pt,"resourceId[2]"]}]}]}],dy=[pt,"resourceId[2]"],da=[{[I]:zo,[N]:[{[I]:Oe,[N]:[pt,"region"]}],[Be]:"bucketPartition"}],Gd=[{[I]:Ae,[N]:[fd,{[I]:Oe,[N]:[{[ne]:"partitionResult"},nt]}]}],fa=[{[I]:vn,[N]:[{[I]:Oe,[N]:[pt,"region"]},!0]}],_a=[{[I]:vn,[N]:[_d,!1]}],Ud=[{[I]:vn,[N]:[Yi,!1]}],jd=[{[I]:vn,[N]:[{[ne]:"Region"},!0]}],fy={version:"1.0",parameters:{Bucket:_r,Region:_r,UseFIPS:pr,UseDualStack:pr,Endpoint:_r,ForcePathStyle:pr,Accelerate:pr,UseGlobalEndpoint:pr,UseObjectLambdaEndpoint:uo,Key:_r,Prefix:_r,CopySource:_r,DisableAccessPoints:uo,DisableMultiRegionAccessPoints:pr,UseArnRegion:uo,UseS3ExpressControlEndpoint:uo,DisableS3ExpressSessionAuth:uo},rules:[{[y]:[{[I]:Et,[N]:sa}],rules:[{[y]:[Ft,Se],error:"Accelerate cannot be used with FIPS",[_]:J},{[y]:[Ee,Fe],error:"Cannot set dual-stack in combination with a custom endpoint.",[_]:J},{[y]:[Fe,Se],error:"A custom endpoint cannot be combined with FIPS",[_]:J},{[y]:[Fe,Ft],error:"A custom endpoint cannot be combined with S3 Accelerate",[_]:J},{[y]:[Se,Vl,ql],error:"Partition does not support FIPS",[_]:J},{[y]:[qo,{[I]:qt,[N]:[at,0,6,Pt],[Be]:Al},{[I]:Ae,[N]:[{[ne]:Al},"--x-s3"]}],rules:[{[y]:ia,error:"S3Express does not support Dual-stack.",[_]:J},{[y]:Qo,error:"S3Express does not support S3 Accelerate.",[_]:J},{[y]:kn,rules:[{[y]:Td,rules:[{[y]:Rd,rules:[{[y]:aa,rules:[{endpoint:{[q]:vl,[K]:en,[X]:oe},[_]:D}],[_]:F}],[_]:F},{[y]:ca,rules:[{endpoint:{[q]:$o,[K]:en,[X]:oe},[_]:D}],[_]:F},$i],[_]:F},{[y]:Rd,rules:[{[y]:aa,rules:[{endpoint:{[q]:vl,[K]:Xo,[X]:oe},[_]:D}],[_]:F}],[_]:F},{[y]:ca,rules:[{endpoint:{[q]:$o,[K]:Xo,[X]:oe},[_]:D}],[_]:F},$i],[_]:F},{[y]:[Yl,Ql],rules:[{[y]:[Xl,ae],rules:[{[y]:mr,endpoint:{[q]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[K]:en,[X]:oe},[_]:D},{endpoint:{[q]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[K]:en,[X]:oe},[_]:D}],[_]:F}],[_]:F},{[y]:ca,rules:[{[y]:Td,rules:[{[y]:Bd,rules:Id,[_]:F},{[y]:Nd,rules:Id,[_]:F},Jl],[_]:F},{[y]:Bd,rules:Od,[_]:F},{[y]:Nd,rules:Od,[_]:F},Jl],[_]:F},$i],[_]:F},{[y]:[Zl,Yl,Ql],rules:[{[y]:kn,endpoint:{[q]:Ho,[K]:en,[X]:oe},[_]:D},{[y]:mr,endpoint:{[q]:"https://s3express-control-fips.{Region}.amazonaws.com",[K]:en,[X]:oe},[_]:D},{endpoint:{[q]:"https://s3express-control.{Region}.amazonaws.com",[K]:en,[X]:oe},[_]:D}],[_]:F},{[y]:[qo,{[I]:qt,[N]:[at,49,50,Pt],[Be]:Tl},{[I]:qt,[N]:[at,8,12,Pt],[Be]:Rl},{[I]:qt,[N]:[at,0,7,Pt],[Be]:Bl},{[I]:qt,[N]:[at,32,49,Pt],[Be]:Gi},{[I]:zo,[N]:sa,[Be]:"regionPartition"},{[I]:Ae,[N]:[{[ne]:Bl},"--op-s3"]}],rules:[{[y]:Md,rules:[{[y]:[{[I]:Ae,[N]:[ed,"e"]}],rules:[{[y]:Pd,rules:[td,{[y]:kn,endpoint:{[q]:"https://{Bucket}.ec2.{url#authority}",[K]:Wo,[X]:oe},[_]:D}],[_]:F},{endpoint:{[q]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:Wo,[X]:oe},[_]:D}],[_]:F},{[y]:[{[I]:Ae,[N]:[ed,"o"]}],rules:[{[y]:Pd,rules:[td,{[y]:kn,endpoint:{[q]:"https://{Bucket}.op-{outpostId}.{url#authority}",[K]:Wo,[X]:oe},[_]:D}],[_]:F},{endpoint:{[q]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[K]:Wo,[X]:oe},[_]:D}],[_]:F},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[_]:J}],[_]:F},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[_]:J}],[_]:F},{[y]:cy,rules:[{[y]:[Fe,{[I]:Kt,[N]:[{[I]:Et,[N]:[{[I]:wl,[N]:iy}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[_]:J},{[y]:[Hi,Wl],rules:[{[y]:ln,rules:[{[y]:Fd,rules:[{[y]:[Ft,ql],error:"S3 Accelerate cannot be used in this region",[_]:J},{[y]:[Ee,Se,De,ae,je],endpoint:{[q]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Ee,Se,De,ae,_e,Qe],rules:[{endpoint:nd,[_]:D}],[_]:F},{[y]:[Ee,Se,De,ae,_e,Je],endpoint:nd,[_]:D},{[y]:[de,Se,De,ae,je],endpoint:{[q]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[de,Se,De,ae,_e,Qe],rules:[{endpoint:rd,[_]:D}],[_]:F},{[y]:[de,Se,De,ae,_e,Je],endpoint:rd,[_]:D},{[y]:[Ee,ue,Ft,ae,je],endpoint:{[q]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Ee,ue,Ft,ae,_e,Qe],rules:[{endpoint:od,[_]:D}],[_]:F},{[y]:[Ee,ue,Ft,ae,_e,Je],endpoint:od,[_]:D},{[y]:[Ee,ue,De,ae,je],endpoint:{[q]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Ee,ue,De,ae,_e,Qe],rules:[{endpoint:sd,[_]:D}],[_]:F},{[y]:[Ee,ue,De,ae,_e,Je],endpoint:sd,[_]:D},{[y]:[de,ue,De,Fe,ct,Ko,je],endpoint:{[q]:Il,[K]:Ye,[X]:oe},[_]:D},{[y]:[de,ue,De,Fe,ct,Vi,je],endpoint:{[q]:$o,[K]:Ye,[X]:oe},[_]:D},{[y]:[de,ue,De,Fe,ct,Ko,_e,Qe],rules:[{[y]:dn,endpoint:qi,[_]:D},{endpoint:qi,[_]:D}],[_]:F},{[y]:[de,ue,De,Fe,ct,Vi,_e,Qe],rules:[{[y]:dn,endpoint:Ki,[_]:D},id],[_]:F},{[y]:[de,ue,De,Fe,ct,Ko,_e,Je],endpoint:qi,[_]:D},{[y]:[de,ue,De,Fe,ct,Vi,_e,Je],endpoint:Ki,[_]:D},{[y]:[de,ue,Ft,ae,je],endpoint:{[q]:Nl,[K]:Ye,[X]:oe},[_]:D},{[y]:[de,ue,Ft,ae,_e,Qe],rules:[{[y]:dn,endpoint:Xi,[_]:D},{endpoint:Xi,[_]:D}],[_]:F},{[y]:[de,ue,Ft,ae,_e,Je],endpoint:Xi,[_]:D},{[y]:[de,ue,De,ae,je],endpoint:{[q]:Ol,[K]:Ye,[X]:oe},[_]:D},{[y]:[de,ue,De,ae,_e,Qe],rules:[{[y]:dn,endpoint:{[q]:Ol,[K]:Le,[X]:oe},[_]:D},{endpoint:ad,[_]:D}],[_]:F},{[y]:[de,ue,De,ae,_e,Je],endpoint:ad,[_]:D}],[_]:F},Yo],[_]:F}],[_]:F},{[y]:[Fe,ct,{[I]:Ae,[N]:[{[I]:Oe,[N]:[Kl,"scheme"]},"http"]},{[I]:kl,[N]:[at,Pt]},Hi,ue,de,De],rules:[{[y]:ln,rules:[{[y]:Fd,rules:[id],[_]:F},Yo],[_]:F}],[_]:F},{[y]:[Hi,{[I]:Ml,[N]:ay,[Be]:Pl}],rules:[{[y]:[{[I]:Oe,[N]:[pt,"resourceId[0]"],[Be]:Fl},{[I]:Kt,[N]:[{[I]:Ae,[N]:[cd,""]}]}],rules:[{[y]:[{[I]:Ae,[N]:[Wi,ji]}],rules:[{[y]:ua,rules:[{[y]:Dd,rules:[ud,ld,{[y]:la,rules:[dd,{[y]:Ld,rules:[Qi,{[y]:da,rules:[{[y]:ln,rules:[{[y]:Gd,rules:[{[y]:fa,rules:[{[y]:[{[I]:Ae,[N]:[_d,""]}],error:"Invalid ARN: Missing account id",[_]:J},{[y]:_a,rules:[{[y]:Ud,rules:[{[y]:kn,endpoint:{[q]:Ll,[K]:Ji,[X]:oe},[_]:D},{[y]:mr,endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Ji,[X]:oe},[_]:D},{endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:Ji,[X]:oe},[_]:D}],[_]:F},pd],[_]:F},Zi],[_]:F},ea],[_]:F},ta],[_]:F}],[_]:F}],[_]:F},md],[_]:F},{error:"Invalid ARN: bucket ARN is missing a region",[_]:J}],[_]:F},hd],[_]:F},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[_]:J}],[_]:F},{[y]:ua,rules:[{[y]:Dd,rules:[{[y]:la,rules:[{[y]:ua,rules:[{[y]:la,rules:[dd,{[y]:Ld,rules:[Qi,{[y]:da,rules:[{[y]:ln,rules:[{[y]:[{[I]:Ae,[N]:[fd,"{partitionResult#name}"]}],rules:[{[y]:fa,rules:[{[y]:[{[I]:Ae,[N]:[Wi,fr]}],rules:[{[y]:_a,rules:[{[y]:Ud,rules:[{[y]:Qo,error:"Access Points do not support S3 Accelerate",[_]:J},{[y]:[Se,Ee],endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:lo,[X]:oe},[_]:D},{[y]:[Se,de],endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:lo,[X]:oe},[_]:D},{[y]:[ue,Ee],endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:lo,[X]:oe},[_]:D},{[y]:[ue,de,Fe,ct],endpoint:{[q]:Ll,[K]:lo,[X]:oe},[_]:D},{[y]:[ue,de],endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:lo,[X]:oe},[_]:D}],[_]:F},pd],[_]:F},Zi],[_]:F},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[_]:J}],[_]:F},ea],[_]:F},ta],[_]:F}],[_]:F}],[_]:F},md],[_]:F}],[_]:F}],[_]:F},{[y]:[{[I]:vn,[N]:[Yi,Pt]}],rules:[{[y]:ia,error:"S3 MRAP does not support dual-stack",[_]:J},{[y]:mr,error:"S3 MRAP does not support FIPS",[_]:J},{[y]:Qo,error:"S3 MRAP does not support S3 Accelerate",[_]:J},{[y]:[{[I]:We,[N]:[{[ne]:"DisableMultiRegionAccessPoints"},Pt]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[_]:J},{[y]:[{[I]:zo,[N]:sa,[Be]:Gl}],rules:[{[y]:[{[I]:Ae,[N]:[{[I]:Oe,[N]:[{[ne]:Gl},nt]},{[I]:Oe,[N]:[pt,"partition"]}]}],rules:[{endpoint:{[q]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[K]:{[Mt]:[{[yt]:Pt,name:Ui,[xt]:fr,[Li]:["*"]}]},[X]:oe},[_]:D}],[_]:F},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[_]:J}],[_]:F}],[_]:F},{error:"Invalid Access Point Name",[_]:J}],[_]:F},hd],[_]:F},{[y]:[{[I]:Ae,[N]:[Wi,co]}],rules:[{[y]:ia,error:"S3 Outposts does not support Dual-stack",[_]:J},{[y]:mr,error:"S3 Outposts does not support FIPS",[_]:J},{[y]:Qo,error:"S3 Outposts does not support S3 Accelerate",[_]:J},{[y]:[{[I]:Et,[N]:[{[I]:Oe,[N]:[pt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[_]:J},{[y]:[{[I]:Oe,[N]:ly,[Be]:Gi}],rules:[{[y]:Md,rules:[Qi,{[y]:da,rules:[{[y]:ln,rules:[{[y]:Gd,rules:[{[y]:fa,rules:[{[y]:_a,rules:[{[y]:[{[I]:Oe,[N]:dy,[Be]:Ul}],rules:[{[y]:[{[I]:Oe,[N]:[pt,"resourceId[3]"],[Be]:zi}],rules:[{[y]:[{[I]:Ae,[N]:[{[ne]:Ul},Dl]}],rules:[{[y]:kn,endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[K]:gd,[X]:oe},[_]:D},{endpoint:{[q]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[K]:gd,[X]:oe},[_]:D}],[_]:F},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[_]:J}],[_]:F},{error:"Invalid ARN: expected an access point name",[_]:J}],[_]:F},{error:"Invalid ARN: Expected a 4-component resource",[_]:J}],[_]:F},Zi],[_]:F},ea],[_]:F},ta],[_]:F}],[_]:F}],[_]:F},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[_]:J}],[_]:F},{error:"Invalid ARN: The Outpost Id was not set",[_]:J}],[_]:F},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[_]:J}],[_]:F},{error:"Invalid ARN: No ARN type specified",[_]:J}],[_]:F},{[y]:[{[I]:qt,[N]:[at,0,4,!1],[Be]:jl},{[I]:Ae,[N]:[{[ne]:jl},"arn:"]},{[I]:Kt,[N]:[{[I]:Et,[N]:[yd]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[_]:J},{[y]:[{[I]:We,[N]:[sy,Pt]},yd],error:"Path-style addressing cannot be used with ARN buckets",[_]:J},{[y]:aa,rules:[{[y]:ln,rules:[{[y]:[De],rules:[{[y]:[Ee,ae,Se,je],endpoint:{[q]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Ee,ae,Se,_e,Qe],rules:[{endpoint:xd,[_]:D}],[_]:F},{[y]:[Ee,ae,Se,_e,Je],endpoint:xd,[_]:D},{[y]:[de,ae,Se,je],endpoint:{[q]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Ye,[X]:oe},[_]:D},{[y]:[de,ae,Se,_e,Qe],rules:[{endpoint:bd,[_]:D}],[_]:F},{[y]:[de,ae,Se,_e,Je],endpoint:bd,[_]:D},{[y]:[Ee,ae,ue,je],endpoint:{[q]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Ee,ae,ue,_e,Qe],rules:[{endpoint:Cd,[_]:D}],[_]:F},{[y]:[Ee,ae,ue,_e,Je],endpoint:Cd,[_]:D},{[y]:[de,Fe,ct,ue,je],endpoint:{[q]:zl,[K]:Ye,[X]:oe},[_]:D},{[y]:[de,Fe,ct,ue,_e,Qe],rules:[{[y]:dn,endpoint:na,[_]:D},{endpoint:na,[_]:D}],[_]:F},{[y]:[de,Fe,ct,ue,_e,Je],endpoint:na,[_]:D},{[y]:[de,ae,ue,je],endpoint:{[q]:$l,[K]:Ye,[X]:oe},[_]:D},{[y]:[de,ae,ue,_e,Qe],rules:[{[y]:dn,endpoint:{[q]:$l,[K]:Le,[X]:oe},[_]:D},{endpoint:Sd,[_]:D}],[_]:F},{[y]:[de,ae,ue,_e,Je],endpoint:Sd,[_]:D}],[_]:F},{error:"Path-style addressing cannot be used with S3 Accelerate",[_]:J}],[_]:F}],[_]:F}],[_]:F},{[y]:[{[I]:Et,[N]:[Ed]},{[I]:We,[N]:[Ed,Pt]}],rules:[{[y]:ln,rules:[{[y]:jd,rules:[ud,ld,{[y]:kn,endpoint:{[q]:Ho,[K]:ra,[X]:oe},[_]:D},{[y]:mr,endpoint:{[q]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[K]:ra,[X]:oe},[_]:D},{endpoint:{[q]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[K]:ra,[X]:oe},[_]:D}],[_]:F},Yo],[_]:F}],[_]:F},{[y]:[Zl],rules:[{[y]:ln,rules:[{[y]:jd,rules:[{[y]:[Se,Ee,ae,je],endpoint:{[q]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Se,Ee,ae,_e,Qe],rules:[{endpoint:Ad,[_]:D}],[_]:F},{[y]:[Se,Ee,ae,_e,Je],endpoint:Ad,[_]:D},{[y]:[Se,de,ae,je],endpoint:{[q]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[Se,de,ae,_e,Qe],rules:[{endpoint:wd,[_]:D}],[_]:F},{[y]:[Se,de,ae,_e,Je],endpoint:wd,[_]:D},{[y]:[ue,Ee,ae,je],endpoint:{[q]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[K]:Ye,[X]:oe},[_]:D},{[y]:[ue,Ee,ae,_e,Qe],rules:[{endpoint:vd,[_]:D}],[_]:F},{[y]:[ue,Ee,ae,_e,Je],endpoint:vd,[_]:D},{[y]:[ue,de,Fe,ct,je],endpoint:{[q]:Ho,[K]:Ye,[X]:oe},[_]:D},{[y]:[ue,de,Fe,ct,_e,Qe],rules:[{[y]:dn,endpoint:oa,[_]:D},{endpoint:oa,[_]:D}],[_]:F},{[y]:[ue,de,Fe,ct,_e,Je],endpoint:oa,[_]:D},{[y]:[ue,de,ae,je],endpoint:{[q]:Hl,[K]:Ye,[X]:oe},[_]:D},{[y]:[ue,de,ae,_e,Qe],rules:[{[y]:dn,endpoint:{[q]:Hl,[K]:Le,[X]:oe},[_]:D},{endpoint:kd,[_]:D}],[_]:F},{[y]:[ue,de,ae,_e,Je],endpoint:kd,[_]:D}],[_]:F},Yo],[_]:F}],[_]:F}],[_]:F},{error:"A region must be set when sending requests to S3.",[_]:J}]},zd=(e,n={})=>((e,n)=>{const{endpointParams:t,logger:r}=n,{parameters:o,rules:s}=e;n.logger?.debug?.(`${ao} Initial EndpointParams: ${un(t)}`);const a=Object.entries(o).filter(([,m])=>null!=m.default).map(([m,x])=>[m,x.default]);if(a.length>0)for(const[m,x]of a)t[m]=t[m]??x;const c=Object.entries(o).filter(([,m])=>m.required).map(([m])=>m);for(const m of c)if(null==t[m])throw new gt(`Missing required parameter: '${m}'`);const f=cl(s,{endpointParams:t,logger:r,referenceRecord:{}});if(n.endpointParams?.Endpoint)try{const m=new URL(n.endpointParams.Endpoint),{protocol:x,port:b}=m;f.url.protocol=x,f.url.port=b}catch{}return n.logger?.debug?.(`${ao} Resolved endpoint: ${un(f)}`),f})(fy,{endpointParams:e,logger:n.logger});Uo.aws=_l;const _y=(e=function(){var e=(0,g.A)(function*(n,t,r){return{operation:sr(t).operation,region:(yield cn(n.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}});return function(t,r,o){return e.apply(this,arguments)}}(),function(){var n=(0,g.A)(function*(t,r,o){if(!o)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const s=yield e(t,r,o),a=sr(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!a)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const c=yield Pu(o,{getEndpointParameterInstructions:a},t);return Object.assign(s,c)});return function(t,r,o){return n.apply(this,arguments)}}());var e;function $d(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Hd(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}const py=((e,n,t)=>o=>{const a=e(o).properties?.authSchemes;if(!a)return(e=>{const n=[];return n.push($d(e)),n.push(Hd(e)),n})(o);const c=[];for(const f of a){const{name:m,properties:x={},...b}=f,v=m.toLowerCase();let O;if(m!==v&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${m}\` to \`${v}\``),"sigv4a"===v){O="aws.auth#sigv4a";if(a.find(se=>{const ie=se.name.toLowerCase();return"sigv4a"!==ie&&ie.startsWith("sigv4")}))continue}else{if(!v.startsWith("sigv4"))throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${v}\``);O="aws.auth#sigv4"}const H=t[O];if(!H)throw new Error(`Could not find HttpAuthOption create function for \`${O}\``);const Z=H(o);Z.schemeId=O,Z.signingProperties={...Z.signingProperties||{},...b,...x},c.push(Z)}return c})(zd,0,{"aws.auth#sigv4":$d,"aws.auth#sigv4a":Hd}),Jo={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class At extends pi{constructor(n){super(n),Object.setPrototypeOf(this,At.prototype)}}class pa extends At{constructor(n){super({name:"NoSuchUpload",$fault:"client",...n}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,pa.prototype)}}class ma extends At{constructor(n){super({name:"ObjectNotInActiveTierError",$fault:"client",...n}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,ma.prototype)}}class ha extends At{constructor(n){super({name:"BucketAlreadyExists",$fault:"client",...n}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,ha.prototype)}}class ga extends At{constructor(n){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...n}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,ga.prototype)}}class ya extends At{constructor(n){super({name:"NoSuchBucket",$fault:"client",...n}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,ya.prototype)}}class xa extends At{constructor(n){super({name:"InvalidObjectState",$fault:"client",...n}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,xa.prototype),this.StorageClass=n.StorageClass,this.AccessTier=n.AccessTier}}class ba extends At{constructor(n){super({name:"NoSuchKey",$fault:"client",...n}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,ba.prototype)}}class Ca extends At{constructor(n){super({name:"NotFound",$fault:"client",...n}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,Ca.prototype)}}const Cy=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Zt},...e.SessionToken&&{SessionToken:Zt}}),Sy=e=>({...e,...e.Credentials&&{Credentials:Cy(e.Credentials)}}),Ry=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Zt}}),By=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Zt}});var Iy=P(6337);const qd=(e,n)=>((e,n)=>ii(e,n).then(t=>n.utf8Encoder(t)))(e,n).then(t=>{if(t.length){const r=new Iy.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(f,m)=>""===m.trim()&&m.includes("\n")?"":void 0});let o;r.addEntity("#xD","\r"),r.addEntity("#10","\n");try{o=r.parse(t,!0)}catch(f){throw f&&"object"==typeof f&&Object.defineProperty(f,"$responseBodyText",{value:t}),f}const s="#text",a=Object.keys(o)[0],c=o[a];return c[s]&&(c[a]=c[s],delete c[s]),gu(c)}return{}}),Oy=function(){var e=(0,g.A)(function*(n,t){const r=yield qd(n,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r});return function(t,r){return e.apply(this,arguments)}}();class Ea extends At{constructor(n){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...n}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,Ea.prototype)}}const Fy=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:Zt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Zt}}),Dy=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:Zt},...e.SSEKMSKeyId&&{SSEKMSKeyId:Zt},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:Zt}}),zy=function(){var e=(0,g.A)(function*(n,t){const r=Go(n,t),o=Re({},Dt,{[tw]:n[CA]});r.bp("/"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1);const s=Re({[QA]:[,""]});return r.m("GET").h(o).q(s).b(void 0),r.build()});return function(t,r){return e.apply(this,arguments)}}(),$y=function(){var e=(0,g.A)(function*(n,t){const r=Go(n,t),o=Re({},Dt,{[iw]:n[EE],[Vc]:n[Ec],[ZA]:[()=>Dt(n[ef]),()=>n[ef].toString()],[zc]:n[$a]});r.bp("/{Key+}"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1),r.p("Key",()=>n.Key,"{Key+}",!0);const s=Re({[Wc]:[,"DeleteObject"],[Nf]:[,n[Ge]]});return r.m("DELETE").h(o).q(s).b(void 0),r.build()});return function(t,r){return e.apply(this,arguments)}}(),Hy=function(){var e=(0,g.A)(function*(n,t){const r=Go(n,t),o=Re({},Dt,{[GA]:n[K0],[UA]:[()=>Dt(n[cf]),()=>Bo(n[cf]).toString()],[jA]:n[X0],[zA]:[()=>Dt(n[uf]),()=>Bo(n[uf]).toString()],[HA]:n[XE],[Us]:n[Bs],[jf]:n[xf],[js]:n[Is],[Vc]:n[Ec],[zc]:n[$a],[ew]:n[u0]});r.bp("/{Key+}"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1),r.p("Key",()=>n.Key,"{Key+}",!0);const s=Re({[Wc]:[,"GetObject"],[VA]:[,n[WE]],[qA]:[,n[YE]],[KA]:[,n[QE]],[XA]:[,n[JE]],[WA]:[,n[ZE]],[YA]:[()=>void 0!==n.ResponseExpires,()=>Bo(n[tA]).toString()],[Nf]:[,n[Ge]],[$A]:[()=>void 0!==n.PartNumber,()=>n[jt].toString()]});return r.m("GET").h(o).q(s).b(void 0),r.build()});return function(t,r){return e.apply(this,arguments)}}(),Vy=function(){var e=(0,g.A)(function*(n,t){const r=Go(n,t),o=Re({},Dt,{[Rf]:n[sf]||"application/octet-stream",[JA]:n[HS],[wf]:n[tf],[vf]:n[nf],[kf]:n[rf],[Tf]:n[of],[Fc]:[()=>Dt(n[Ga]),()=>n[Ga].toString()],[FA]:n[l0],[uw]:n[wt],[Lc]:n[ze],[Gc]:n[$e],[Uc]:n[He],[jc]:n[Ve],[Dc]:[()=>Dt(n[za]),()=>Bo(n[za]).toString()],[nw]:n[M0],[rw]:n[P0],[ow]:n[F0],[sw]:n[D0],[qc]:n[mo],[Gf]:n[be],[$f]:n[Af],[Us]:n[Bs],[jf]:n[xf],[js]:n[Is],[Kc]:n[Hr],[Uf]:n[bf],[go]:[()=>Dt(n[Lt]),()=>n[Lt].toString()],[Vc]:n[Ec],[lw]:n[ho],[Lf]:n[df],[$c]:[()=>Dt(n[pc]),()=>(e=>e.toISOString().replace(".000Z","Z"))(n[pc]).toString()],[Df]:n[_c],[zc]:n[$a],...void 0!==n.Metadata&&Object.keys(n.Metadata).reduce((f,m)=>(f[`x-amz-meta-${m.toLowerCase()}`]=n.Metadata[m],f),{})});r.bp("/{Key+}"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1),r.p("Key",()=>n.Key,"{Key+}",!0);const s=Re({[Wc]:[,"PutObject"]});let a,c;return void 0!==n.Body&&(c=n.Body,a=c),r.m("PUT").h(o).q(s).b(a),r.build()});return function(t,r){return e.apply(this,arguments)}}(),qy=function(){var e=(0,g.A)(function*(n,t){if(200!==n.statusCode&&n.statusCode>=300)return Zo(n,t);const r=Re({$metadata:bt(n)}),o=to((e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)})(yield qd(n.body,t)),"body");return null!=o[Pa]&&(r[Pa]=vS(o[Pa],t)),r});return function(t,r){return e.apply(this,arguments)}}(),Ky=function(){var e=(0,g.A)(function*(n,t){if(204!==n.statusCode&&n.statusCode>=300)return Zo(n,t);const r=Re({$metadata:bt(n),[_o]:[()=>void 0!==n.headers[Gs],()=>wo(n.headers[Gs])],[Ge]:[,n.headers[Xc]],[bc]:[,n.headers[Hc]]});return yield ii(n.body,t),r});return function(t,r){return e.apply(this,arguments)}}(),Xy=function(){var e=(0,g.A)(function*(n,t){if(200!==n.statusCode&&n.statusCode>=300)return Zo(n,t);const r=Re({$metadata:bt(n),[_o]:[()=>void 0!==n.headers[Gs],()=>wo(n.headers[Gs])],[QS]:[,n.headers[PA]],[Ut]:[,n.headers[Mf]],[mA]:[,n.headers[aw]],[Ke]:[()=>void 0!==n.headers[If],()=>to(fi(n.headers[If]))],[Ga]:[()=>void 0!==n.headers[Fc],()=>(e=>ci("string"==typeof e?rr(e):e))(n.headers[Fc])],[Ze]:[,n.headers[Bf]],[ze]:[,n.headers[Lc]],[$e]:[,n.headers[Gc]],[He]:[,n.headers[Uc]],[Ve]:[,n.headers[jc]],[vE]:[()=>void 0!==n.headers[Pf],()=>li(n.headers[Pf])],[Ge]:[,n.headers[Xc]],[tf]:[,n.headers[wf]],[nf]:[,n.headers[vf]],[rf]:[,n.headers[kf]],[of]:[,n.headers[Tf]],[h0]:[,n.headers[DA]],[sf]:[,n.headers[Rf]],[za]:[()=>void 0!==n.headers[Dc],()=>to(fi(n.headers[Dc]))],[k0]:[,n.headers[LA]],[Af]:[,n.headers[$f]],[mo]:[,n.headers[qc]],[Bs]:[,n.headers[Us]],[Is]:[,n.headers[js]],[Hr]:[,n.headers[Kc]],[Lt]:[()=>void 0!==n.headers[go],()=>wo(n.headers[go])],[be]:[,n.headers[Gf]],[bc]:[,n.headers[Hc]],[fA]:[,n.headers[cw]],[mc]:[()=>void 0!==n.headers[Ff],()=>li(n.headers[Ff])],[vA]:[()=>void 0!==n.headers[zf],()=>li(n.headers[zf])],[df]:[,n.headers[Lf]],[pc]:[()=>void 0!==n.headers[$c],()=>to(hu(n.headers[$c]))],[_c]:[,n.headers[Df]],Metadata:[,Object.keys(n.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,a)=>(s[a.substring(11)]=n.headers[a],s),{})]}),o=n.body;return t.sdkStreamMixin(o),r.Body=o,r});return function(t,r){return e.apply(this,arguments)}}(),Wy=function(){var e=(0,g.A)(function*(n,t){if(200!==n.statusCode&&n.statusCode>=300)return Zo(n,t);const r=Re({$metadata:bt(n),[Ut]:[,n.headers[Mf]],[Ze]:[,n.headers[Bf]],[ze]:[,n.headers[Lc]],[$e]:[,n.headers[Gc]],[He]:[,n.headers[Uc]],[Ve]:[,n.headers[jc]],[mo]:[,n.headers[qc]],[Ge]:[,n.headers[Xc]],[Bs]:[,n.headers[Us]],[Is]:[,n.headers[js]],[Hr]:[,n.headers[Kc]],[bf]:[,n.headers[Uf]],[Lt]:[()=>void 0!==n.headers[go],()=>wo(n.headers[go])],[bc]:[,n.headers[Hc]]});return yield ii(n.body,t),r});return function(t,r){return e.apply(this,arguments)}}(),Zo=function(){var e=(0,g.A)(function*(n,t){const r={...n,body:yield Oy(n.body,t)},o=((e,n)=>void 0!==n?.Error?.Code?n.Error.Code:void 0!==n?.Code?n.Code:404==e.statusCode?"NotFound":void 0)(n,r.body);switch(o){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield nx(r,t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield sx(r,t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield Qy(r,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield Jy(r,t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield ex(r,t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield Zy(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield tx(r,t);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield rx(r,t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield ox(r,t);default:return Yy({output:n,parsedBody:r.body,errorCode:o})}});return function(t,r){return e.apply(this,arguments)}}(),Yy=(e=>({output:n,parsedBody:t,errorCode:r})=>{(({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})=>{const o=(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}))(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new t({name:n?.code||n?.Code||r||s||"UnknownError",$fault:"client",$metadata:o});throw Ht(a,n)})({output:n,parsedBody:t,exceptionCtor:e,errorCode:r})})(At),Qy=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new ha({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),Jy=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new ga({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),Zy=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),o=n.body;null!=o[nn]&&(r[nn]=no(o[nn])),null!=o[be]&&(r[be]=no(o[be]));const s=new xa({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),ex=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new ya({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),tx=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new ba({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),nx=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new pa({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),rx=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new Ca({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),ox=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new Ea({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),sx=function(){var e=(0,g.A)(function*(n,t){const r=Re({}),s=new ma({$metadata:bt(n),...r});return Ht(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),vS=(e,n)=>{const t={};return null!=e[Ba]&&(t[Ba]=no(e[Ba])),null!=e[Ac]&&(t[Ac]=no(e[Ac])),null!=e[Tc]&&(t[Tc]=no(e[Tc])),null!=e[Ut]&&(t[Ut]=to(hu(e[Ut]))),t},bt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Dt=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),HS="ACL",Ba="AccessKeyId",QS="AcceptRanges",nn="AccessTier",ef="BypassGovernanceRetention",Lt="BucketKeyEnabled",Pa="Credentials",wt="ChecksumAlgorithm",tf="CacheControl",ze="ChecksumCRC32",$e="ChecksumCRC32C",nf="ContentDisposition",rf="ContentEncoding",of="ContentLanguage",Ga="ContentLength",u0="ChecksumMode",l0="ContentMD5",h0="ContentRange",He="ChecksumSHA1",Ve="ChecksumSHA256",sf="ContentType",_o="DeleteMarker",za="Expires",$a="ExpectedBucketOwner",k0="ExpiresString",Ze="ETag",Ut="Expiration",M0="GrantFullControl",P0="GrantRead",F0="GrantReadACP",D0="GrantWriteACP",K0="IfMatch",cf="IfModifiedSince",X0="IfNoneMatch",uf="IfUnmodifiedSince",Ke="LastModified",EE="MFA",vE="MissingMeta",_c="ObjectLockLegalHoldStatus",df="ObjectLockMode",pc="ObjectLockRetainUntilDate",mc="PartsCount",jt="PartNumber",XE="Range",bc="RequestCharged",WE="ResponseCacheControl",YE="ResponseContentDisposition",QE="ResponseContentEncoding",JE="ResponseContentLanguage",ZE="ResponseContentType",tA="ResponseExpires",Ec="RequestPayer",fA="ReplicationStatus",mA="Restore",Ac="SecretAccessKey",be="StorageClass",CA="SessionMode",mo="ServerSideEncryption",Bs="SSECustomerAlgorithm",xf="SSECustomerKey",Is="SSECustomerKeyMD5",bf="SSEKMSEncryptionContext",Hr="SSEKMSKeyId",Tc="SessionToken",ho="Tagging",vA="TagCount",Ge="VersionId",Af="WebsiteRedirectLocation",PA="accept-ranges",wf="cache-control",vf="content-disposition",kf="content-encoding",Tf="content-language",Fc="content-length",FA="content-md5",DA="content-range",Rf="content-type",Dc="expires",Bf="etag",LA="expiresstring",GA="if-match",UA="if-modified-since",jA="if-none-match",zA="if-unmodified-since",If="last-modified",$A="partNumber",HA="range",VA="response-cache-control",qA="response-content-disposition",KA="response-content-encoding",XA="response-content-language",WA="response-content-type",YA="response-expires",QA="session",Nf="versionId",JA="x-amz-acl",ZA="x-amz-bypass-governance-retention",Lc="x-amz-checksum-crc32",Gc="x-amz-checksum-crc32c",ew="x-amz-checksum-mode",Uc="x-amz-checksum-sha1",jc="x-amz-checksum-sha256",tw="x-amz-create-session-mode",Gs="x-amz-delete-marker",Mf="x-amz-expiration",zc="x-amz-expected-bucket-owner",nw="x-amz-grant-full-control",rw="x-amz-grant-read",ow="x-amz-grant-read-acp",sw="x-amz-grant-write-acp",iw="x-amz-mfa",Pf="x-amz-missing-meta",Ff="x-amz-mp-parts-count",Df="x-amz-object-lock-legal-hold",Lf="x-amz-object-lock-mode",$c="x-amz-object-lock-retain-until-date",aw="x-amz-restore",Hc="x-amz-request-charged",Vc="x-amz-request-payer",cw="x-amz-replication-status",Gf="x-amz-storage-class",uw="x-amz-sdk-checksum-algorithm",qc="x-amz-server-side-encryption",Kc="x-amz-server-side-encryption-aws-kms-key-id",go="x-amz-server-side-encryption-bucket-key-enabled",Uf="x-amz-server-side-encryption-context",Us="x-amz-server-side-encryption-customer-algorithm",jf="x-amz-server-side-encryption-customer-key",js="x-amz-server-side-encryption-customer-key-md5",lw="x-amz-tagging",zf="x-amz-tagging-count",Xc="x-amz-version-id",$f="x-amz-website-redirect-location",Wc="x-id";class dw extends(eo.classBuilder().ep({...Jo,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,o){return[Po(r,this.serialize,this.deserialize),Fo(r,n.getEndpointParameterInstructions()),Bi(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(void 0,Sy).ser(zy).de(qy).build()){}function Hf(e){return"string"==typeof e?0===e.length:0===e.byteLength}var Vf={name:"SHA-1"},qf={name:"HMAC",hash:Vf},pw=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const mw={};function pn(){return typeof window<"u"?window:typeof self<"u"?self:mw}var hw=function(){function e(n){this.toHash=new Uint8Array(0),void 0!==n&&(this.key=new Promise(function(t,r){pn().crypto.subtle.importKey("raw",Kf(n),qf,!1,["sign"]).then(t,r)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!Hf(n)){var t=Kf(n),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return pn().crypto.subtle.sign(qf,t,n.toHash).then(function(r){return new Uint8Array(r)})}):Hf(this.toHash)?Promise.resolve(pw):Promise.resolve().then(function(){return pn().crypto.subtle.digest(Vf,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function Kf(e){return"string"==typeof e?(e=>(new TextEncoder).encode(e))(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var gw=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function Xf(e){return!(!function yw(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}(e)||"object"!=typeof e.crypto.subtle)&&function Wf(e){return e&&gw.every(function(n){return"function"==typeof e[n]})}(e.crypto.subtle)}var bw=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function mn(e){return e instanceof Uint8Array?e:"string"==typeof e?bw(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function yo(e){return"string"==typeof e?0===e.length:0===e.byteLength}function Yf(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}function Qf(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t],t+=1;return n}return Uint32Array.from(e)}var Cw=function(){function e(n){if(!Xf(pn()))throw new Error("SHA1 not supported");this.hash=new hw(n)}return e.prototype.update=function(n,t){this.hash.update(mn(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Jf={name:"SHA-256"},Zf={name:"HMAC",hash:Jf},Sw=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Ew=function(){function e(n){this.toHash=new Uint8Array(0),this.secret=n,this.reset()}return e.prototype.update=function(n){if(!yo(n)){var t=mn(n),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return pn().crypto.subtle.sign(Zf,t,n.toHash).then(function(r){return new Uint8Array(r)})}):yo(this.toHash)?Promise.resolve(Sw):Promise.resolve().then(function(){return pn().crypto.subtle.digest(Jf,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){var n=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(t,r){pn().crypto.subtle.importKey("raw",mn(n.secret),Zf,!1,["sign"]).then(t,r)}),this.key.catch(function(){}))},e}(),hn=P(1635),ww=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vw=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],kw=Math.pow(2,53)-1,zs=function(){function e(){this.state=Int32Array.from(vw),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=n.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>kw)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=n[t++],r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%64>=56){for(var o=this.bufferLength;o<64;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)t.setUint8(o,0);t.setUint32(56,Math.floor(n/4294967296),!0),t.setUint32(60,n),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(32);for(o=0;o<8;o++)s[4*o]=this.state[o]>>>24&255,s[4*o+1]=this.state[o]>>>16&255,s[4*o+2]=this.state[o]>>>8&255,s[4*o+3]=this.state[o]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var t=this.buffer,r=this.state,o=r[0],s=r[1],a=r[2],c=r[3],f=r[4],m=r[5],x=r[6],b=r[7],v=0;v<64;v++){if(v<16)this.temp[v]=(255&t[4*v])<<24|(255&t[4*v+1])<<16|(255&t[4*v+2])<<8|255&t[4*v+3];else{var O=this.temp[v-2];this.temp[v]=(((O>>>17|O<<15)^(O>>>19|O<<13)^O>>>10)+this.temp[v-7]|0)+((((O=this.temp[v-15])>>>7|O<<25)^(O>>>18|O<<14)^O>>>3)+this.temp[v-16]|0)}var $=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&m^~f&x)|0)+(b+(ww[v]+this.temp[v]|0)|0)|0,se=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0;b=x,x=m,m=f,f=c+$|0,c=a,a=s,s=o,o=$+se|0}r[0]+=o,r[1]+=s,r[2]+=a,r[3]+=c,r[4]+=f,r[5]+=m,r[6]+=x,r[7]+=b},e}(),Tw=function(){function e(n){this.secret=n,this.hash=new zs,this.reset()}return e.prototype.update=function(n){if(!yo(n)&&!this.error)try{this.hash.update(mn(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,hn.sH)(this,void 0,void 0,function(){return(0,hn.YH)(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new zs,this.secret){this.outer=new zs;var n=function Rw(e){var n=mn(e);if(n.byteLength>64){var t=new zs;t.update(n),n=t.digest()}var r=new Uint8Array(64);return r.set(n),r}(this.secret),t=new Uint8Array(64);t.set(n);for(var r=0;r<64;r++)n[r]^=54,t[r]^=92;for(this.hash.update(n),this.outer.update(t),r=0;r<n.byteLength;r++)n[r]=0}},e}(),Bw=function(){function e(n){this.hash=Xf(pn())?new Ew(n):new Tw(n)}return e.prototype.update=function(n,t){this.hash.update(mn(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Iw=P(3349),e_=P.n(Iw);const Nw=({serviceId:e,clientVersion:n})=>(0,g.A)(function*(){const t=typeof window<"u"&&window?.navigator?.userAgent?e_().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["ua","2.0"],[`os/${t?.os?.name||"other"}`,t?.os?.version],["lang/js"],["md/browser",`${t?.browser?.name??"unknown"}_${t?.browser?.version??"unknown"}`]];return e&&r.push([`api/${e}`,n]),r});var Ow=function(){function e(){this.crc32=new xo}return e.prototype.update=function(n){yo(n)||this.crc32.update(mn(n))},e.prototype.digest=function(){return(0,hn.sH)(this,void 0,void 0,function(){return(0,hn.YH)(this,function(n){return[2,Yf(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new xo},e}(),xo=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,r;try{for(var o=(0,hn.Ju)(n),s=o.next();!s.done;s=o.next())this.checksum=this.checksum>>>8^Pw[255&(this.checksum^s.value)]}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),Pw=Qf([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);class bo{constructor(n){if(this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(n));r>-1&&o>0;r--,o/=256)t[r]=o;return n<0&&t_(t),new bo(t)}valueOf(){const n=this.bytes.slice(0),t=128&n[0];return t&&t_(n),parseInt(_t(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function t_(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,0===e[n]);n--);}class Fw{constructor(n,t){this.toUtf8=n,this.fromUtf8=t}format(n){const t=[];for(const s of Object.keys(n)){const a=this.fromUtf8(s);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(n[s]))}const r=new Uint8Array(t.reduce((s,a)=>s+a.byteLength,0));let o=0;for(const s of t)r.set(s,o),o+=s.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(n.value.bytes,1),o;case"binary":const s=new DataView(new ArrayBuffer(3+n.value.byteLength));s.setUint8(0,6),s.setUint16(1,n.value.byteLength,!1);const a=new Uint8Array(s.buffer);return a.set(n.value,3),a;case"string":const c=this.fromUtf8(n.value),f=new DataView(new ArrayBuffer(3+c.byteLength));f.setUint8(0,7),f.setUint16(1,c.byteLength,!1);const m=new Uint8Array(f.buffer);return m.set(c,3),m;case"timestamp":const x=new Uint8Array(9);return x[0]=8,x.set(bo.fromNumber(n.value.valueOf()).bytes,1),x;case"uuid":if(!qw.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const b=new Uint8Array(17);return b[0]=9,b.set(au(n.value.replace(/\-/g,"")),1),b}}parse(n){const t={};let r=0;for(;r<n.byteLength;){const o=n.getUint8(r++),s=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,o));switch(r+=o,n.getUint8(r++)){case 0:t[s]={type:n_,value:!0};break;case 1:t[s]={type:n_,value:!1};break;case 2:t[s]={type:Lw,value:n.getInt8(r++)};break;case 3:t[s]={type:Gw,value:n.getInt16(r,!1)},r+=2;break;case 4:t[s]={type:Uw,value:n.getInt32(r,!1)},r+=4;break;case 5:t[s]={type:jw,value:new bo(new Uint8Array(n.buffer,n.byteOffset+r,8))},r+=8;break;case 6:const a=n.getUint16(r,!1);r+=2,t[s]={type:zw,value:new Uint8Array(n.buffer,n.byteOffset+r,a)},r+=a;break;case 7:const c=n.getUint16(r,!1);r+=2,t[s]={type:$w,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,c))},r+=c;break;case 8:t[s]={type:Hw,value:new Date(new bo(new Uint8Array(n.buffer,n.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const f=new Uint8Array(n.buffer,n.byteOffset+r,16);r+=16,t[s]={type:Vw,value:`${_t(f.subarray(0,4))}-${_t(f.subarray(4,6))}-${_t(f.subarray(6,8))}-${_t(f.subarray(8,10))}-${_t(f.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}const n_="boolean",Lw="byte",Gw="short",Uw="integer",jw="long",zw="binary",$w="string",Hw="timestamp",Vw="uuid",qw=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Ww{constructor(n,t){this.headerMarshaller=new Fw(n,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(n){this.messageBuffer.push(this.decode(n))}endOfStream(){this.isEndOfStream=!0}getMessage(){const n=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>n,isEndOfStream:()=>t}}getAvailableMessages(){const n=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>n,isEndOfStream:()=>t}}encode({headers:n,body:t}){const r=this.headerMarshaller.format(n),o=r.byteLength+t.byteLength+16,s=new Uint8Array(o),a=new DataView(s.buffer,s.byteOffset,s.byteLength),c=new xo;return a.setUint32(0,o,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,c.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(t,r.byteLength+12),a.setUint32(o-4,c.update(s.subarray(8,o-4)).digest(),!1),s}decode(n){const{headers:t,body:r}=function Xw({byteLength:e,byteOffset:n,buffer:t}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(t,n,e),o=r.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");const s=r.getUint32(4,!1),a=r.getUint32(8,!1),c=r.getUint32(e-4,!1),f=(new xo).update(new Uint8Array(t,n,8));if(a!==f.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${f.digest()})`);if(f.update(new Uint8Array(t,n+8,e-12)),c!==f.digest())throw new Error(`The message checksum (${f.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,n+8+4,s),body:new Uint8Array(t,n+8+4+s,o-s-16)}}(n);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(n){return this.headerMarshaller.format(n)}}function zt(e){return new tl(e,0)}function $s(e){var n,t,r,o=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new Hs(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Hs(e){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then(function(o){return{value:o,done:r}})}return(Hs=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(r){var o=this.s.return;return void 0===o?Promise.resolve({value:r,done:!0}):n(o.apply(this.s,arguments))},throw:function(r){var o=this.s.return;return void 0===o?Promise.reject(r):n(o.apply(this.s,arguments))}},new Hs(e)}class Yw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return lr(function*(){var o,t=!1,r=!1;try{for(var a,s=$s(n.options.inputStream);t=!(a=yield zt(s.next())).done;t=!1){const c=a.value;yield n.options.decoder.decode(c)}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield zt(s.return()))}finally{if(r)throw o}}})()}}class Qw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return lr(function*(){var o,t=!1,r=!1;try{for(var a,s=$s(n.options.messageStream);t=!(a=yield zt(s.next())).done;t=!1){const c=a.value;yield n.options.encoder.encode(c)}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield zt(s.return()))}finally{if(r)throw o}}n.options.includeEndFrame&&(yield new Uint8Array(0))})()}}class Jw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return lr(function*(){var o,t=!1,r=!1;try{for(var a,s=$s(n.options.messageStream);t=!(a=yield zt(s.next())).done;t=!1){const c=a.value;{const f=yield zt(n.options.deserializer(c));if(void 0===f)continue;yield f}}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield zt(s.return()))}finally{if(r)throw o}}})()}}class Zw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return lr(function*(){var o,t=!1,r=!1;try{for(var a,s=$s(n.options.inputStream);t=!(a=yield zt(s.next())).done;t=!1){const c=a.value;yield n.options.serializer(c)}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield zt(s.return()))}finally{if(r)throw o}}})()}}function o_(e,n){return function(){var t=(0,g.A)(function*(r){const{value:o}=r.headers[":message-type"];if("error"===o){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}if("exception"===o){const s=r.headers[":exception-type"].value,a={[s]:r},c=yield e(a);if(c.$unknown){const f=new Error(n(r.body));throw f.name=s,f}throw c[s]}if("event"===o){const s={[r.headers[":event-type"].value]:r},a=yield e(s);return a.$unknown?void 0:a}throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)});return function(r){return t.apply(this,arguments)}}()}class tv{constructor({utf8Encoder:n,utf8Decoder:t}){this.eventStreamCodec=new Ww(n,t),this.utfEncoder=n}deserialize(n,t){const r=function ev(e){let n=0,t=0,r=null,o=null;const s=c=>{if("number"!=typeof c)throw new Error("Attempted to allocate an event message where size was not a number: "+c);n=c,t=4,r=new Uint8Array(c),new DataView(r.buffer).setUint32(0,c,!1)},a=function(){var c=lr(function*(){const f=e[Symbol.asyncIterator]();for(;;){const{value:m,done:x}=yield zt(f.next());if(x){if(!n)return;if(n!==t)throw new Error("Truncated event message received.");return void(yield r)}const b=m.length;let v=0;for(;v<b;){if(!r){const H=b-v;o||(o=new Uint8Array(4));const Z=Math.min(4-t,H);if(o.set(m.slice(v,v+Z),t),t+=Z,v+=Z,t<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}const O=Math.min(n-t,b-v);r.set(m.slice(v,v+O),t),t+=O,v+=O,n&&n===t&&(yield r,r=null,n=0,t=0)}}});return function(){return c.apply(this,arguments)}}();return{[Symbol.asyncIterator]:a}}(n);return new Jw({messageStream:new Yw({inputStream:r,decoder:this.eventStreamCodec}),deserializer:o_(t,this.utfEncoder)})}serialize(n,t){return new Qw({messageStream:new Zw({inputStream:n,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}class ov{constructor({utf8Encoder:n,utf8Decoder:t}){this.universalMarshaller=new tv({utf8Decoder:t,utf8Encoder:n})}deserialize(n,t){const r=sv(n)?(e=>({[Symbol.asyncIterator]:lr(function*(){const n=e.getReader();try{for(;;){const{done:t,value:r}=yield zt(n.read());if(t)return;yield r}}finally{n.releaseLock()}})}))(n):n;return this.universalMarshaller.deserialize(r,t)}serialize(n,t){const r=this.universalMarshaller.serialize(n,t);return"function"==typeof ReadableStream?(e=>{const n=e[Symbol.asyncIterator]();return new ReadableStream({pull:t=>(0,g.A)(function*(){const{done:r,value:o}=yield n.next();if(r)return t.close();t.enqueue(o)})()})})(r):r}}const sv=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,iv=e=>new ov(e),cv=function(){var e=(0,g.A)(function*(t,r){const o=new t;return yield function av(e,n,t=1048576){return new Promise((r,o)=>{const s=new FileReader;s.addEventListener("error",o),s.addEventListener("abort",o);const a=e.size;let c=0;function f(){c>=a?r():s.readAsArrayBuffer(e.slice(c,Math.min(a,c+t)))}s.addEventListener("load",m=>{const x=m.target.result;n(new Uint8Array(x)),c+=x.byteLength,f()}),f()})}(r,s=>{o.update(s)}),o.digest()});return function n(t,r){return e.apply(this,arguments)}}(),uv=e=>()=>Promise.reject(e),dv=[1732584193,4023233417,2562383102,271733878];class fv{constructor(){this.reset()}update(n){if(function _v(e){return"string"==typeof e?0===e.length:0===e.byteLength}(n))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=function pv(e){return"string"==typeof e?Sn(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(n);let r=0,{byteLength:o}=t;for(this.bytesHashed+=o;o>0;)this.buffer.setUint8(this.bufferLength++,t[r++]),o--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}digest(){var n=this;return(0,g.A)(function*(){if(!n.finished){const{buffer:r,bufferLength:o,bytesHashed:s}=n,a=8*s;if(r.setUint8(n.bufferLength++,128),o%64>=56){for(let c=n.bufferLength;c<64;c++)r.setUint8(c,0);n.hashBuffer(),n.bufferLength=0}for(let c=n.bufferLength;c<56;c++)r.setUint8(c,0);r.setUint32(56,a>>>0,!0),r.setUint32(60,Math.floor(a/4294967296),!0),n.hashBuffer(),n.finished=!0}const t=new DataView(new ArrayBuffer(16));for(let r=0;r<4;r++)t.setUint32(4*r,n.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)})()}hashBuffer(){const{buffer:n,state:t}=this;let r=t[0],o=t[1],s=t[2],a=t[3];r=rt(r,o,s,a,n.getUint32(0,!0),7,3614090360),a=rt(a,r,o,s,n.getUint32(4,!0),12,3905402710),s=rt(s,a,r,o,n.getUint32(8,!0),17,606105819),o=rt(o,s,a,r,n.getUint32(12,!0),22,3250441966),r=rt(r,o,s,a,n.getUint32(16,!0),7,4118548399),a=rt(a,r,o,s,n.getUint32(20,!0),12,1200080426),s=rt(s,a,r,o,n.getUint32(24,!0),17,2821735955),o=rt(o,s,a,r,n.getUint32(28,!0),22,4249261313),r=rt(r,o,s,a,n.getUint32(32,!0),7,1770035416),a=rt(a,r,o,s,n.getUint32(36,!0),12,2336552879),s=rt(s,a,r,o,n.getUint32(40,!0),17,4294925233),o=rt(o,s,a,r,n.getUint32(44,!0),22,2304563134),r=rt(r,o,s,a,n.getUint32(48,!0),7,1804603682),a=rt(a,r,o,s,n.getUint32(52,!0),12,4254626195),s=rt(s,a,r,o,n.getUint32(56,!0),17,2792965006),o=rt(o,s,a,r,n.getUint32(60,!0),22,1236535329),r=ot(r,o,s,a,n.getUint32(4,!0),5,4129170786),a=ot(a,r,o,s,n.getUint32(24,!0),9,3225465664),s=ot(s,a,r,o,n.getUint32(44,!0),14,643717713),o=ot(o,s,a,r,n.getUint32(0,!0),20,3921069994),r=ot(r,o,s,a,n.getUint32(20,!0),5,3593408605),a=ot(a,r,o,s,n.getUint32(40,!0),9,38016083),s=ot(s,a,r,o,n.getUint32(60,!0),14,3634488961),o=ot(o,s,a,r,n.getUint32(16,!0),20,3889429448),r=ot(r,o,s,a,n.getUint32(36,!0),5,568446438),a=ot(a,r,o,s,n.getUint32(56,!0),9,3275163606),s=ot(s,a,r,o,n.getUint32(12,!0),14,4107603335),o=ot(o,s,a,r,n.getUint32(32,!0),20,1163531501),r=ot(r,o,s,a,n.getUint32(52,!0),5,2850285829),a=ot(a,r,o,s,n.getUint32(8,!0),9,4243563512),s=ot(s,a,r,o,n.getUint32(28,!0),14,1735328473),o=ot(o,s,a,r,n.getUint32(48,!0),20,2368359562),r=st(r,o,s,a,n.getUint32(20,!0),4,4294588738),a=st(a,r,o,s,n.getUint32(32,!0),11,2272392833),s=st(s,a,r,o,n.getUint32(44,!0),16,1839030562),o=st(o,s,a,r,n.getUint32(56,!0),23,4259657740),r=st(r,o,s,a,n.getUint32(4,!0),4,2763975236),a=st(a,r,o,s,n.getUint32(16,!0),11,1272893353),s=st(s,a,r,o,n.getUint32(28,!0),16,4139469664),o=st(o,s,a,r,n.getUint32(40,!0),23,3200236656),r=st(r,o,s,a,n.getUint32(52,!0),4,681279174),a=st(a,r,o,s,n.getUint32(0,!0),11,3936430074),s=st(s,a,r,o,n.getUint32(12,!0),16,3572445317),o=st(o,s,a,r,n.getUint32(24,!0),23,76029189),r=st(r,o,s,a,n.getUint32(36,!0),4,3654602809),a=st(a,r,o,s,n.getUint32(48,!0),11,3873151461),s=st(s,a,r,o,n.getUint32(60,!0),16,530742520),o=st(o,s,a,r,n.getUint32(8,!0),23,3299628645),r=it(r,o,s,a,n.getUint32(0,!0),6,4096336452),a=it(a,r,o,s,n.getUint32(28,!0),10,1126891415),s=it(s,a,r,o,n.getUint32(56,!0),15,2878612391),o=it(o,s,a,r,n.getUint32(20,!0),21,4237533241),r=it(r,o,s,a,n.getUint32(48,!0),6,1700485571),a=it(a,r,o,s,n.getUint32(12,!0),10,2399980690),s=it(s,a,r,o,n.getUint32(40,!0),15,4293915773),o=it(o,s,a,r,n.getUint32(4,!0),21,2240044497),r=it(r,o,s,a,n.getUint32(32,!0),6,1873313359),a=it(a,r,o,s,n.getUint32(60,!0),10,4264355552),s=it(s,a,r,o,n.getUint32(24,!0),15,2734768916),o=it(o,s,a,r,n.getUint32(52,!0),21,1309151649),r=it(r,o,s,a,n.getUint32(16,!0),6,4149444226),a=it(a,r,o,s,n.getUint32(44,!0),10,3174756917),s=it(s,a,r,o,n.getUint32(8,!0),15,718787259),o=it(o,s,a,r,n.getUint32(36,!0),21,3951481745),t[0]=r+t[0]&4294967295,t[1]=o+t[1]&4294967295,t[2]=s+t[2]&4294967295,t[3]=a+t[3]&4294967295}reset(){this.state=Uint32Array.from(dv),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Vs(e,n,t,r,o,s){return((n=(n+e&4294967295)+(r+s&4294967295)&4294967295)<<o|n>>>32-o)+t&4294967295}function rt(e,n,t,r,o,s,a){return Vs(n&t|~n&r,e,n,o,s,a)}function ot(e,n,t,r,o,s,a){return Vs(n&r|t&~r,e,n,o,s,a)}function st(e,n,t,r,o,s,a){return Vs(n^t^r,e,n,o,s,a)}function it(e,n,t,r,o,s,a){return Vs(t^(n|~r),e,n,o,s,a)}const s_="function"==typeof TextEncoder?new TextEncoder:null,mv=e=>{if("string"==typeof e){if(s_)return s_.encode(e).byteLength;let n=e.length;for(let t=n-1;t>=0;t--){const r=e.charCodeAt(t);r>127&&r<=2047?n++:r>2047&&r<=65535&&(n+=2),r>=56320&&r<=57343&&t--}return n}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},Yc=e=>new Date(Date.now()+e),i_=e=>bn.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,a_=(e,n)=>{const t=Date.parse(e);return((e,n)=>Math.abs(Yc(n).getTime()-e)>=3e5)(t,n)?t-Date.now():n},Co=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},c_=function(){var e=(0,g.A)(function*(n){const t=Co("context",n.context),r=Co("config",n.config),o=t.endpointV2?.properties?.authSchemes?.[0],a=yield Co("signer",r.signer)(o),c=n?.signingRegion,f=n?.signingRegionSet,m=n?.signingName;return{config:r,signer:a,signingRegion:c,signingRegionSet:f,signingName:m}});return function(t){return e.apply(this,arguments)}}();class u_{sign(n,t,r){return(0,g.A)(function*(){if(!Te.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const o=yield c_(r),{config:s,signer:a}=o;let{signingRegion:c,signingName:f}=o;const m=r.context;if(m?.authSchemes?.length){const[b,v]=m.authSchemes;"sigv4a"===b?.name&&"sigv4"===v?.name&&(c=v?.signingRegion??c,f=v?.signingName??f)}return yield a.sign(n,{signingDate:Yc(s.systemClockOffset),signingRegion:c,signingService:f})})()}errorHandler(n){return t=>{const r=t.ServerTime??i_(t.$response);if(r){const o=Co("config",n.config),s=o.systemClockOffset;o.systemClockOffset=a_(r,o.systemClockOffset),o.systemClockOffset!==s&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){const r=i_(n);if(r){const o=Co("config",t.config);o.systemClockOffset=a_(r,o.systemClockOffset)}}}class gv extends u_{sign(n,t,r){return(0,g.A)(function*(){if(!Te.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:o,signer:s,signingRegion:a,signingRegionSet:c,signingName:f}=yield c_(r),x=((yield o.sigv4aSigningRegionSet?.())??c??[a]).join(",");return yield s.sign(n,{signingDate:Yc(o.systemClockOffset),signingRegion:x,signingService:f})})()}}const xv=["in-region","cross-region","mobile","standard","legacy"],Sv=e=>{const n=(({defaultsMode:e}={})=>ty((0,g.A)(function*(){const n="function"==typeof e?yield e():e;switch(n?.toLowerCase()){case"auto":return Promise.resolve((()=>{const n=(typeof window<"u"&&window?.navigator?.userAgent?e_().parse(window.navigator.userAgent):void 0)?.platform?.type;return"tablet"===n||"mobile"===n})()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${xv.join(", ")}, got ${n}`)}})))(e),t=()=>n().then(jp),r=(e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??Ys,base64Encoder:e?.base64Encoder??Qs,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??zd,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??ap,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??py,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new u_},{schemeId:"aws.auth#sigv4a",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4a"),signer:new gv}],logger:e?.logger??new Ws,sdkStreamMixin:e?.sdkStreamMixin??pp,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??ry,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Mo,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??Sn,utf8Encoder:e?.utf8Encoder??Js}))(e);return{...r,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:e?.bodyLengthChecker??mv,credentialDefaultProvider:e?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Nw({serviceId:r.serviceId,clientVersion:"3.633.0"}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??iv,maxAttempts:e?.maxAttempts??3,md5:e?.md5??fv,region:e?.region??uv("Region is missing"),requestHandler:ei.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,g.A)(function*(){return(yield t()).retryMode||Du}),sha1:e?.sha1??Cw,sha256:e?.sha256??Bw,streamCollector:e?.streamCollector??su,streamHasher:e?.streamHasher??cv,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1))}},Ev=e=>{let n=function(){var t=(0,g.A)(function*(){if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const r=e.region;return"string"==typeof r?r:r()});return function(){return t.apply(this,arguments)}}();return{setRegion(t){n=t},region:()=>n}},Av=e=>({region:e.region()}),kv=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(o){const s=n.findIndex(a=>a.schemeId===o.schemeId);-1===s?n.push(o):n.splice(s,1,o)},httpAuthSchemes:()=>n,setHttpAuthSchemeProvider(o){t=o},httpAuthSchemeProvider:()=>t,setCredentials(o){r=o},credentials:()=>r}},Tv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});class Bv extends rp{constructor(...[n]){const r=(e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}))(Sv(n||{})),o=function mg(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}(r),s=Oh(o),f=(e=>{const n=e.tls??!0,{endpoint:t}=e,r=null!=t?(0,g.A)(function*(){return Mu(yield cn(t)())}):void 0;return{...e,endpoint:r,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:cn(e.useDualstackEndpoint??!1),useFipsEndpoint:cn(e.useFipsEndpoint??!1)}})(Wg(s)),m=(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(f),x=(e=>{const n=ey(e);return{...ny(n)}})(m),v=((e,n)=>{const t={...Ev(e),...qp(e),...P_(e),...kv(e)};return n.forEach(r=>r.configure(t)),{...e,...Av(t),...Kp(t),...F_(t),...Tv(t)}})(rg(x,{session:[()=>this,dw]}),n?.extensions||[]);var O;super(v),this.config=v,this.middlewareStack.use((e=>({applyToStack:n=>{n.add(Lg(e),Gg)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(Gh(e),Ju)}}))(this.config)),this.middlewareStack.use(Zg(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(q_(e),K_)}}))(this.config)),this.middlewareStack.use({applyToStack:n=>{n.add(W_(),Y_)}}),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(ep(e),tp)}}))(this.config)),this.middlewareStack.use(((e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:r=>{r.addRelativeTo(qm(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),ch)}}))(this.config,{httpAuthSchemeParametersProvider:_y,identityProviderConfigProvider:(O=(0,g.A)(function*(H){return new qh({"aws.auth#sigv4":H.credentials,"aws.auth#sigv4a":H.credentials})}),function(Z){return O.apply(this,arguments)})})),this.middlewareStack.use({applyToStack:n=>{n.addRelativeTo(_h(),Zu)}}),this.middlewareStack.use(pg(this.config)),this.middlewareStack.use(V_(this.config)),this.middlewareStack.use(am(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(zm(e),$m)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.addRelativeTo(tg(e),Zu)}}))(this.config))}destroy(){super.destroy()}}var tt=function(e){return e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256",e}(tt||{});const Nv=tt.MD5,Ov=tt.CRC32,Qc=[tt.CRC32,tt.CRC32C,tt.SHA1,tt.SHA256],Mv=[tt.CRC32,tt.CRC32C,tt.SHA1,tt.SHA256],Jc=e=>e===tt.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,Zc=e=>void 0!==e&&"string"!=typeof e&&!ArrayBuffer.isView(e)&&!Tu(e);var Dv=function(){function e(){this.crc32c=new eu}return e.prototype.update=function(n){yo(n)||this.crc32c.update(mn(n))},e.prototype.digest=function(){return(0,hn.sH)(this,void 0,void 0,function(){return(0,hn.YH)(this,function(n){return[2,Yf(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new eu},e}(),eu=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,r;try{for(var o=(0,hn.Ju)(n),s=o.next();!s.done;s=o.next())this.checksum=this.checksum>>>8^Gv[255&(this.checksum^s.value)]}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),Gv=Qf([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]);const l_=(e,n)=>({[tt.MD5]:n.md5,[tt.CRC32]:Ow,[tt.CRC32C]:Dv,[tt.SHA1]:n.sha1,[tt.SHA256]:n.sha256}[e]),d_=(e,n)=>{const t=new e;return t.update(ir(n||"")),t.digest()},Uv={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},jv=(e,n)=>(t,r)=>function(){var o=(0,g.A)(function*(s){if(!Te.isInstance(s.request))return t(s);const{request:a}=s,{body:c,headers:f}=a,{base64Encoder:m,streamHasher:x}=e,{input:b,requestChecksumRequired:v,requestAlgorithmMember:O}=n,H=((e,{requestChecksumRequired:n,requestAlgorithmMember:t},r)=>{if(!t||!e[t])return n?r?Ov:Nv:void 0;const s=e[t];if(!Qc.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${Qc}.`);return s})(b,{requestChecksumRequired:v,requestAlgorithmMember:O},!!r.isS3ExpressBucket);let Z=c,$=f;if(H){const ie=Jc(H),Ue=l_(H,e);if(Zc(c)){const{getAwsChunkedEncodingStream:we,bodyLengthChecker:ht}=e;Z=we(c,{base64Encoder:m,bodyLengthChecker:ht,checksumLocationName:ie,checksumAlgorithmFn:Ue,streamHasher:x}),$={...f,"content-encoding":f["content-encoding"]?`${f["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":f["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":ie},delete $["content-length"]}else if(!((e,n)=>{const t=e.toLowerCase();for(const r of Object.keys(n))if(t===r.toLowerCase())return!0;return!1})(ie,f)){const we=yield d_(Ue,c);$={...f,[ie]:m(we)}}}return yield t({...s,request:{...a,headers:$,body:Z}})});return function(s){return o.apply(this,arguments)}}(),f_=(e=[])=>{const n=[];for(const t of Mv)!e.includes(t)||!Qc.includes(t)||n.push(t);return n};function __(e){return new Blob([e]).stream()}const $v=function(){var e=(0,g.A)(function*(n,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:o}){const s=Zc(n)?t(r,n):d_(r,n);return o(yield s)});return function(t,r){return e.apply(this,arguments)}}(),Hv=function(){var e=(0,g.A)(function*(n,{config:t,responseAlgorithms:r}){const o=f_(r),{body:s,headers:a}=n;for(const c of o){const f=Jc(c),m=a[f];if(m){const x=l_(c,t),{streamHasher:b,base64Encoder:v}=t,O=yield $v(s,{streamHasher:b,checksumAlgorithmFn:x,base64Encoder:v});if(O===m)break;throw new Error(`Checksum mismatch: expected "${O}" but received "${m}" in response header "${f}".`)}}});return function(t,r){return e.apply(this,arguments)}}(),Vv={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},qv=(e,n)=>(t,r)=>function(){var o=(0,g.A)(function*(s){if(!Te.isInstance(s.request))return t(s);const a=s.input,c=yield t(s),f=c.response;let m;const{requestValidationModeMember:x,responseAlgorithms:b}=n;if(x&&"ENABLED"===a[x]){const{clientName:v,commandName:O}=r;if("S3Client"===v&&"GetObjectCommand"===O&&f_(b).every($=>{const se=Jc($),ie=f.headers[se];return!ie||(e=>{const n=e.lastIndexOf("-");if(-1!==n){const t=e.slice(n+1);if(!t.startsWith("0")){const r=parseInt(t,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1})(ie)}))return c;const Z=Zc(f.body);Z&&(m=yield e.streamCollector(f.body),f.body=__(m)),yield Hv(c.response,{config:e,responseAlgorithms:b}),Z&&m&&(f.body=__(m))}return c});return function(s){return o.apply(this,arguments)}}(),p_=(e,n)=>({applyToStack:t=>{t.add(jv(e,n),Uv),t.addRelativeTo(qv(e,n),Vv)}}),Xv={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},m_=e=>({applyToStack:n=>{n.add(function Kv(e){return n=>function(){var t=(0,g.A)(function*(r){const o={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const a of s){const c=o[a.target];if(c){let f;"string"==typeof c?Wv(c,e)?f=e.base64Decoder(c):(f=e.utf8Decoder(c),o[a.target]=e.base64Encoder(f)):(f=ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c),o[a.target]=e.base64Encoder(f));const m=new e.md5;m.update(f),o[a.hash]=e.base64Encoder(yield m.digest())}}return n({...r,input:o})});return function(r){return t.apply(this,arguments)}}()}(e),Xv)}});function Wv(e,n){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return 32===n.base64Decoder(e).length}catch{return!1}}class h_ extends(eo.classBuilder().ep({...Jo,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,o){return[Po(r,this.serialize,this.deserialize),Fo(r,n.getEndpointParameterInstructions()),p_(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),nm(),Bi(r),m_(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Dy,Fy).ser(Vy).de(Wy).build()){}class Yv extends(eo.classBuilder().ep({...Jo,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,o){return[Po(r,this.serialize,this.deserialize),Fo(r,n.getEndpointParameterInstructions()),Bi(r)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser($y).de(Ky).build()){}class Qv extends(eo.classBuilder().ep({...Jo,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,o){return[Po(r,this.serialize,this.deserialize),Fo(r,n.getEndpointParameterInstructions()),p_(r,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}),m_(r),{applyToStack:n=>{n.addRelativeTo(cm(),um)}}]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f(By,Ry).ser(Hy).de(Xy).build()){}let Jv=(()=>{class e{constructor(){this.s3Client=null,this.accessKeyId=h.c.s3_key,this.secretAccessKey=h.c.s3_secret,this.bucketS3=h.c.s3_bucket,this.s3Client=new Bv({region:"us-east-1",credentials:{accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey}}),console.log("Instanciado correctamente")}createItem(t,r){var o=this;return(0,g.A)(function*(){if(!o.s3Client)return;const s=new h_({Bucket:o.bucketS3,Key:r,Body:t});return yield o.s3Client.send(s),`https://${o.bucketS3}.s3.amazonaws.com/${r}`})()}putObject(t,r,o){var s=this;return(0,g.A)(function*(){if(!s.s3Client)return;const a=new h_({Bucket:t,Key:r,Body:o});return yield s.s3Client.send(a),`https://${s.bucketS3}.s3.amazonaws.com/${r}`})()}deleteObject(t){if(!this.s3Client)return;const r=new Yv({Bucket:this.bucketS3,Key:t});return this.s3Client.send(r)}getObject(t){if(!this.s3Client)return;const r=new Qv({Bucket:this.bucketS3,Key:t});return this.s3Client.send(r)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function g_(e){let n;return e.form.forEach(r=>{r.dynamicFields.forEach(s=>{n={...n,[s.data.title]:s.fieldFormControl.value}})}),n}var Zv=P(5558),e1=P(6354);let t1=(()=>{class e{constructor(){this.apiUrl=h.c.apiUrl+"/servicios",this.http=(0,i.WQX)(p.Qq)}getAll(){return this.http.get(this.apiUrl)}getOne(t){let r=new p.Nl;return r=r.append("id",t),this.http.get(this.apiUrl,{params:r}).pipe((0,e1.T)(o=>{if(0===o.length)throw new Error("User Not Found");return[o[0]]}))}create(t){throw new Error("Method not implemented.")}update(t,r){throw new Error("Method not implemented.")}delete(t){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),y_=(()=>{class e{static#e=this.states=[{id:1,title:"Activo"},{id:2,title:"Inactivo"}]}return e})();function n1(e,n){}let r1=(()=>{class e{constructor(){this.onShowItem=!1,this.listServices=[],this.listServiceCRM=[],this.states=y_.states,this.listServicesUi=[],this.services=(0,i.WQX)(E),this.servicesCRM=(0,i.WQX)(t1),this.modalService=(0,i.WQX)(tu),this.s3Service=(0,i.WQX)(Jv),this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:t=>{console.log({value:t.value}),this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:t=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1;const r=this.listServicesUi.findIndex(a=>a.service_id===t||a.id===t),o=this.listServicesUi[r].img_url,s=o.substring(o.lastIndexOf("/")+1);console.log({fileName:s}),this.s3Service.deleteObject(s)?.then(a=>{this.services.deleteService(t).subscribe({next:c=>{console.log({resp:c})},error:c=>{console.log({err:c})},complete:()=>{}})})}}}ngOnInit(){this.services.getServices().pipe((0,Zv.n)(t=>(this.listServices=[...t],this.servicesCRM.getAll()))).subscribe({next:t=>{this.listServiceCRM=[...t],this.listServicesUi=this.listServices.map(r=>{const o=this.listServiceCRM.filter(s=>s.servicio_id===r.servicio_id)[0];return{...r,service:o,status:this.states.find(s=>s.id===r.status)||{id:0,title:""}}}),console.log(this.listServicesUi)},error:t=>{},complete:()=>{}})}onDetailService(t){const r=this.dcWrapper.viewContainerRef;r.clear();const o=r.createComponent(me);o.instance.detailListener=this.detailListener,o.instance.service=t,o.instance.data={items:this.listServiceCRM.map(s=>({id:s.servicio_id,name:s.servicio}))},this.onShowItem=!0}onAddService(){const t={component:Ks,data:{title:"Detalles del servicio",description:"Especificaciones necesarias del servicio"},dynamicFields:[{component:O_,data:{title:"Plan",items:this.listServiceCRM.map(o=>({id:o.servicio_id,name:o.servicio}))},fieldFormControl:new T.MJ("")},{component:Qr,data:{placeholder:"Descripcion general del plan",title:"Descripcion"},fieldFormControl:new T.MJ("")},{component:Qr,data:{placeholder:"Destinos que se podran visualizar",title:"Destinos"},fieldFormControl:new T.MJ("")}]},r={component:Ks,data:{title:"Imagen",description:"Selecciona la imagen a agregar"},dynamicFields:[{component:M_,data:{title:"Imagen"},fieldFormControl:new T.MJ("")}]};this.modalService.open(N_,{title:"Agregar Plan",size:"sm",forms:[t,r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:Pe.Create,title:"Agregar"}]}).subscribe({next:o=>{const s=g_(o),{Plan:a,Descripcion:c,Imagen:f,Destinos:m}=s,x=Math.floor(1e3*Math.random()),b=f.name.split("."),v=`${x}-${a}`,O=b[b.length-1];this.s3Service.createItem(f,v+"."+O).then(H=>{this.services.createService({servicio_id:a,description:c,destiny:m,img_url:H,status:1}).subscribe({next:$=>{this.listServices.push($),this.listServicesUi.push({...$,service:this.listServiceCRM.filter(se=>se.servicio_id===$.servicio_id)[0],status:this.states.find(se=>se.id===$.status)||{id:0,title:""}}),this.s3Service.deleteObject(v+"."+O)},error:$=>{this.s3Service.deleteObject(v+"."+O)},complete:()=>{}})})},error:o=>{},complete:()=>{}})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-service-mobile"]],viewQuery:function(r,o){if(1&r&&i.GBs(R,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[i.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onAddServiceToggle"],[3,"onSelectService","listServices"],["dcWrapper",""]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",0)(2,"app-service-mobile-header",1),i.bIt("onAddServiceToggle",function(){return o.onAddService()}),i.k0s(),i.j41(3,"app-list-service-mobile",2),i.bIt("onSelectService",function(a){return o.onDetailService(a)}),i.k0s()(),i.DNE(4,n1,0,0,"ng-template",3),i.k0s()),2&r&&(i.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),i.R7$(),i.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),i.R7$(2),i.Y8G("listServices",o.listServicesUi))},dependencies:[k.MD,G,C,R],encapsulation:2})}return e})(),o1=(()=>{class e{constructor(){this.onAddLinkToggle=new i.bkB}ngOnInit(){}onAddToggle(){this.onAddLinkToggle.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-links-header"]],outputs:{onAddLinkToggle:"onAddLinkToggle"},standalone:!0,features:[i.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"h3",2),i.EFF(3,"Enlaces"),i.k0s(),i.j41(4,"div",3)(5,"a",4),i.EFF(6,"Lista"),i.k0s(),i.j41(7,"span"),i.EFF(8," - Enlaces"),i.k0s()()(),i.j41(9,"div",5)(10,"button",6),i.bIt("click",function(){return o.onAddToggle()}),i.EFF(11," Agregar Enlace "),i.k0s()()())},dependencies:[k.MD],encapsulation:2})}return e})();const s1=["item-list-link",""];let i1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["","item-list-link",""]],inputs:{link:"link"},standalone:!0,features:[i.aNF],attrs:s1,decls:12,vars:4,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"py-3","pl-3","text-right"],[1,"p-2","text-sm","text-muted-foreground",3,"ngClass"]],template:function(r,o){1&r&&(i.j41(0,"td",0)(1,"div")(2,"span",1),i.EFF(3),i.k0s()()(),i.j41(4,"td",0)(5,"div",2)(6,"span",1),i.EFF(7),i.k0s()()(),i.j41(8,"td",3)(9,"div",2)(10,"span",4),i.EFF(11),i.k0s()()()),2&r&&(i.R7$(3),i.JRh(o.link.title),i.R7$(4),i.JRh(o.link.subtitle),i.R7$(3),i.Y8G("ngClass",1==o.link.status.id?"border border-green-800 items-end w-fit rounded-md ":"border border-red-800  items-end w-fit rounded-md "),i.R7$(),i.JRh(o.link.status.title))},dependencies:[k.MD,k.YU],encapsulation:2})}return e})();function a1(e,n){if(1&e){const t=i.RV6();i.j41(0,"tr",15),i.bIt("click",function(){const o=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onSelectTable(o))}),i.k0s()}2&e&&i.Y8G("link",n.$implicit)}let c1=(()=>{class e{constructor(){this.links=[],this.states=[],this.onSelectLink=new i.bkB}onSelectTable(t){this.onSelectLink.emit(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-list-links"]],inputs:{links:"links",states:"states"},outputs:{onSelectLink:"onSelectLink"},standalone:!0,features:[i.aNF],decls:23,vars:1,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","nuevo enlace",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"relative","overflow-x-auto","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-link","","class","border-b border-dashed border-border hover:bg-card",3,"link","click",4,"ngFor","ngForOf"],["item-list-link","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","link"]],template:function(r,o){1&r&&(i.j41(0,"div",0),i.nrm(1,"hr",1),i.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),i.EFF(8,"Enlaces"),i.k0s(),i.nrm(9,"input",8),i.k0s()()()()(),i.nrm(10,"hr",1),i.j41(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),i.EFF(16,"Titulo"),i.k0s(),i.j41(17,"th",12),i.EFF(18,"Subtitulo"),i.k0s(),i.j41(19,"th",13),i.EFF(20,"Status"),i.k0s()()(),i.j41(21,"tbody"),i.DNE(22,a1,1,1,"tr",14),i.k0s()()()()),2&r&&(i.R7$(22),i.Y8G("ngForOf",o.links))},dependencies:[k.MD,k.Sq,i1],encapsulation:2})}return e})(),u1=(()=>{class e{constructor(){this.apiMobile=h.c.apiMobile+"links",this.http=(0,i.WQX)(p.Qq)}getLinks(){return this.http.get(this.apiMobile)}getLinkById(t){return this.http.get(`${this.apiMobile}?id=${t}`)}createLink(t){return this.http.post(this.apiMobile,t)}updateLink(t){return this.http.put(`${this.apiMobile}?id=${t.id}`,t)}deleteLink(t){return this.http.delete(`${this.apiMobile}?id=${t}`)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),l1=(()=>{class e{constructor(){this.listStatus=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.linkForm=new T.gE({id:new T.MJ,title:new T.MJ,subtitle:new T.MJ,url:new T.MJ,status:new T.MJ})}ngOnInit(){this.linkForm.setValue({id:this.link.id||this.link.link_id,title:this.link.title,subtitle:this.link.subtitle,url:this.link.url,status:this.link.status.id})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.linkForm)}delete(){this.detailListener.delete(this.link.link_id||this.link.id)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-link-detail"]],inputs:{detailListener:"detailListener",link:"link"},standalone:!0,features:[i.aNF],decls:38,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","title","placeholder","google"],["type","text","formControlName","subtitle","placeholder","Enlace general con detalles precisos"],["type","text","formControlName","url","placeholder","https://google.com"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],[1,""],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(r,o){1&r&&(i.j41(0,"form",0),i.bIt("ngSubmit",function(){return o.onSubmit()}),i.j41(1,"div",1)(2,"div",2)(3,"span",3),i.EFF(4),i.k0s(),i.j41(5,"button",4),i.bIt("click",function(){return o.close()}),i.EFF(6," X "),i.k0s()(),i.nrm(7,"hr",5),i.k0s(),i.j41(8,"div",6),i.nrm(9,"div",7),i.j41(10,"div",6)(11,"div",8)(12,"span",9),i.EFF(13,"Titulo"),i.k0s(),i.nrm(14,"input",10),i.k0s()(),i.nrm(15,"hr",5),i.j41(16,"div",6)(17,"div",8)(18,"span",9),i.EFF(19,"Subtitulo"),i.k0s(),i.nrm(20,"input",11),i.k0s()(),i.j41(21,"div",6)(22,"div",8)(23,"span",9),i.EFF(24,"Enlace"),i.k0s(),i.nrm(25,"input",12),i.k0s()(),i.j41(26,"div",6)(27,"div",8)(28,"span",9),i.EFF(29,"Estado"),i.k0s(),i.nrm(30,"app-select",13),i.k0s()(),i.nrm(31,"hr",5),i.j41(32,"div",14)(33,"button",15),i.EFF(34," Guardar Cambios "),i.k0s(),i.nrm(35,"hr",16),i.j41(36,"button",17),i.bIt("click",function(){return o.delete()}),i.EFF(37," Eliminar "),i.k0s()()()()),2&r&&(i.Y8G("formGroup",o.linkForm),i.R7$(4),i.JRh("Detalles del enlace"),i.R7$(26),i.Y8G("items",o.listStatus))},dependencies:[k.MD,V,T.X1,T.qT,T.me,T.BC,T.cb,T.j4,T.JD,T.YN],encapsulation:2})}return e})();function d1(e,n){1&e&&(i.qSk(),i.j41(0,"svg",9),i.nrm(1,"path",10),i.k0s())}function f1(e,n){if(1&e&&(i.j41(0,"li",6)(1,"span",7),i.EFF(2),i.k0s(),i.EFF(3),i.DNE(4,d1,2,0,"svg",8),i.k0s()),2&e){const t=n.$implicit,r=n.index,o=i.XpG();i.Y8G("ngClass",r==o.actualFormIndex?" text-primary ":r<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),i.R7$(),i.Y8G("classList",r<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),i.R7$(),i.SpI(" ",r+1," "),i.R7$(),i.SpI(" ",t.data.title," "),i.R7$(),i.Y8G("ngIf",r+1<=o.forms.length-1)}}function _1(e,n){}let p1=(()=>{class e{constructor(){this.onCreateModal=new i.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}ngAfterViewInit(){const t=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(t),this.cdr.detectChanges()}loadComponent(t){const r=this.forms[t],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(r.component);s.instance.step=t,s.instance.fields=r.dynamicFields,s.instance.data=r.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-modal-link"]],viewQuery:function(r,o){if(1&r&&i.GBs(R,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[i.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"ol",2),i.DNE(3,f1,5,5,"li",3),i.k0s()(),i.j41(4,"div",4),i.DNE(5,_1,0,0,"ng-template",5),i.k0s()()),2&r&&(i.R7$(3),i.Y8G("ngForOf",o.forms))},dependencies:[k.MD,k.YU,k.Sq,k.bT,R],encapsulation:2})}return e})();function m1(e,n){}const h1=[{path:"",component:S,children:[{path:"services",component:r1},{path:"links",component:(()=>{class e{constructor(){this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:t=>{console.log({value:t.value}),this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,console.log({details:t});const{id:r,status:o,title:s,subtitle:a,url:c}=t.value,f={id:r,status:o,title:s,subtitle:a,url:c};this.linkService.updateLink(f).subscribe({next:m=>{const x=this.states.find(O=>O.id===f.status)||{id:0,title:""},b={link_id:r,id:r,status:x,title:s,subtitle:a,url:c},v=this.links.findIndex(O=>O.link_id===f.id);-1!==v&&(this.links[v]=b),console.log({item:this.links[v]})},error:m=>{console.log({err:m})},complete:()=>{}})},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:t=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.linkService.deleteLink(t).subscribe({next:r=>{const o=this.links.findIndex(s=>s.id===t||s.link_id===t);-1!==o&&this.links.splice(o,1)},error:r=>{},complete:()=>{}})}},this.states=y_.states,this.onShowItem=!1,this.linkService=(0,i.WQX)(u1),this.modalService=(0,i.WQX)(tu),this.links=[]}ngOnInit(){this.linkService.getLinks().subscribe({next:t=>{this.links=[...t.map(r=>{const o=this.states.find(s=>s.id===r.status)||{id:0,title:""};return{...r,status:o}})]},error:t=>{},complete:()=>{}})}onAddLink(){const t={component:Ks,data:{title:"Detalles del nuevo link a agregar",description:"Especificaciones necesarias del link a agregar"},dynamicFields:[{component:Qr,data:{placeholder:"Nuevo Enlace",title:"Titulo"},fieldFormControl:new T.MJ("")},{component:Qr,data:{placeholder:"Descripcion general del enlace",title:"Subtitulo"},fieldFormControl:new T.MJ("")},{component:Qr,data:{placeholder:"https://google.com",title:"url"},fieldFormControl:new T.MJ("")}]};this.modalService.open(p1,{title:"Agregar Enlace",size:"sm",forms:[t],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:Pe.Create,title:"Agregar"}]}).subscribe({next:r=>{const o=g_(r),{Titulo:s,Subtitulo:a,url:c}=o;this.linkService.createLink({title:s,subtitle:a,url:c,status:1}).subscribe({next:m=>{this.links.push({...m,status:this.states.find(x=>x.id===m.status)||{id:0,title:""}})},error:m=>{},complete:()=>{}})},error:r=>{console.log({err:r})},complete:()=>{console.log("Complete")}})}onDetailLink(t){const r=this.dcWrapper.viewContainerRef;r.clear();const o=r.createComponent(l1);o.instance.detailListener=this.detailListener,o.instance.link=t,this.onShowItem=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-links"]],viewQuery:function(r,o){if(1&r&&i.GBs(R,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[i.aNF],decls:5,vars:3,consts:[[3,"classList"],[3,"onAddLinkToggle"],[3,"onSelectLink","links"],["dcWrapper",""]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",0)(2,"app-links-header",1),i.bIt("onAddLinkToggle",function(){return o.onAddLink()}),i.k0s(),i.j41(3,"app-list-links",2),i.bIt("onSelectLink",function(a){return o.onDetailLink(a)}),i.k0s()(),i.DNE(4,m1,0,0,"ng-template",3),i.k0s()),2&r&&(i.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),i.R7$(),i.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),i.R7$(2),i.Y8G("links",o.links))},dependencies:[k.MD,o1,c1,R],encapsulation:2})}return e})()},{path:"",redirectTo:"services",pathMatch:"full"}]},{path:"**",redirectTo:"errors/404"}];let g1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=i.$C({type:e});static#n=this.\u0275inj=i.G2t({imports:[j.iI.forChild(h1),j.iI]})}return e})(),y1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=i.$C({type:e});static#n=this.\u0275inj=i.G2t({imports:[g1]})}return e})()},3349:function(ke){ke.exports=function(re){var P={};function j(k){if(P[k])return P[k].exports;var i=P[k]={i:k,l:!1,exports:{}};return re[k].call(i.exports,i,i.exports,j),i.l=!0,i.exports}return j.m=re,j.c=P,j.d=function(k,i,S){j.o(k,i)||Object.defineProperty(k,i,{enumerable:!0,get:S})},j.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},j.t=function(k,i){if(1&i&&(k=j(k)),8&i||4&i&&"object"==typeof k&&k&&k.__esModule)return k;var S=Object.create(null);if(j.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:k}),2&i&&"string"!=typeof k)for(var G in k)j.d(S,G,function(u){return k[u]}.bind(null,G));return S},j.n=function(k){var i=k&&k.__esModule?function(){return k.default}:function(){return k};return j.d(i,"a",i),i},j.o=function(k,i){return Object.prototype.hasOwnProperty.call(k,i)},j.p="",j(j.s=90)}({17:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k=j(18),i=function(){function S(){}return S.getFirstMatch=function(G,u){var l=u.match(G);return l&&l.length>0&&l[1]||""},S.getSecondMatch=function(G,u){var l=u.match(G);return l&&l.length>1&&l[2]||""},S.matchAndReturnConst=function(G,u,l){if(G.test(u))return l},S.getWindowsVersionName=function(G){switch(G){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},S.getMacOSVersionName=function(G){var u=G.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(u.push(0),10===u[0])switch(u[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},S.getAndroidVersionName=function(G){var u=G.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(u.push(0),!(1===u[0]&&u[1]<5))return 1===u[0]&&u[1]<6?"Cupcake":1===u[0]&&u[1]>=6?"Donut":2===u[0]&&u[1]<2?"Eclair":2===u[0]&&2===u[1]?"Froyo":2===u[0]&&u[1]>2?"Gingerbread":3===u[0]?"Honeycomb":4===u[0]&&u[1]<1?"Ice Cream Sandwich":4===u[0]&&u[1]<4?"Jelly Bean":4===u[0]&&u[1]>=4?"KitKat":5===u[0]?"Lollipop":6===u[0]?"Marshmallow":7===u[0]?"Nougat":8===u[0]?"Oreo":9===u[0]?"Pie":void 0},S.getVersionPrecision=function(G){return G.split(".").length},S.compareVersions=function(G,u,l){void 0===l&&(l=!1);var d=S.getVersionPrecision(G),C=S.getVersionPrecision(u),h=Math.max(d,C),p=0,E=S.map([G,u],function(R){var T=h-S.getVersionPrecision(R),le=R+new Array(T+1).join(".0");return S.map(le.split("."),function(fe){return new Array(20-fe.length).join("0")+fe}).reverse()});for(l&&(p=h-Math.min(d,C)),h-=1;h>=p;){if(E[0][h]>E[1][h])return 1;if(E[0][h]===E[1][h]){if(h===p)return 0;h-=1}else if(E[0][h]<E[1][h])return-1}},S.map=function(G,u){var l,d=[];if(Array.prototype.map)return Array.prototype.map.call(G,u);for(l=0;l<G.length;l+=1)d.push(u(G[l]));return d},S.find=function(G,u){var l,d;if(Array.prototype.find)return Array.prototype.find.call(G,u);for(l=0,d=G.length;l<d;l+=1){var C=G[l];if(u(C,l))return C}},S.assign=function(G){for(var u,l,d=G,C=arguments.length,h=new Array(C>1?C-1:0),p=1;p<C;p++)h[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[G].concat(h));var E=function(){var R=h[u];"object"==typeof R&&null!==R&&Object.keys(R).forEach(function(T){d[T]=R[T]})};for(u=0,l=h.length;u<l;u+=1)E();return G},S.getBrowserAlias=function(G){return k.BROWSER_ALIASES_MAP[G]},S.getBrowserTypeByAlias=function(G){return k.BROWSER_MAP[G]||""},S}();P.default=i,re.exports=P.default},18:function(re,P,j){"use strict";P.__esModule=!0,P.ENGINE_MAP=P.OS_MAP=P.PLATFORMS_MAP=P.BROWSER_MAP=P.BROWSER_ALIASES_MAP=void 0,P.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},P.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},P.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},P.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},P.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k,i=(k=j(91))&&k.__esModule?k:{default:k},S=j(18);function G(l,d){for(var C=0;C<d.length;C++){var h=d[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}var u=function(){function l(){}var d,h;return l.getParser=function(p,E){if(void 0===E&&(E=!1),"string"!=typeof p)throw new Error("UserAgent should be a string");return new i.default(p,E)},l.parse=function(p){return new i.default(p).getResult()},d=l,h=[{key:"BROWSER_MAP",get:function(){return S.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return S.ENGINE_MAP}},{key:"OS_MAP",get:function(){return S.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return S.PLATFORMS_MAP}}],null&&G(d.prototype,null),h&&G(d,h),l}();P.default=u,re.exports=P.default},91:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k=l(j(92)),i=l(j(93)),S=l(j(94)),G=l(j(95)),u=l(j(17));function l(C){return C&&C.__esModule?C:{default:C}}var d=function(){function C(p,E){if(void 0===E&&(E=!1),null==p||""===p)throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},!0!==E&&this.parse()}var h=C.prototype;return h.getUA=function(){return this._ua},h.test=function(p){return p.test(this._ua)},h.parseBrowser=function(){var p=this;this.parsedResult.browser={};var E=u.default.find(k.default,function(R){if("function"==typeof R.test)return R.test(p);if(R.test instanceof Array)return R.test.some(function(T){return p.test(T)});throw new Error("Browser's test function is not valid")});return E&&(this.parsedResult.browser=E.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var p=this;this.parsedResult.os={};var E=u.default.find(i.default,function(R){if("function"==typeof R.test)return R.test(p);if(R.test instanceof Array)return R.test.some(function(T){return p.test(T)});throw new Error("Browser's test function is not valid")});return E&&(this.parsedResult.os=E.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(p){var E=this.getOS().name;return p?String(E).toLowerCase()||"":E||""},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(p){void 0===p&&(p=!1);var E=this.getPlatform().type;return p?String(E).toLowerCase()||"":E||""},h.parsePlatform=function(){var p=this;this.parsedResult.platform={};var E=u.default.find(S.default,function(R){if("function"==typeof R.test)return R.test(p);if(R.test instanceof Array)return R.test.some(function(T){return p.test(T)});throw new Error("Browser's test function is not valid")});return E&&(this.parsedResult.platform=E.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},h.parseEngine=function(){var p=this;this.parsedResult.engine={};var E=u.default.find(G.default,function(R){if("function"==typeof R.test)return R.test(p);if(R.test instanceof Array)return R.test.some(function(T){return p.test(T)});throw new Error("Browser's test function is not valid")});return E&&(this.parsedResult.engine=E.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return u.default.assign({},this.parsedResult)},h.satisfies=function(p){var E=this,R={},T=0,le={},fe=0;if(Object.keys(p).forEach(function(V){var g=p[V];"string"==typeof g?(le[V]=g,fe+=1):"object"==typeof g&&(R[V]=g,T+=1)}),T>0){var Ce=Object.keys(R),w=u.default.find(Ce,function(V){return E.isOS(V)});if(w){var M=this.satisfies(R[w]);if(void 0!==M)return M}var Q=u.default.find(Ce,function(V){return E.isPlatform(V)});if(Q){var B=this.satisfies(R[Q]);if(void 0!==B)return B}}if(fe>0){var z=Object.keys(le),A=u.default.find(z,function(V){return E.isBrowser(V,!0)});if(void 0!==A)return this.compareVersion(le[A])}},h.isBrowser=function(p,E){void 0===E&&(E=!1);var R=this.getBrowserName().toLowerCase(),T=p.toLowerCase(),le=u.default.getBrowserTypeByAlias(T);return E&&le&&(T=le.toLowerCase()),T===R},h.compareVersion=function(p){var E=[0],R=p,T=!1,le=this.getBrowserVersion();if("string"==typeof le)return">"===p[0]||"<"===p[0]?(R=p.substr(1),"="===p[1]?(T=!0,R=p.substr(2)):E=[],E.push(">"===p[0]?1:-1)):"="===p[0]?R=p.substr(1):"~"===p[0]&&(T=!0,R=p.substr(1)),E.indexOf(u.default.compareVersions(le,R,T))>-1},h.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},h.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},h.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},h.is=function(p,E){return void 0===E&&(E=!1),this.isBrowser(p,E)||this.isOS(p)||this.isPlatform(p)},h.some=function(p){var E=this;return void 0===p&&(p=[]),p.some(function(R){return E.is(R)})},C}();P.default=d,re.exports=P.default},92:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k,i=(k=j(17))&&k.__esModule?k:{default:k},S=/version\/(\d+(\.?_?\d+)+)/i;P.default=[{test:[/googlebot/i],describe:function(u){var l={name:"Googlebot"},d=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/opera/i],describe:function(u){var l={name:"Opera"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/opr\/|opios/i],describe:function(u){var l={name:"Opera"},d=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/SamsungBrowser/i],describe:function(u){var l={name:"Samsung Internet for Android"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/Whale/i],describe:function(u){var l={name:"NAVER Whale Browser"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/MZBrowser/i],describe:function(u){var l={name:"MZ Browser"},d=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/focus/i],describe:function(u){var l={name:"Focus"},d=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/swing/i],describe:function(u){var l={name:"Swing"},d=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/coast/i],describe:function(u){var l={name:"Opera Coast"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(u){var l={name:"Opera Touch"},d=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/yabrowser/i],describe:function(u){var l={name:"Yandex Browser"},d=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/ucbrowser/i],describe:function(u){var l={name:"UC Browser"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/Maxthon|mxios/i],describe:function(u){var l={name:"Maxthon"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/epiphany/i],describe:function(u){var l={name:"Epiphany"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/puffin/i],describe:function(u){var l={name:"Puffin"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/sleipnir/i],describe:function(u){var l={name:"Sleipnir"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/k-meleon/i],describe:function(u){var l={name:"K-Meleon"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/micromessenger/i],describe:function(u){var l={name:"WeChat"},d=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/qqbrowser/i],describe:function(u){var l={name:/qqbrowserlite/i.test(u)?"QQ Browser Lite":"QQ Browser"},d=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/msie|trident/i],describe:function(u){var l={name:"Internet Explorer"},d=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/\sedg\//i],describe:function(u){var l={name:"Microsoft Edge"},d=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/edg([ea]|ios)/i],describe:function(u){var l={name:"Microsoft Edge"},d=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/vivaldi/i],describe:function(u){var l={name:"Vivaldi"},d=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/seamonkey/i],describe:function(u){var l={name:"SeaMonkey"},d=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/sailfish/i],describe:function(u){var l={name:"Sailfish"},d=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,u);return d&&(l.version=d),l}},{test:[/silk/i],describe:function(u){var l={name:"Amazon Silk"},d=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/phantom/i],describe:function(u){var l={name:"PhantomJS"},d=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/slimerjs/i],describe:function(u){var l={name:"SlimerJS"},d=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(u){var l={name:"BlackBerry"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/(web|hpw)[o0]s/i],describe:function(u){var l={name:"WebOS Browser"},d=i.default.getFirstMatch(S,u)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/bada/i],describe:function(u){var l={name:"Bada"},d=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/tizen/i],describe:function(u){var l={name:"Tizen"},d=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/qupzilla/i],describe:function(u){var l={name:"QupZilla"},d=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(u){var l={name:"Firefox"},d=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/electron/i],describe:function(u){var l={name:"Electron"},d=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/MiuiBrowser/i],describe:function(u){var l={name:"Miui"},d=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/chromium/i],describe:function(u){var l={name:"Chromium"},d=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/chrome|crios|crmo/i],describe:function(u){var l={name:"Chrome"},d=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/GSA/i],describe:function(u){var l={name:"Google Search"},d=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:function(u){var l=!u.test(/like android/i),d=u.test(/android/i);return l&&d},describe:function(u){var l={name:"Android Browser"},d=i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/playstation 4/i],describe:function(u){var l={name:"PlayStation 4"},d=i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/safari|applewebkit/i],describe:function(u){var l={name:"Safari"},d=i.default.getFirstMatch(S,u);return d&&(l.version=d),l}},{test:[/.*/i],describe:function(u){var l=-1!==u.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(l,u),version:i.default.getSecondMatch(l,u)}}}],re.exports=P.default},93:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k,i=(k=j(17))&&k.__esModule?k:{default:k},S=j(18);P.default=[{test:[/Roku\/DVP/],describe:function(u){var l=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,u);return{name:S.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(u){var l=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,u);return{name:S.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(u){var l=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,u),d=i.default.getWindowsVersionName(l);return{name:S.OS_MAP.Windows,version:l,versionName:d}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(u){var l={name:S.OS_MAP.iOS},d=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,u);return d&&(l.version=d),l}},{test:[/macintosh/i],describe:function(u){var l=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,u).replace(/[_\s]/g,"."),d=i.default.getMacOSVersionName(l),C={name:S.OS_MAP.MacOS,version:l};return d&&(C.versionName=d),C}},{test:[/(ipod|iphone|ipad)/i],describe:function(u){var l=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,u).replace(/[_\s]/g,".");return{name:S.OS_MAP.iOS,version:l}}},{test:function(u){var l=!u.test(/like android/i),d=u.test(/android/i);return l&&d},describe:function(u){var l=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,u),d=i.default.getAndroidVersionName(l),C={name:S.OS_MAP.Android,version:l};return d&&(C.versionName=d),C}},{test:[/(web|hpw)[o0]s/i],describe:function(u){var l=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,u),d={name:S.OS_MAP.WebOS};return l&&l.length&&(d.version=l),d}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(u){var l=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,u)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,u)||i.default.getFirstMatch(/\bbb(\d+)/i,u);return{name:S.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(u){var l=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,u);return{name:S.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(u){var l=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,u);return{name:S.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:S.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:S.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(u){var l=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,u);return{name:S.OS_MAP.PlayStation4,version:l}}}],re.exports=P.default},94:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k,i=(k=j(17))&&k.__esModule?k:{default:k},S=j(18);P.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(u){var l=i.default.getFirstMatch(/(can-l01)/i,u)&&"Nova",d={type:S.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(d.model=l),d}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:S.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:S.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:S.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:S.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:S.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:S.PLATFORMS_MAP.tablet}}},{test:function(u){var l=u.test(/ipod|iphone/i),d=u.test(/like (ipod|iphone)/i);return l&&!d},describe:function(u){var l=i.default.getFirstMatch(/(ipod|iphone)/i,u);return{type:S.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:S.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:S.PLATFORMS_MAP.mobile}}},{test:function(u){return"blackberry"===u.getBrowserName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(u){return"bada"===u.getBrowserName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.mobile}}},{test:function(u){return"windows phone"===u.getBrowserName()},describe:function(){return{type:S.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(u){var l=Number(String(u.getOSVersion()).split(".")[0]);return"android"===u.getOSName(!0)&&l>=3},describe:function(){return{type:S.PLATFORMS_MAP.tablet}}},{test:function(u){return"android"===u.getOSName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.mobile}}},{test:function(u){return"macos"===u.getOSName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(u){return"windows"===u.getOSName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.desktop}}},{test:function(u){return"linux"===u.getOSName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.desktop}}},{test:function(u){return"playstation 4"===u.getOSName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.tv}}},{test:function(u){return"roku"===u.getOSName(!0)},describe:function(){return{type:S.PLATFORMS_MAP.tv}}}],re.exports=P.default},95:function(re,P,j){"use strict";P.__esModule=!0,P.default=void 0;var k,i=(k=j(17))&&k.__esModule?k:{default:k},S=j(18);P.default=[{test:function(u){return"microsoft edge"===u.getBrowserName(!0)},describe:function(u){if(/\sedg\//i.test(u))return{name:S.ENGINE_MAP.Blink};var l=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,u);return{name:S.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(u){var l={name:S.ENGINE_MAP.Trident},d=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:function(u){return u.test(/presto/i)},describe:function(u){var l={name:S.ENGINE_MAP.Presto},d=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:function(u){var l=u.test(/gecko/i),d=u.test(/like gecko/i);return l&&!d},describe:function(u){var l={name:S.ENGINE_MAP.Gecko},d=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:S.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(u){var l={name:S.ENGINE_MAP.WebKit},d=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}}],re.exports=P.default}})},6337:(ke,re,P)=>{"use strict";const j=P(573),k=P(1240),i=P(1303);ke.exports={XMLParser:k,XMLValidator:j,XMLBuilder:i}},2999:(ke,re)=>{"use strict";const P=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",k="["+P+"]["+P+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+k+"$");re.isExist=function(u){return typeof u<"u"},re.isEmptyObject=function(u){return 0===Object.keys(u).length},re.merge=function(u,l,d){if(l){const C=Object.keys(l),h=C.length;for(let p=0;p<h;p++)u[C[p]]="strict"===d?[l[C[p]]]:l[C[p]]}},re.getValue=function(u){return re.isExist(u)?u:""},re.isName=function(u){const l=i.exec(u);return!(null===l||typeof l>"u")},re.getAllMatches=function(u,l){const d=[];let C=l.exec(u);for(;C;){const h=[];h.startIndex=l.lastIndex-C[0].length;const p=C.length;for(let E=0;E<p;E++)h.push(C[E]);d.push(h),C=l.exec(u)}return d},re.nameRegexp=k},573:(ke,re,P)=>{"use strict";const j=P(2999),k={allowBooleanAttributes:!1,unpairedTags:[]};function i(w){return" "===w||"\t"===w||"\n"===w||"\r"===w}function S(w,M){const Q=M;for(;M<w.length;M++)if("?"==w[M]||" "==w[M]){const B=w.substr(Q,M-Q);if(M>5&&"xml"===B)return R("InvalidXml","XML declaration allowed only at the start of the document.",fe(w,M));if("?"==w[M]&&">"==w[M+1]){M++;break}continue}return M}function G(w,M){if(w.length>M+5&&"-"===w[M+1]&&"-"===w[M+2]){for(M+=3;M<w.length;M++)if("-"===w[M]&&"-"===w[M+1]&&">"===w[M+2]){M+=2;break}}else if(w.length>M+8&&"D"===w[M+1]&&"O"===w[M+2]&&"C"===w[M+3]&&"T"===w[M+4]&&"Y"===w[M+5]&&"P"===w[M+6]&&"E"===w[M+7]){let Q=1;for(M+=8;M<w.length;M++)if("<"===w[M])Q++;else if(">"===w[M]&&(Q--,0===Q))break}else if(w.length>M+9&&"["===w[M+1]&&"C"===w[M+2]&&"D"===w[M+3]&&"A"===w[M+4]&&"T"===w[M+5]&&"A"===w[M+6]&&"["===w[M+7])for(M+=8;M<w.length;M++)if("]"===w[M]&&"]"===w[M+1]&&">"===w[M+2]){M+=2;break}return M}re.validate=function(w,M){M=Object.assign({},k,M);const Q=[];let B=!1,z=!1;"\ufeff"===w[0]&&(w=w.substr(1));for(let A=0;A<w.length;A++)if("<"===w[A]&&"?"===w[A+1]){if(A+=2,A=S(w,A),A.err)return A}else{if("<"!==w[A]){if(i(w[A]))continue;return R("InvalidChar","char '"+w[A]+"' is not expected.",fe(w,A))}{let V=A;if(A++,"!"===w[A]){A=G(w,A);continue}{let g=!1;"/"===w[A]&&(g=!0,A++);let U="";for(;A<w.length&&">"!==w[A]&&" "!==w[A]&&"\t"!==w[A]&&"\n"!==w[A]&&"\r"!==w[A];A++)U+=w[A];if(U=U.trim(),"/"===U[U.length-1]&&(U=U.substring(0,U.length-1),A--),!le(U)){let L;return L=0===U.trim().length?"Invalid space after '<'.":"Tag '"+U+"' is an invalid name.",R("InvalidTag",L,fe(w,A))}const ye=d(w,A);if(!1===ye)return R("InvalidAttr","Attributes for '"+U+"' have open quote.",fe(w,A));let ee=ye.value;if(A=ye.index,"/"===ee[ee.length-1]){const L=A-ee.length;ee=ee.substring(0,ee.length-1);const xe=h(ee,M);if(!0!==xe)return R(xe.err.code,xe.err.msg,fe(w,L+xe.err.line));B=!0}else if(g){if(!ye.tagClosed)return R("InvalidTag","Closing tag '"+U+"' doesn't have proper closing.",fe(w,A));if(ee.trim().length>0)return R("InvalidTag","Closing tag '"+U+"' can't have attributes or invalid starting.",fe(w,V));if(0===Q.length)return R("InvalidTag","Closing tag '"+U+"' has not been opened.",fe(w,V));{const L=Q.pop();if(U!==L.tagName){let xe=fe(w,L.tagStartPos);return R("InvalidTag","Expected closing tag '"+L.tagName+"' (opened in line "+xe.line+", col "+xe.col+") instead of closing tag '"+U+"'.",fe(w,V))}0==Q.length&&(z=!0)}}else{const L=h(ee,M);if(!0!==L)return R(L.err.code,L.err.msg,fe(w,A-ee.length+L.err.line));if(!0===z)return R("InvalidXml","Multiple possible root nodes found.",fe(w,A));-1!==M.unpairedTags.indexOf(U)||Q.push({tagName:U,tagStartPos:V}),B=!0}for(A++;A<w.length;A++)if("<"===w[A]){if("!"===w[A+1]){A++,A=G(w,A);continue}if("?"!==w[A+1])break;if(A=S(w,++A),A.err)return A}else if("&"===w[A]){const L=E(w,A);if(-1==L)return R("InvalidChar","char '&' is not expected.",fe(w,A));A=L}else if(!0===z&&!i(w[A]))return R("InvalidXml","Extra text at the end",fe(w,A));"<"===w[A]&&A--}}}return B?1==Q.length?R("InvalidTag","Unclosed tag '"+Q[0].tagName+"'.",fe(w,Q[0].tagStartPos)):!(Q.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(Q.map(A=>A.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)};const u='"',l="'";function d(w,M){let Q="",B="",z=!1;for(;M<w.length;M++){if(w[M]===u||w[M]===l)""===B?B=w[M]:B!==w[M]||(B="");else if(">"===w[M]&&""===B){z=!0;break}Q+=w[M]}return""===B&&{value:Q,index:M,tagClosed:z}}const C=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function h(w,M){const Q=j.getAllMatches(w,C),B={};for(let z=0;z<Q.length;z++){if(0===Q[z][1].length)return R("InvalidAttr","Attribute '"+Q[z][2]+"' has no space in starting.",Ce(Q[z]));if(void 0!==Q[z][3]&&void 0===Q[z][4])return R("InvalidAttr","Attribute '"+Q[z][2]+"' is without value.",Ce(Q[z]));if(void 0===Q[z][3]&&!M.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+Q[z][2]+"' is not allowed.",Ce(Q[z]));const A=Q[z][2];if(!T(A))return R("InvalidAttr","Attribute '"+A+"' is an invalid name.",Ce(Q[z]));if(B.hasOwnProperty(A))return R("InvalidAttr","Attribute '"+A+"' is repeated.",Ce(Q[z]));B[A]=1}return!0}function E(w,M){if(";"===w[++M])return-1;if("#"===w[M])return function p(w,M){let Q=/\d/;for("x"===w[M]&&(M++,Q=/[\da-fA-F]/);M<w.length;M++){if(";"===w[M])return M;if(!w[M].match(Q))break}return-1}(w,++M);let Q=0;for(;M<w.length;M++,Q++)if(!(w[M].match(/\w/)&&Q<20)){if(";"===w[M])break;return-1}return M}function R(w,M,Q){return{err:{code:w,msg:M,line:Q.line||Q,col:Q.col}}}function T(w){return j.isName(w)}function le(w){return j.isName(w)}function fe(w,M){const Q=w.substring(0,M).split(/\r?\n/);return{line:Q.length,col:Q[Q.length-1].length+1}}function Ce(w){return w.startIndex+w[1].length}},1303:(ke,re,P)=>{"use strict";const j=P(9505),k={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(d,C){return C},attributeValueProcessor:function(d,C){return C},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(d){this.options=Object.assign({},k,d),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=S,this.options.format?(this.indentate=u,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function S(d,C,h){const p=this.j2x(d,h+1);return void 0!==d[this.options.textNodeName]&&1===Object.keys(d).length?this.buildTextValNode(d[this.options.textNodeName],C,p.attrStr,h):this.buildObjectNode(p.val,C,p.attrStr,h)}function u(d){return this.options.indentBy.repeat(d)}function l(d){return!(!d.startsWith(this.options.attributeNamePrefix)||d===this.options.textNodeName)&&d.substr(this.attrPrefixLen)}i.prototype.build=function(d){return this.options.preserveOrder?j(d,this.options):(Array.isArray(d)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(d={[this.options.arrayNodeName]:d}),this.j2x(d,0).val)},i.prototype.j2x=function(d,C){let h="",p="";for(let E in d)if(Object.prototype.hasOwnProperty.call(d,E))if(typeof d[E]>"u")this.isAttribute(E)&&(p+="");else if(null===d[E])this.isAttribute(E)?p+="":p+="?"===E[0]?this.indentate(C)+"<"+E+"?"+this.tagEndChar:this.indentate(C)+"<"+E+"/"+this.tagEndChar;else if(d[E]instanceof Date)p+=this.buildTextValNode(d[E],E,"",C);else if("object"!=typeof d[E]){const R=this.isAttribute(E);if(R)h+=this.buildAttrPairStr(R,""+d[E]);else if(E===this.options.textNodeName){let T=this.options.tagValueProcessor(E,""+d[E]);p+=this.replaceEntitiesValue(T)}else p+=this.buildTextValNode(d[E],E,"",C)}else if(Array.isArray(d[E])){const R=d[E].length;let T="",le="";for(let fe=0;fe<R;fe++){const Ce=d[E][fe];if(!(typeof Ce>"u"))if(null===Ce)p+="?"===E[0]?this.indentate(C)+"<"+E+"?"+this.tagEndChar:this.indentate(C)+"<"+E+"/"+this.tagEndChar;else if("object"==typeof Ce)if(this.options.oneListGroup){const w=this.j2x(Ce,C+1);T+=w.val,this.options.attributesGroupName&&Ce.hasOwnProperty(this.options.attributesGroupName)&&(le+=w.attrStr)}else T+=this.processTextOrObjNode(Ce,E,C);else if(this.options.oneListGroup){let w=this.options.tagValueProcessor(E,Ce);w=this.replaceEntitiesValue(w),T+=w}else T+=this.buildTextValNode(Ce,E,"",C)}this.options.oneListGroup&&(T=this.buildObjectNode(T,E,le,C)),p+=T}else if(this.options.attributesGroupName&&E===this.options.attributesGroupName){const R=Object.keys(d[E]),T=R.length;for(let le=0;le<T;le++)h+=this.buildAttrPairStr(R[le],""+d[E][R[le]])}else p+=this.processTextOrObjNode(d[E],E,C);return{attrStr:h,val:p}},i.prototype.buildAttrPairStr=function(d,C){return C=this.options.attributeValueProcessor(d,""+C),C=this.replaceEntitiesValue(C),this.options.suppressBooleanAttributes&&"true"===C?" "+d:" "+d+'="'+C+'"'},i.prototype.buildObjectNode=function(d,C,h,p){if(""===d)return"?"===C[0]?this.indentate(p)+"<"+C+h+"?"+this.tagEndChar:this.indentate(p)+"<"+C+h+this.closeTag(C)+this.tagEndChar;{let E="</"+C+this.tagEndChar,R="";return"?"===C[0]&&(R="?",E=""),!h&&""!==h||-1!==d.indexOf("<")?!1!==this.options.commentPropName&&C===this.options.commentPropName&&0===R.length?this.indentate(p)+`\x3c!--${d}--\x3e`+this.newLine:this.indentate(p)+"<"+C+h+R+this.tagEndChar+d+this.indentate(p)+E:this.indentate(p)+"<"+C+h+R+">"+d+E}},i.prototype.closeTag=function(d){let C="";return-1!==this.options.unpairedTags.indexOf(d)?this.options.suppressUnpairedNode||(C="/"):C=this.options.suppressEmptyNode?"/":`></${d}`,C},i.prototype.buildTextValNode=function(d,C,h,p){if(!1!==this.options.cdataPropName&&C===this.options.cdataPropName)return this.indentate(p)+`<![CDATA[${d}]]>`+this.newLine;if(!1!==this.options.commentPropName&&C===this.options.commentPropName)return this.indentate(p)+`\x3c!--${d}--\x3e`+this.newLine;if("?"===C[0])return this.indentate(p)+"<"+C+h+"?"+this.tagEndChar;{let E=this.options.tagValueProcessor(C,d);return E=this.replaceEntitiesValue(E),""===E?this.indentate(p)+"<"+C+h+this.closeTag(C)+this.tagEndChar:this.indentate(p)+"<"+C+h+">"+E+"</"+C+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(d){if(d&&d.length>0&&this.options.processEntities)for(let C=0;C<this.options.entities.length;C++){const h=this.options.entities[C];d=d.replace(h.regex,h.val)}return d},ke.exports=i},9505:ke=>{function j(u,l,d,C){let h="",p=!1;for(let E=0;E<u.length;E++){const R=u[E],T=k(R);if(void 0===T)continue;let le="";if(le=0===d.length?T:`${d}.${T}`,T===l.textNodeName){let Q=R[T];S(le,l)||(Q=l.tagValueProcessor(T,Q),Q=G(Q,l)),p&&(h+=C),h+=Q,p=!1;continue}if(T===l.cdataPropName){p&&(h+=C),h+=`<![CDATA[${R[T][0][l.textNodeName]}]]>`,p=!1;continue}if(T===l.commentPropName){h+=C+`\x3c!--${R[T][0][l.textNodeName]}--\x3e`,p=!0;continue}if("?"===T[0]){const Q=i(R[":@"],l);let z=R[T][0][l.textNodeName];z=0!==z.length?" "+z:"",h+=("?xml"===T?"":C)+`<${T}${z}${Q}?>`,p=!0;continue}let fe=C;""!==fe&&(fe+=l.indentBy);const w=C+`<${T}${i(R[":@"],l)}`,M=j(R[T],l,le,fe);-1!==l.unpairedTags.indexOf(T)?h+=l.suppressUnpairedNode?w+">":w+"/>":M&&0!==M.length||!l.suppressEmptyNode?M&&M.endsWith(">")?h+=w+`>${M}${C}</${T}>`:(h+=w+">",M&&""!==C&&(M.includes("/>")||M.includes("</"))?h+=C+l.indentBy+M+C:h+=M,h+=`</${T}>`):h+=w+"/>",p=!0}return h}function k(u){const l=Object.keys(u);for(let d=0;d<l.length;d++){const C=l[d];if(u.hasOwnProperty(C)&&":@"!==C)return C}}function i(u,l){let d="";if(u&&!l.ignoreAttributes)for(let C in u){if(!u.hasOwnProperty(C))continue;let h=l.attributeValueProcessor(C,u[C]);h=G(h,l),d+=!0===h&&l.suppressBooleanAttributes?` ${C.substr(l.attributeNamePrefix.length)}`:` ${C.substr(l.attributeNamePrefix.length)}="${h}"`}return d}function S(u,l){let d=(u=u.substr(0,u.length-l.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let C in l.stopNodes)if(l.stopNodes[C]===u||l.stopNodes[C]==="*."+d)return!0;return!1}function G(u,l){if(u&&u.length>0&&l.processEntities)for(let d=0;d<l.entities.length;d++){const C=l.entities[d];u=u.replace(C.regex,C.val)}return u}ke.exports=function P(u,l){let d="";return l.format&&l.indentBy.length>0&&(d="\n"),j(u,l,"",d)}},9563:(ke,re,P)=>{const j=P(2999);function i(h,p){let E="";for(;p<h.length&&"'"!==h[p]&&'"'!==h[p];p++)E+=h[p];if(E=E.trim(),-1!==E.indexOf(" "))throw new Error("External entites are not supported");const R=h[p++];let T="";for(;p<h.length&&h[p]!==R;p++)T+=h[p];return[E,T,p]}function S(h,p){return"!"===h[p+1]&&"-"===h[p+2]&&"-"===h[p+3]}function G(h,p){return"!"===h[p+1]&&"E"===h[p+2]&&"N"===h[p+3]&&"T"===h[p+4]&&"I"===h[p+5]&&"T"===h[p+6]&&"Y"===h[p+7]}function u(h,p){return"!"===h[p+1]&&"E"===h[p+2]&&"L"===h[p+3]&&"E"===h[p+4]&&"M"===h[p+5]&&"E"===h[p+6]&&"N"===h[p+7]&&"T"===h[p+8]}function l(h,p){return"!"===h[p+1]&&"A"===h[p+2]&&"T"===h[p+3]&&"T"===h[p+4]&&"L"===h[p+5]&&"I"===h[p+6]&&"S"===h[p+7]&&"T"===h[p+8]}function d(h,p){return"!"===h[p+1]&&"N"===h[p+2]&&"O"===h[p+3]&&"T"===h[p+4]&&"A"===h[p+5]&&"T"===h[p+6]&&"I"===h[p+7]&&"O"===h[p+8]&&"N"===h[p+9]}function C(h){if(j.isName(h))return h;throw new Error(`Invalid entity name ${h}`)}ke.exports=function k(h,p){const E={};if("O"!==h[p+3]||"C"!==h[p+4]||"T"!==h[p+5]||"Y"!==h[p+6]||"P"!==h[p+7]||"E"!==h[p+8])throw new Error("Invalid Tag instead of DOCTYPE");{p+=9;let R=1,T=!1,le=!1,fe="";for(;p<h.length;p++)if("<"!==h[p]||le)if(">"===h[p]){if(le?"-"===h[p-1]&&"-"===h[p-2]&&(le=!1,R--):R--,0===R)break}else"["===h[p]?T=!0:fe+=h[p];else{if(T&&G(h,p))p+=7,[entityName,val,p]=i(h,p+1),-1===val.indexOf("&")&&(E[C(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(T&&u(h,p))p+=8;else if(T&&l(h,p))p+=8;else if(T&&d(h,p))p+=9;else{if(!S)throw new Error("Invalid DOCTYPE");le=!0}R++,fe=""}if(0!==R)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:p}}},9621:(ke,re)=>{const P={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(k,i){return i},attributeValueProcessor:function(k,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(k,i,S){return k}};re.buildOptions=function(k){return Object.assign({},P,k)},re.defaultOptions=P},1573:(ke,re,P)=>{"use strict";const j=P(2999),k=P(6999),i=P(9563),S=P(2140);function u(B){const z=Object.keys(B);for(let A=0;A<z.length;A++){const V=z[A];this.lastEntities[V]={regex:new RegExp("&"+V+";","g"),val:B[V]}}}function l(B,z,A,V,g,U,ye){if(void 0!==B&&(this.options.trimValues&&!V&&(B=B.trim()),B.length>0)){ye||(B=this.replaceEntitiesValue(B));const ee=this.options.tagValueProcessor(z,B,A,g,U);return null==ee?B:typeof ee!=typeof B||ee!==B?ee:this.options.trimValues||B.trim()===B?Q(B,this.options.parseTagValue,this.options.numberParseOptions):B}}function d(B){if(this.options.removeNSPrefix){const z=B.split(":"),A="/"===B.charAt(0)?"/":"";if("xmlns"===z[0])return"";2===z.length&&(B=A+z[1])}return B}const C=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(B,z,A){if(!this.options.ignoreAttributes&&"string"==typeof B){const V=j.getAllMatches(B,C),g=V.length,U={};for(let ye=0;ye<g;ye++){const ee=this.resolveNameSpace(V[ye][1]);let L=V[ye][4],xe=this.options.attributeNamePrefix+ee;if(ee.length)if(this.options.transformAttributeName&&(xe=this.options.transformAttributeName(xe)),"__proto__"===xe&&(xe="#__proto__"),void 0!==L){this.options.trimValues&&(L=L.trim()),L=this.replaceEntitiesValue(L);const me=this.options.attributeValueProcessor(ee,L,z);U[xe]=null==me?L:typeof me!=typeof L||me!==L?me:Q(L,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(U[xe]=!0)}if(!Object.keys(U).length)return;if(this.options.attributesGroupName){const ye={};return ye[this.options.attributesGroupName]=U,ye}return U}}const p=function(B){B=B.replace(/\r\n?/g,"\n");const z=new k("!xml");let A=z,V="",g="";for(let U=0;U<B.length;U++)if("<"===B[U])if("/"===B[U+1]){const ee=Ce(B,">",U,"Closing Tag is not closed.");let L=B.substring(U+2,ee).trim();if(this.options.removeNSPrefix){const Pe=L.indexOf(":");-1!==Pe&&(L=L.substr(Pe+1))}this.options.transformTagName&&(L=this.options.transformTagName(L)),A&&(V=this.saveTextToParentTag(V,A,g));const xe=g.substring(g.lastIndexOf(".")+1);if(L&&-1!==this.options.unpairedTags.indexOf(L))throw new Error(`Unpaired tag can not be used as closing tag: </${L}>`);let me=0;xe&&-1!==this.options.unpairedTags.indexOf(xe)?(me=g.lastIndexOf(".",g.lastIndexOf(".")-1),this.tagsNodeStack.pop()):me=g.lastIndexOf("."),g=g.substring(0,me),A=this.tagsNodeStack.pop(),V="",U=ee}else if("?"===B[U+1]){let ee=w(B,U,!1,"?>");if(!ee)throw new Error("Pi Tag is not closed.");if(V=this.saveTextToParentTag(V,A,g),!(this.options.ignoreDeclaration&&"?xml"===ee.tagName||this.options.ignorePiTags)){const L=new k(ee.tagName);L.add(this.options.textNodeName,""),ee.tagName!==ee.tagExp&&ee.attrExpPresent&&(L[":@"]=this.buildAttributesMap(ee.tagExp,g,ee.tagName)),this.addChild(A,L,g)}U=ee.closeIndex+1}else if("!--"===B.substr(U+1,3)){const ee=Ce(B,"--\x3e",U+4,"Comment is not closed.");if(this.options.commentPropName){const L=B.substring(U+4,ee-2);V=this.saveTextToParentTag(V,A,g),A.add(this.options.commentPropName,[{[this.options.textNodeName]:L}])}U=ee}else if("!D"===B.substr(U+1,2)){const ee=i(B,U);this.docTypeEntities=ee.entities,U=ee.i}else if("!["===B.substr(U+1,2)){const ee=Ce(B,"]]>",U,"CDATA is not closed.")-2,L=B.substring(U+9,ee);V=this.saveTextToParentTag(V,A,g);let xe=this.parseTextData(L,A.tagname,g,!0,!1,!0,!0);null==xe&&(xe=""),this.options.cdataPropName?A.add(this.options.cdataPropName,[{[this.options.textNodeName]:L}]):A.add(this.options.textNodeName,xe),U=ee+2}else{let ee=w(B,U,this.options.removeNSPrefix),L=ee.tagName;const xe=ee.rawTagName;let me=ee.tagExp,Pe=ee.attrExpPresent,Xr=ee.closeIndex;if(this.options.transformTagName&&(L=this.options.transformTagName(L)),A&&V&&"!xml"!==A.tagname&&(V=this.saveTextToParentTag(V,A,g,!1)),A&&-1!==this.options.unpairedTags.indexOf(A.tagname)&&(A=this.tagsNodeStack.pop(),g=g.substring(0,g.lastIndexOf("."))),L!==z.tagname&&(g+=g?"."+L:L),this.isItStopNode(this.options.stopNodes,g,L)){let ft="";if(me.length>0&&me.lastIndexOf("/")===me.length-1)"/"===L[L.length-1]?(L=L.substr(0,L.length-1),g=g.substr(0,g.length-1),me=L):me=me.substr(0,me.length-1),U=ee.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(L))U=ee.closeIndex;else{const Yr=this.readStopNodeData(B,xe,Xr+1);if(!Yr)throw new Error(`Unexpected end of ${xe}`);U=Yr.i,ft=Yr.tagContent}const Wr=new k(L);L!==me&&Pe&&(Wr[":@"]=this.buildAttributesMap(me,g,L)),ft&&(ft=this.parseTextData(ft,L,g,!0,Pe,!0,!0)),g=g.substr(0,g.lastIndexOf(".")),Wr.add(this.options.textNodeName,ft),this.addChild(A,Wr,g)}else{if(me.length>0&&me.lastIndexOf("/")===me.length-1){"/"===L[L.length-1]?(L=L.substr(0,L.length-1),g=g.substr(0,g.length-1),me=L):me=me.substr(0,me.length-1),this.options.transformTagName&&(L=this.options.transformTagName(L));const ft=new k(L);L!==me&&Pe&&(ft[":@"]=this.buildAttributesMap(me,g,L)),this.addChild(A,ft,g),g=g.substr(0,g.lastIndexOf("."))}else{const ft=new k(L);this.tagsNodeStack.push(A),L!==me&&Pe&&(ft[":@"]=this.buildAttributesMap(me,g,L)),this.addChild(A,ft,g),A=ft}V="",U=Xr}}else V+=B[U];return z.child};function E(B,z,A){const V=this.options.updateTag(z.tagname,A,z[":@"]);!1===V||("string"==typeof V&&(z.tagname=V),B.addChild(z))}const R=function(B){if(this.options.processEntities){for(let z in this.docTypeEntities){const A=this.docTypeEntities[z];B=B.replace(A.regx,A.val)}for(let z in this.lastEntities){const A=this.lastEntities[z];B=B.replace(A.regex,A.val)}if(this.options.htmlEntities)for(let z in this.htmlEntities){const A=this.htmlEntities[z];B=B.replace(A.regex,A.val)}B=B.replace(this.ampEntity.regex,this.ampEntity.val)}return B};function T(B,z,A,V){return B&&(void 0===V&&(V=0===Object.keys(z.child).length),void 0!==(B=this.parseTextData(B,z.tagname,A,!1,!!z[":@"]&&0!==Object.keys(z[":@"]).length,V))&&""!==B&&z.add(this.options.textNodeName,B),B=""),B}function le(B,z,A){const V="*."+A;for(const g in B){const U=B[g];if(V===U||z===U)return!0}return!1}function Ce(B,z,A,V){const g=B.indexOf(z,A);if(-1===g)throw new Error(V);return g+z.length-1}function w(B,z,A,V=">"){const g=function fe(B,z,A=">"){let V,g="";for(let U=z;U<B.length;U++){let ye=B[U];if(V)ye===V&&(V="");else if('"'===ye||"'"===ye)V=ye;else if(ye===A[0]){if(!A[1])return{data:g,index:U};if(B[U+1]===A[1])return{data:g,index:U}}else"\t"===ye&&(ye=" ");g+=ye}}(B,z+1,V);if(!g)return;let U=g.data;const ye=g.index,ee=U.search(/\s/);let L=U,xe=!0;-1!==ee&&(L=U.substring(0,ee),U=U.substring(ee+1).trimStart());const me=L;if(A){const Pe=L.indexOf(":");-1!==Pe&&(L=L.substr(Pe+1),xe=L!==g.data.substr(Pe+1))}return{tagName:L,tagExp:U,closeIndex:ye,attrExpPresent:xe,rawTagName:me}}function M(B,z,A){const V=A;let g=1;for(;A<B.length;A++)if("<"===B[A])if("/"===B[A+1]){const U=Ce(B,">",A,`${z} is not closed`);if(B.substring(A+2,U).trim()===z&&(g--,0===g))return{tagContent:B.substring(V,A),i:U};A=U}else if("?"===B[A+1])A=Ce(B,"?>",A+1,"StopNode is not closed.");else if("!--"===B.substr(A+1,3))A=Ce(B,"--\x3e",A+3,"StopNode is not closed.");else if("!["===B.substr(A+1,2))A=Ce(B,"]]>",A,"StopNode is not closed.")-2;else{const U=w(B,A,">");U&&((U&&U.tagName)===z&&"/"!==U.tagExp[U.tagExp.length-1]&&g++,A=U.closeIndex)}}function Q(B,z,A){if(z&&"string"==typeof B){const V=B.trim();return"true"===V||"false"!==V&&S(B,A)}return j.isExist(B)?B:""}ke.exports=class G{constructor(z){this.options=z,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(A,V)=>String.fromCharCode(Number.parseInt(V,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(A,V)=>String.fromCharCode(Number.parseInt(V,16))}},this.addExternalEntities=u,this.parseXml=p,this.parseTextData=l,this.resolveNameSpace=d,this.buildAttributesMap=h,this.isItStopNode=le,this.replaceEntitiesValue=R,this.readStopNodeData=M,this.saveTextToParentTag=T,this.addChild=E}}},1240:(ke,re,P)=>{const{buildOptions:j}=P(9621),k=P(1573),{prettify:i}=P(5526),S=P(573);ke.exports=class G{constructor(l){this.externalEntities={},this.options=j(l)}parse(l,d){if("string"!=typeof l){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(d){!0===d&&(d={});const p=S.validate(l,d);if(!0!==p)throw Error(`${p.err.msg}:${p.err.line}:${p.err.col}`)}const C=new k(this.options);C.addExternalEntities(this.externalEntities);const h=C.parseXml(l);return this.options.preserveOrder||void 0===h?h:i(h,this.options)}addEntity(l,d){if(-1!==d.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==l.indexOf("&")||-1!==l.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===d)throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=d}}},5526:(ke,re)=>{"use strict";function j(G,u,l){let d;const C={};for(let h=0;h<G.length;h++){const p=G[h],E=k(p);let R="";if(R=void 0===l?E:l+"."+E,E===u.textNodeName)void 0===d?d=p[E]:d+=""+p[E];else{if(void 0===E)continue;if(p[E]){let T=j(p[E],u,R);const le=S(T,u);p[":@"]?i(T,p[":@"],R,u):1!==Object.keys(T).length||void 0===T[u.textNodeName]||u.alwaysCreateTextNode?0===Object.keys(T).length&&(u.alwaysCreateTextNode?T[u.textNodeName]="":T=""):T=T[u.textNodeName],void 0!==C[E]&&C.hasOwnProperty(E)?(Array.isArray(C[E])||(C[E]=[C[E]]),C[E].push(T)):C[E]=u.isArray(E,R,le)?[T]:T}}}return"string"==typeof d?d.length>0&&(C[u.textNodeName]=d):void 0!==d&&(C[u.textNodeName]=d),C}function k(G){const u=Object.keys(G);for(let l=0;l<u.length;l++){const d=u[l];if(":@"!==d)return d}}function i(G,u,l,d){if(u){const C=Object.keys(u),h=C.length;for(let p=0;p<h;p++){const E=C[p];G[E]=d.isArray(E,l+"."+E,!0,!0)?[u[E]]:u[E]}}}function S(G,u){const{textNodeName:l}=u,d=Object.keys(G).length;return!(0!==d&&(1!==d||!G[l]&&"boolean"!=typeof G[l]&&0!==G[l]))}re.prettify=function P(G,u){return j(G,u)}},6999:ke=>{"use strict";ke.exports=class re{constructor(j){this.tagname=j,this.child=[],this[":@"]={}}add(j,k){"__proto__"===j&&(j="#__proto__"),this.child.push({[j]:k})}addChild(j){"__proto__"===j.tagname&&(j.tagname="#__proto__"),j[":@"]&&Object.keys(j[":@"]).length>0?this.child.push({[j.tagname]:j.child,":@":j[":@"]}):this.child.push({[j.tagname]:j.child})}}},2140:ke=>{const re=/^[-+]?0x[a-fA-F0-9]+$/,P=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const j={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};ke.exports=function k(S,G={}){if(G=Object.assign({},j,G),!S||"string"!=typeof S)return S;let u=S.trim();if(void 0!==G.skipLike&&G.skipLike.test(u))return S;if(G.hex&&re.test(u))return Number.parseInt(u,16);{const l=P.exec(u);if(l){const d=l[1],C=l[2];let h=function i(S){return S&&-1!==S.indexOf(".")&&("."===(S=S.replace(/0+$/,""))?S="0":"."===S[0]?S="0"+S:"."===S[S.length-1]&&(S=S.substr(0,S.length-1))),S}(l[3]);const p=l[4]||l[6];if(!G.leadingZeros&&C.length>0&&d&&"."!==u[2])return S;if(!G.leadingZeros&&C.length>0&&!d&&"."!==u[1])return S;{const E=Number(u),R=""+E;return-1!==R.search(/[eE]/)||p?G.eNotation?E:S:-1!==u.indexOf(".")?"0"===R&&""===h||R===h||d&&R==="-"+h?E:S:C?h===R||d+h===R?E:S:u===R||u===d+R?E:S}}return S}}}}]);
(self.webpackChunkdashboard_mobile=self.webpackChunkdashboard_mobile||[]).push([[900],{7900:(Re,oe,O)=>{"use strict";O.r(oe),O.d(oe,{DashboardModule:()=>V1});var U=O(2183),k=O(177),i=O(3953);let E=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(r,o){1&r&&i.nrm(0,"router-outlet")},dependencies:[k.MD,U.iI,U.n3],encapsulation:2})}return e})();var h=O(467);let u=(()=>{class e{constructor(){this.onAddServiceToggle=new i.bkB}ngOnInit(){}onAddToggle(){this.onAddServiceToggle.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-service-mobile-header"]],outputs:{onAddServiceToggle:"onAddServiceToggle"},standalone:!0,features:[i.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"h3",2),i.EFF(3,"Planes"),i.k0s(),i.j41(4,"div",3)(5,"a",4),i.EFF(6,"Lista"),i.k0s(),i.j41(7,"span"),i.EFF(8," - Planes"),i.k0s()()(),i.j41(9,"div",5)(10,"button",6),i.bIt("click",function(){return o.onAddToggle()}),i.EFF(11," Agregar Detalle de Plan "),i.k0s()()())},dependencies:[k.MD],encapsulation:2})}return e})();const l=["item-list-service-mobile",""];let d=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["","item-list-service-mobile",""]],inputs:{serviceItem:"serviceItem"},standalone:!0,features:[i.aNF],attrs:l,decls:12,vars:4,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"py-3","pl-3","text-right"],[1,"p-2","text-sm","text-muted-foreground",3,"ngClass"]],template:function(r,o){1&r&&(i.j41(0,"td",0)(1,"div")(2,"span",1),i.EFF(3),i.k0s()()(),i.j41(4,"td",0)(5,"div",2)(6,"span",1),i.EFF(7),i.k0s()()(),i.j41(8,"td",3)(9,"div",2)(10,"span",4),i.EFF(11),i.k0s()()()),2&r&&(i.R7$(3),i.JRh(o.serviceItem.service.servicio),i.R7$(4),i.JRh(o.serviceItem.description),i.R7$(3),i.Y8G("ngClass",1==o.serviceItem.status.id?"border border-green-800 items-end w-fit rounded-md ":"border border-red-800  items-end w-fit rounded-md "),i.R7$(),i.JRh(o.serviceItem.status.title))},dependencies:[k.MD,k.YU],encapsulation:2})}return e})();var C=O(6134);function g(e,n){if(1&e){const t=i.RV6();i.j41(0,"tr",16),i.bIt("click",function(){const o=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onSelectItem(o))}),i.k0s()}2&e&&i.Y8G("serviceItem",n.$implicit)}function p(e,n){1&e&&(i.j41(0,"div",17),i.nrm(1,"svg-icon",18),i.k0s())}let A=(()=>{class e{constructor(){this.listServices=[],this.isLoading=!0,this.onSelectService=new i.bkB}onSelectItem(t){this.onSelectService.emit(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-list-service-mobile"]],inputs:{listServices:"listServices",isLoading:"isLoading"},outputs:{onSelectService:"onSelectService"},standalone:!0,features:[i.aNF],decls:24,vars:2,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","RED MUNDIAL VIP",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"relative","overflow-x-auto","p-2","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-service-mobile","","class","border-b border-dashed border-border hover:bg-card cursor-pointer",3,"serviceItem","click",4,"ngFor","ngForOf"],["class","absolute inset-0 flex items-center justify-center bg-slate-800 bg-opacity-50",4,"ngIf"],["item-list-service-mobile","",1,"border-b","border-dashed","border-border","hover:bg-card","cursor-pointer",3,"click","serviceItem"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-slate-800","bg-opacity-50"],["src","assets/icons/loading.svg","svgClass","h-12 w-12 text-primary"]],template:function(r,o){1&r&&(i.j41(0,"div",0),i.nrm(1,"hr",1),i.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),i.EFF(8,"Planes"),i.k0s(),i.nrm(9,"input",8),i.k0s()()()()(),i.nrm(10,"hr",1),i.j41(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),i.EFF(16,"Plan"),i.k0s(),i.j41(17,"th",12),i.EFF(18,"Descripcion"),i.k0s(),i.j41(19,"th",13),i.EFF(20,"Status"),i.k0s()()(),i.j41(21,"tbody"),i.DNE(22,g,1,1,"tr",14),i.k0s()(),i.DNE(23,p,2,0,"div",15),i.k0s()()),2&r&&(i.R7$(22),i.Y8G("ngForOf",o.listServices),i.R7$(),i.Y8G("ngIf",o.isLoading))},dependencies:[k.MD,k.Sq,k.bT,d,C.DM],encapsulation:2})}return e})();var T=O(5558),F=O(7673),ce=O(5312),de=O(1626);let Se=(()=>{class e{constructor(){this.apiMobile=ce.c.apiMobile+"/services",this.http=(0,i.WQX)(de.Qq)}getServices(){return this.http.get(this.apiMobile)}getServiceById(t){return this.http.get(`${this.apiMobile}?id=${t}`)}createService(t){return this.http.post(this.apiMobile,t)}updateService(t){return this.http.put(`${this.apiMobile}?id=${t.id||t.service_id}`,t).pipe((0,T.n)(()=>(0,F.of)(t)))}deleteService(t){return this.http.delete(`${this.apiMobile}?id=${t}`)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),v=(()=>{class e{constructor(t){this.viewContainerRef=t}static#e=this.\u0275fac=function(r){return new(r||e)(i.rXU(i.c1b))};static#t=this.\u0275dir=i.FsC({type:e,selectors:[["","dcWrapper",""]],standalone:!0})}return e})();var S=O(4341);const Q=["inputFile"];function I(e,n){if(1&e&&i.nrm(0,"img",6),2&e){const t=i.XpG();i.Y8G("src",t.imgBase64,i.B4B)}}let j=(()=>{class e{constructor(){this.isDisabled=!1,this.cdr=(0,i.WQX)(i.gRc),this.fileName="Agregar Archivo",this.imgBase64=null,this.file=null}ngOnInit(){}writeValue(t){this.file=t,t&&(this.fileName=t.name,this.setImageToView(t)),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}changeValue(t){this.file=t,this.onTouched?.(),this.onChange?.(t),this.cdr.detectChanges()}onClickInputWrapper(){this.isDisabled||(this.inputFile.nativeElement.click(),this.cdr.detectChanges())}onChangeFile(t){let r=t.target.files[0];this.fileName=r.name,r&&this.setImageToView(r),this.changeValue(r),this.cdr.detectChanges()}setImageToView(t){let r=new FileReader;r.readAsDataURL(t),r.onload=()=>{this.imgBase64=r.result},r.onloadend=()=>{this.cdr.detectChanges()}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-file-input"]],viewQuery:function(r,o){if(1&r&&i.GBs(Q,5),2&r){let s;i.mGM(s=i.lsd())&&(o.inputFile=s.first)}},standalone:!0,features:[i.Jv_([{provide:S.kq,useExisting:(0,i.Rfq)(()=>e),multi:!0}]),i.aNF],decls:8,vars:2,consts:[["inputFile",""],[1,"flex","flex-col","gap-2"],["alt","image","class","image",3,"src",4,"ngIf"],[1,"wrapper",3,"click"],["type","file","name","file","hidden","",1,"file-input",3,"change"],[1,"fas","fa-cloud-upload-alt"],["alt","image",1,"image",3,"src"]],template:function(r,o){if(1&r){const s=i.RV6();i.j41(0,"div",1),i.DNE(1,I,1,1,"img",2),i.j41(2,"div",3),i.bIt("click",function(){return i.eBV(s),i.Njj(o.onClickInputWrapper())}),i.j41(3,"header"),i.EFF(4),i.k0s(),i.j41(5,"input",4,0),i.bIt("change",function(c){return i.eBV(s),i.Njj(o.onChangeFile(c))}),i.k0s(),i.nrm(7,"i",5),i.k0s()()}2&r&&(i.R7$(),i.Y8G("ngIf",o.imgBase64),i.R7$(3),i.JRh(o.fileName))},dependencies:[k.MD,k.bT],styles:["[_ngcontent-%COMP%]::selection{color:#fff;background:#6990f2}.wrapper[_ngcontent-%COMP%]{width:100%;border-radius:.375rem;border-width:1px;border-color:hsl(var(--border));background-color:hsl(var(--background));padding:.75rem;font-size:.75rem;line-height:1rem;color:hsl(var(--foreground))}.wrapper[_ngcontent-%COMP%]::placeholder{color:hsl(var(--muted-foreground))}.wrapper[_ngcontent-%COMP%]:focus{z-index:10;border-color:hsl(var(--primary));outline:2px solid transparent;outline-offset:2px;--tw-ring-color: hsl(var(--primary))}header[_ngcontent-%COMP%]{text-align:center}section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-bottom:10px;list-style:none;padding:15px 20px;border-radius:5px;display:flex;align-items:center;justify-content:space-between}section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px}section[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}"]})}return e})();var w=O(1413);let W=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-item-list"]],inputs:{id:"id",name:"name"},standalone:!0,features:[i.aNF],decls:3,vars:1,consts:[[1,"flex","flex-col","items-start","p-2","rounded-md","hover:bg-muted","hover:cursor-pointer"],[1,"text-sm","text-foreground"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"span",1),i.EFF(2),i.k0s()()),2&r&&(i.R7$(2),i.SpI(" ",o.name," "))},dependencies:[k.MD],encapsulation:2})}return e})();function H(e,n){if(1&e){const t=i.RV6();i.j41(0,"app-item-list",2),i.bIt("click",function(){const o=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onSelect(o))}),i.k0s()}if(2&e){const t=n.$implicit;i.Y8G("name",t.name)("id",t.id)}}let L=(()=>{class e{constructor(){this.isHidden=!1,this.items=[],this.filteredItems=[]}ngOnInit(){this.filteredItems=this.items,this.filterListener?.subscribe({next:t=>{this.filterItems(t)}})}filterItems(t){this.filteredItems=this.items.filter(r=>r.name.toLowerCase().startsWith(t.toLowerCase()))}onSelect(t){this.onSelectItem(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-listview"]],inputs:{isHidden:"isHidden",onSelectItem:"onSelectItem",items:"items",filterListener:"filterListener"},standalone:!0,features:[i.aNF],decls:2,vars:2,consts:[[3,"ngClass"],[3,"name","id","click",4,"ngFor","ngForOf"],[3,"click","name","id"]],template:function(r,o){1&r&&(i.j41(0,"div",0),i.DNE(1,H,1,2,"app-item-list",1),i.k0s()),2&r&&(i.Y8G("ngClass",o.isHidden?" hidden":" mt-2 absolute z-10 bg-background shadow-lg rounded-md w-full border border-muted max-h-32 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted"),i.R7$(),i.Y8G("ngForOf",o.filteredItems))},dependencies:[k.MD,k.YU,k.Sq,W],encapsulation:2})}return e})();function Ce(e,n){if(1&e&&(i.qex(0),i.j41(1,"div",5),i.nrm(2,"app-listview",6),i.k0s(),i.bVm()),2&e){const t=i.XpG();i.R7$(2),i.Y8G("items",t.items)("isHidden",t.isHidden)("onSelectItem",t.onSelectItem)("filterListener",t.searchTerm$)}}let ee=(()=>{class e{constructor(){this.value=null,this.isDisabled=!1,this.isHidden=!0,this.cdr=(0,i.WQX)(i.gRc),this.searchTerm$=new w.B,this.withFilter=!1,this.isToggle=!1,this.searchInput="Select",this.searchText="1",this.onSelectItem=t=>{this.searchInput=t.name,this.changeValue(t.id),this.updateToggle()}}writeValue(t){this.value=t,this.searchInput=this.items.find(r=>r.id==t)?.name||"Select item",this.value?console.log("Hay valor ",this.value):(console.log("No hay valor ",this.value),console.log("Items ",this.items)),this.cdr.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}changeValue(t){this.value=t,this.searchInput=this.items.find(r=>r.id==t)?.name||"Select item",this.onTouched?.(),this.onChange?.(t)}ngOnInit(){}ngAfterViewInit(){}searchTerm(t){t.target.value&&this.searchTerm$.next(t.target.value)}updateToggle(){const t=this.isHidden;this.isToggle=!this.isToggle,this.isHidden=!t,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-select"]],inputs:{items:"items",withFilter:"withFilter"},standalone:!0,features:[i.Jv_([{provide:S.kq,useExisting:(0,i.Rfq)(()=>e),multi:!0}]),i.aNF],decls:6,vars:4,consts:[[1,"flex","flex-col","relative"],[1,"flex","items-start","hover:bg-card","p-2","border-muted","rounded-md","relative",3,"click","ngClass"],[1,"text-sm","text-foreground"],["src","assets/icons/heroicons/outline/bars-arrow-down.svg",3,"svgClass"],[4,"ngIf"],[1,"content"],[3,"items","isHidden","onSelectItem","filterListener"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1),i.bIt("click",function(){return o.updateToggle()}),i.j41(2,"span",2),i.EFF(3),i.k0s(),i.nrm(4,"svg-icon",3),i.k0s(),i.DNE(5,Ce,3,4,"ng-container",4),i.k0s()),2&r&&(i.R7$(),i.Y8G("ngClass",o.isHidden?"border  ":" border-2 border-primary "),i.R7$(2),i.JRh(o.searchInput),i.R7$(),i.Y8G("svgClass","h-6 w-6 absolute right-2 text-foreground"),i.R7$(),i.Y8G("ngIf",o.isToggle))},dependencies:[k.MD,k.YU,k.bT,L,S.YN,C.DM],encapsulation:2})}return e})();function ct(){return(ct=(0,h.A)(function*(e,n){const r=yield(yield fetch(e)).blob();return new File([r],n,{type:r.type})})).apply(this,arguments)}function wo(e,n){if(1&e){const t=i.RV6();i.j41(0,"form",1),i.bIt("ngSubmit",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onSubmit())}),i.j41(1,"div",2)(2,"div",3)(3,"span",4),i.EFF(4),i.k0s(),i.j41(5,"button",5),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.close())}),i.EFF(6," X "),i.k0s()(),i.nrm(7,"hr",6),i.k0s(),i.j41(8,"div",7),i.nrm(9,"div",8),i.j41(10,"div",7)(11,"div",9)(12,"span",10),i.EFF(13,"Plan"),i.k0s(),i.nrm(14,"app-select",11),i.k0s()(),i.nrm(15,"hr",6),i.j41(16,"div",7)(17,"div",9)(18,"span",10),i.EFF(19,"Descripcion"),i.k0s(),i.nrm(20,"input",12),i.k0s()(),i.nrm(21,"hr",6),i.j41(22,"div",7)(23,"div",9)(24,"span",10),i.EFF(25,"Estado"),i.k0s(),i.nrm(26,"app-select",13),i.k0s()(),i.nrm(27,"hr",6),i.j41(28,"div",7)(29,"div",9)(30,"span",10),i.EFF(31,"Imagen"),i.k0s(),i.nrm(32,"app-file-input",14),i.k0s()(),i.nrm(33,"hr",6),i.j41(34,"div",15)(35,"button",16),i.EFF(36," Guardar Cambios "),i.k0s(),i.nrm(37,"hr"),i.j41(38,"button",17),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onDelete())}),i.EFF(39," Eliminar "),i.k0s()()()()}if(2&e){const t=i.XpG();i.Y8G("formGroup",t.formDetails),i.R7$(4),i.JRh("Detalles del Plan"),i.R7$(10),i.Y8G("items",t.data.items),i.R7$(12),i.Y8G("items",t.items)}}let ko=(()=>{class e{constructor(){this.cdr=(0,i.WQX)(i.gRc),this.items=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.formDetails=null}ngAfterViewInit(){(function he(e,n){return ct.apply(this,arguments)})(this.service.img_url,this.service.description).then(t=>{this.formDetails=new S.gE({id:new S.MJ(this.service.service_id||this.service.id),plan:new S.MJ(this.service.service.servicio_id),description:new S.MJ(this.service.description),image:new S.MJ(t),status:new S.MJ(this.service.status.id)})})}ngOnInit(){this.cdr.detectChanges()}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.formDetails)}onDelete(){this.detailListener.delete(this.service.id||this.service.service_id)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-service-mobile-detail"]],inputs:{detailListener:"detailListener",service:"service",data:"data"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[["class","flex   w-screen  md:w-96 bg-background h-full overflow-auto gap-2  px-3 flex-col scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted",3,"formGroup","ngSubmit",4,"ngIf"],[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","z-10","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["formControlName","plan",3,"items"],["formControlName","description","type","text","placeholder","Enlace general con detalles precisos"],["formControlName","status",3,"items"],["formControlName","image"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(r,o){1&r&&i.DNE(0,wo,40,4,"form",0),2&r&&i.Y8G("ngIf",o.formDetails)},dependencies:[k.MD,k.bT,j,S.X1,S.qT,S.me,S.BC,S.cb,S.j4,S.JD,S.YN,ee],encapsulation:2})}return e})();var Me=function(e){return e.Create="Create",e.Read="Read",e.Update="Update",e.Delete="Delete",e}(Me||{});const or=["*","*"];function Jr(e,n){}function T_(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",22),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2).$implicit,s=i.XpG();return i.Njj(s.submit(o))}),i.EFF(1),i.k0s()}if(2&e){const t=i.XpG(2).$implicit;i.R7$(),i.JRh(t.title)}}function I_(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2).$implicit,s=i.XpG();return i.Njj(s.submit(o))}),i.EFF(1),i.k0s()}if(2&e){const t=i.XpG(2).$implicit;i.R7$(),i.JRh(t.title)}}function B_(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",24),i.bIt("click",function(){i.eBV(t);const o=i.XpG(2).$implicit,s=i.XpG();return i.Njj(s.submit(o))}),i.EFF(1),i.k0s()}if(2&e){const t=i.XpG(2).$implicit;i.R7$(),i.JRh(t.title)}}function N_(e,n){if(1&e&&i.DNE(0,T_,2,1,"button",19)(1,I_,2,1,"button",20)(2,B_,2,1,"button",21),2&e){const t=i.XpG().$implicit,r=i.XpG();i.Y8G("ngIf",t.action==r.create&&(null==r.forms||r.actualStep==r.forms.length-1)),i.R7$(),i.Y8G("ngIf",t.action==r.edit&&(null==r.forms||r.actualStep==r.forms.length-1)),i.R7$(),i.Y8G("ngIf",t.action==r.delete&&(null==r.forms||r.actualStep==r.forms.length-1))}}function O_(e,n){1&e&&i.SdG(0,0,["*ngFor","let action of actions"],N_,3,3)}function M_(e,n){if(1&e){const t=i.RV6();i.j41(0,"button",27),i.bIt("click",function(){i.eBV(t);const o=i.XpG(4);return i.Njj(o.toggleNext())}),i.EFF(1," Siguiente Paso "),i.k0s()}}function P_(e,n){if(1&e){const t=i.RV6();i.j41(0,"div",26)(1,"button",27),i.bIt("click",function(){i.eBV(t);const o=i.XpG(3);return i.Njj(o.togglePrev())}),i.EFF(2," Paso Previo "),i.k0s(),i.DNE(3,M_,2,0,"button",28),i.k0s()}if(2&e){const t=i.XpG(3);i.R7$(3),i.Y8G("ngIf",t.actualStep!=t.forms.length-1)}}function D_(e,n){if(1&e&&i.DNE(0,P_,4,1,"div",25),2&e){const t=i.XpG(2);i.Y8G("ngIf",t.forms.length>1)}}function F_(e,n){1&e&&i.SdG(0,1,["*ngIf","forms && forms.length > 0  "],D_,1,1)}let L_=(()=>{class e{constructor(t,r){this.elementRef=t,this.iconRegistry=r,this.delete=Me.Delete,this.edit=Me.Update,this.create=Me.Create,this.actualStep=0,this.title="Agregar Elemento",this.iconPath="assets/icons/heroicons/outline/plus.svg",this.size="md",this.actions=[{action:Me.Create,title:"Agregar"}],this.closeEvent=new i.bkB,this.submitEvent=new i.bkB,this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(t){this.elementRef.nativeElement.remove(),this.submitEvent.emit({form:this.forms,data:this.data,action:t})}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const t=this.dcWrapper.viewContainerRef;t.clear();const r=t.createComponent(this.component);r.instance.forms=this.forms,r.instance.data=this.data,r.instance.onCreateModal?.subscribe({next:o=>{this.listenerFromChild=o}}),this.cdr.detectChanges()}toggleNext(){const{actualStep:r}=this.listenerFromChild?.onNext();this.actualStep=r,this.cdr.detectChanges()}togglePrev(){const{actualStep:r}=this.listenerFromChild?.onPrev();this.actualStep=r,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)(i.rXU(i.aKT),i.rXU(C.it))};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-modal"]],viewQuery:function(r,o){if(1&r&&i.GBs(v,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{title:"title",iconPath:"iconPath",size:"size",forms:"forms",data:"data",actions:"actions",component:"component"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},standalone:!0,features:[i.aNF],ngContentSelectors:or,decls:22,vars:4,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"relative","z-10"],["aria-hidden","true",1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"fixed","inset-0","z-10","w-screen","overflow-y-auto"],[1,"flex","min-h-full","items-end","justify-center","p-4","text-center","sm:items-center","sm:p-0"],[1,"relative","w-full","max-w-4xl","transform","overflow-hidden","rounded-lg","bg-card","text-left","shadow-xl","transition-all","sm:my-8","sm:w-full","sm:max-w-4xl"],[1,"bg-card","px-2","pb-2","pt-5","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"relative","w-full","mt-3","text-center","sm:ml-4"],[1,"flex","w-full","text-start","flex-row","gap-2","pr-8","items-start","justify-start"],[1,"flex","flex-row","h-6","w-fit","flex-shrink-0","items-center","justify-start","rounded-full","bg-primary","mx-0"],["alt","",1,"h-6","w-6","text-white",3,"src"],["id","modal-title",1,"text-base","leading-6","font-semibold","text-foreground","text-bold"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"mt-5"],["dcWrapper","","id","item"],[1,"flex","flex-col","bg-background","gap-2","px-4","py-3","sm:flex","md:flex-row-reverse","sm:px-6"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["type","button","class","inline-flex w-full justify-center rounded-md bg-primary px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md bg-blue-700 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button","class","inline-flex w-full justify-center rounded-md  bg-red-600 px-3 py-2 text-sm font-semibold text-primary-foreground  shadow-sm  sm:ml-3 sm:w-auto",3,"click",4,"ngIf"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-primary","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-blue-700","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-primary-foreground","shadow-sm","sm:ml-3","sm:w-auto",3,"click"],["class","flex flex-col-reverse w-full md:flex-row md:w-fit items-center justify-center  gap-1 px-1 ",4,"ngIf"],[1,"flex","flex-col-reverse","w-full","md:flex-row","md:w-fit","items-center","justify-center","gap-1","px-1"],[1,"inline-flex","w-full","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-auto",3,"click"],["class","inline-flex w-full justify-center rounded-md bg-background px-3 py-2 text-sm font-semibold text-foreground shadow-sm ring-1 ring-inset ring-foreground hover:bg-card sm:mt-0 sm:w-auto ",3,"click",4,"ngIf"]],template:function(r,o){1&r&&(i.NAR(or),i.j41(0,"div",0),i.nrm(1,"div",1),i.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),i.nrm(10,"svg-icon",10),i.k0s(),i.j41(11,"h3",11),i.EFF(12),i.k0s(),i.j41(13,"div",12),i.bIt("click",function(){return o.close()}),i.EFF(14," X "),i.k0s()(),i.j41(15,"div",13),i.DNE(16,Jr,0,0,"ng-template",14),i.k0s()()()(),i.j41(17,"div",15),i.DNE(18,O_,2,0,"ng-content",16)(19,F_,2,0,"ng-content",17),i.j41(20,"button",18),i.bIt("click",function(){return o.close()}),i.EFF(21,"Cancelar"),i.k0s()()()()()()),2&r&&(i.R7$(10),i.Y8G("src",o.iconPath),i.R7$(2),i.JRh(o.title),i.R7$(6),i.Y8G("ngForOf",o.actions),i.R7$(),i.Y8G("ngIf",o.forms&&o.forms.length>0))},dependencies:[k.MD,k.Sq,k.bT,C.DM,v],encapsulation:2})}return e})(),lu=(()=>{class e{constructor(t,r,o){this.resolver=t,this.injector=r,this.document=o}open(t,r){const s=this.resolver.resolveComponentFactory(L_).create(this.injector),a=s.instance;return a.title=r?.title,a.size=r?.size||"md",a.forms=r.forms,a.data=r.data,a.iconPath=r?.icon||"assets/icons/heroicons/outline/plus.svg",a.actions=r?.actions||[{action:Me.Create,title:"Realizar"}],this.resolver.resolveComponentFactory(t).create(this.injector),a.component=t,a.closeEvent.subscribe(()=>{this.closeModal()}),a.submitEvent.subscribe(m=>{this.submitModal(m)}),s.hostView.detectChanges(),this.document.body.appendChild(s.location.nativeElement),s.hostView.detectChanges(),this.modalNotifier=new w.B,this.modalNotifier.asObservable()}closeModal(){this.modalNotifier?.complete()}submitModal(t){this.modalNotifier?.next(t),this.closeModal()}static#e=this.\u0275fac=function(r){return new(r||e)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(k.qQ))};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Zr=(()=>{class e{constructor(){this.validators=[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-input-text"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[i.aNF],decls:1,vars:2,consts:[["type","text",3,"formControl","placeholder"]],template:function(r,o){1&r&&i.nrm(0,"input",0),2&r&&i.Y8G("formControl",o.formControl)("placeholder",o.data.placeholder)},dependencies:[k.MD,S.YN,S.me,S.BC,S.X1,S.l_],encapsulation:2})}return e})();function G_(e,n){}let U_=(()=>{class e{constructor(){this.titleField=null,this.cdr=(0,i.WQX)(i.gRc)}ngAfterViewInit(){this.cdr.detectChanges(),this.loadComponent()}loadComponent(){const t=this.dcWrapper.viewContainerRef;t.clear();const r=t.createComponent(this.dynamicField.component);r.instance.formControl=this.dynamicField.fieldFormControl,r.instance.data=this.dynamicField.data,this.titleField=this.dynamicField.data.title,this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-field-template"]],viewQuery:function(r,o){if(1&r&&i.GBs(v,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{fieldListener:"fieldListener",dynamicField:"dynamicField"},standalone:!0,features:[i.aNF],decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","gap-1","p-2"],[1,"text-sm","font-semibold","text-muted-foreground","text-start"],["dcWrapper","","id","item"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"label",1),i.EFF(2),i.k0s(),i.DNE(3,G_,0,0,"ng-template",2),i.k0s()),2&r&&(i.R7$(2),i.JRh(o.titleField||"Titulo"))},dependencies:[k.MD,v],encapsulation:2})}return e})();function j_(e,n){1&e&&i.nrm(0,"app-field-template",4),2&e&&i.Y8G("dynamicField",n.$implicit)}let ei=(()=>{class e{constructor(){this.fields=[],this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}renderForm(){this.cdr.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-form-template"]],inputs:{fields:"fields",step:"step",formListener:"formListener",data:"data"},standalone:!0,features:[i.aNF],decls:5,vars:2,consts:[[1,"flex","w-full","flex-col","gap-2","bg-background","p-3"],[1,"text-sm","font-semibold","text-foreground","text-start"],[1,"flex","gap-2","flex-col","w-full"],["class","w-full",3,"dynamicField",4,"ngFor","ngForOf"],[1,"w-full",3,"dynamicField"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"label",1),i.EFF(2),i.k0s(),i.j41(3,"div",2),i.DNE(4,j_,1,1,"app-field-template",3),i.k0s()()),2&r&&(i.R7$(2),i.JRh(o.data.description||""),i.R7$(2),i.Y8G("ngForOf",o.fields))},dependencies:[k.MD,k.Sq,U_],encapsulation:2})}return e})();function z_(e,n){1&e&&(i.qSk(),i.j41(0,"svg",9),i.nrm(1,"path",10),i.k0s())}function $_(e,n){if(1&e&&(i.j41(0,"li",6)(1,"span",7),i.EFF(2),i.k0s(),i.EFF(3),i.DNE(4,z_,2,0,"svg",8),i.k0s()),2&e){const t=n.$implicit,r=n.index,o=i.XpG();i.Y8G("ngClass",r==o.actualFormIndex?" text-primary ":r<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),i.R7$(),i.Y8G("classList",r<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),i.R7$(),i.SpI(" ",r+1," "),i.R7$(),i.SpI(" ",t.data.title," "),i.R7$(),i.Y8G("ngIf",r+1<=o.forms.length-1)}}function H_(e,n){}let V_=(()=>{class e{constructor(){this.onCreateModal=new i.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}ngAfterViewInit(){const t=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(t),this.cdr.detectChanges()}loadComponent(t){const r=this.forms[t],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(r.component);s.instance.step=t,s.instance.fields=r.dynamicFields,s.instance.data=r.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-modal-service-mobile"]],viewQuery:function(r,o){if(1&r&&i.GBs(v,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[i.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"ol",2),i.DNE(3,$_,5,5,"li",3),i.k0s()(),i.j41(4,"div",4),i.DNE(5,H_,0,0,"ng-template",5),i.k0s()()),2&r&&(i.R7$(3),i.Y8G("ngForOf",o.forms))},dependencies:[k.MD,k.YU,k.Sq,k.bT,v],encapsulation:2})}return e})(),q_=(()=>{class e{constructor(){this.validators=[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-input-select"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[i.aNF],decls:1,vars:2,consts:[[3,"items","formControl"]],template:function(r,o){1&r&&i.nrm(0,"app-select",0),2&r&&i.Y8G("items",o.data.items)("formControl",o.formControl)},dependencies:[k.MD,ee,S.X1,S.BC,S.l_,S.YN],encapsulation:2})}return e})(),K_=(()=>{class e{constructor(){this.validators=[]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-input-file"]],inputs:{formControl:"formControl",data:"data",validators:"validators"},standalone:!0,features:[i.aNF],decls:1,vars:1,consts:[[3,"formControl"]],template:function(r,o){1&r&&i.nrm(0,"app-file-input",0),2&r&&i.Y8G("formControl",o.formControl)},dependencies:[k.MD,j,S.YN,S.BC,S.X1,S.l_],encapsulation:2})}return e})();const X_=e=>{let n=e.httpHandler;return{setHttpHandler(t){n=t},httpHandler:()=>n,updateHttpClientConfig(t,r){n.updateHttpClientConfig(t,r)},httpHandlerConfigs:()=>n.httpHandlerConfigs()}},W_=e=>({httpHandler:e.httpHandler()});var Ro=function(e){return e.HTTP="http",e.HTTPS="https",e}(Ro||{}),eo=function(e){return e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256",e}(eo||{});const ti="__smithy_context";class Te{constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?":"!==n.protocol.slice(-1)?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?"/"!==n.path.charAt(0)?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){const t=new Te({...n,headers:{...n.headers}});return t.query&&(t.query=function tp(e){return Object.keys(e).reduce((n,t)=>{const r=e[t];return{...n,[t]:Array.isArray(r)?[...r]:r}},{})}(t.query)),t}static isInstance(n){return!!n&&("method"in n&&"protocol"in n&&"hostname"in n&&"path"in n&&"object"==typeof n.query&&"object"==typeof n.headers)}clone(){return Te.clone(this)}}class En{constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){return!!n&&("number"==typeof n.statusCode&&"object"==typeof n.headers)}}const rp={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},op=e=>({applyToStack:n=>{n.add(function np(e){return n=>function(){var t=(0,h.A)(function*(r){const{request:o}=r;return Te.isInstance(o)&&o.body&&"node"===e.runtime&&"FetchHttpHandler"!==e.requestHandler?.constructor?.name&&(o.headers={...o.headers,Expect:"100-continue"}),n({...r,request:o})});return function(r){return t.apply(this,arguments)}}()}(e),rp)}}),sp=e=>n=>function(){var t=(0,h.A)(function*(r){if(!Te.isInstance(r.request))return n(r);const{request:o}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!o.headers[":authority"])delete o.headers.host,o.headers[":authority"]=o.hostname+(o.port?":"+o.port:"");else if(!o.headers.host){let a=o.hostname;null!=o.port&&(a+=`:${o.port}`),o.headers.host=a}return n(r)});return function(r){return t.apply(this,arguments)}}(),ip={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},cp=()=>(e,n)=>function(){var t=(0,h.A)(function*(r){try{const o=yield e(r),{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:f={}}=n,{overrideInputFilterSensitiveLog:m,overrideOutputFilterSensitiveLog:x}=f,b=m??n.inputFilterSensitiveLog,R=x??n.outputFilterSensitiveLog,{$metadata:M,...z}=o.output;return c?.info?.({clientName:s,commandName:a,input:b(r.input),output:R(z),metadata:M}),o}catch(o){const{clientName:s,commandName:a,logger:c,dynamoDbDocumentClientOptions:f={}}=n,{overrideInputFilterSensitiveLog:m}=f,x=m??n.inputFilterSensitiveLog;throw c?.error?.({clientName:s,commandName:a,input:x(r.input),error:o,metadata:o.$metadata}),o}});return function(r){return t.apply(this,arguments)}}(),up={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},du="X-Amzn-Trace-Id",_p=e=>n=>function(){var t=(0,h.A)(function*(r){const{request:o}=r;if(!Te.isInstance(o)||"node"!==e.runtime||o.headers.hasOwnProperty(du))return n(r);const s=process.env.AWS_LAMBDA_FUNCTION_NAME,a=process.env._X_AMZN_TRACE_ID,c=f=>"string"==typeof f&&f.length>0;return c(s)&&c(a)&&(o.headers[du]=a),n({...r,request:o})});return function(r){return t.apply(this,arguments)}}(),pp={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"};class ni{trace(){}debug(){}info(){}warn(){}error(){}}const An=(e,n)=>{const t=[];if(e&&t.push(e),n)for(const r of n)t.push(r);return t},un=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,To=()=>{let e=[],n=[],t=!1;const r=new Set,c=b=>(e.forEach(R=>{b.add(R.middleware,{...R})}),n.forEach(R=>{b.addRelativeTo(R.middleware,{...R})}),b.identifyOnResolve?.(x.identifyOnResolve()),b),f=b=>{const R=[];return b.before.forEach(M=>{0===M.before.length&&0===M.after.length?R.push(M):R.push(...f(M))}),R.push(b),b.after.reverse().forEach(M=>{0===M.before.length&&0===M.after.length?R.push(M):R.push(...f(M))}),R},m=(b=!1)=>{const R=[],M=[],z={};return e.forEach($=>{const ie={...$,before:[],after:[]};for(const re of An(ie.name,ie.aliases))z[re]=ie;R.push(ie)}),n.forEach($=>{const ie={...$,before:[],after:[]};for(const re of An(ie.name,ie.aliases))z[re]=ie;M.push(ie)}),M.forEach($=>{if($.toMiddleware){const ie=z[$.toMiddleware];if(void 0===ie){if(b)return;throw new Error(`${$.toMiddleware} is not found when adding ${un($.name,$.aliases)} middleware ${$.relation} ${$.toMiddleware}`)}"after"===$.relation&&ie.after.push($),"before"===$.relation&&ie.before.push($)}}),(b=>b.sort((R,M)=>fu[M.step]-fu[R.step]||_u[M.priority||"normal"]-_u[R.priority||"normal"]))(R).map(f).reduce(($,ie)=>($.push(...ie),$),[])},x={add:(b,R={})=>{const{name:M,override:z,aliases:Z}=R,$={step:"initialize",priority:"normal",middleware:b,...R},ie=An(M,Z);if(ie.length>0){if(ie.some(re=>r.has(re))){if(!z)throw new Error(`Duplicate middleware name '${un(M,Z)}'`);for(const re of ie){const ve=e.findIndex(et=>et.name===re||et.aliases?.some(tn=>tn===re));if(-1===ve)continue;const _e=e[ve];if(_e.step!==$.step||$.priority!==_e.priority)throw new Error(`"${un(_e.name,_e.aliases)}" middleware with ${_e.priority} priority in ${_e.step} step cannot be overridden by "${un(M,Z)}" middleware with ${$.priority} priority in ${$.step} step.`);e.splice(ve,1)}}for(const re of ie)r.add(re)}e.push($)},addRelativeTo:(b,R)=>{const{name:M,override:z,aliases:Z}=R,$={middleware:b,...R},ie=An(M,Z);if(ie.length>0){if(ie.some(re=>r.has(re))){if(!z)throw new Error(`Duplicate middleware name '${un(M,Z)}'`);for(const re of ie){const ve=n.findIndex(et=>et.name===re||et.aliases?.some(tn=>tn===re));if(-1===ve)continue;const _e=n[ve];if(_e.toMiddleware!==$.toMiddleware||_e.relation!==$.relation)throw new Error(`"${un(_e.name,_e.aliases)}" middleware ${_e.relation} "${_e.toMiddleware}" middleware cannot be overridden by "${un(M,Z)}" middleware ${$.relation} "${$.toMiddleware}" middleware.`);n.splice(ve,1)}}for(const re of ie)r.add(re)}n.push($)},clone:()=>c(To()),use:b=>{b.applyToStack(x)},remove:b=>"string"==typeof b?(b=>{let R=!1;const M=z=>{const Z=An(z.name,z.aliases);if(Z.includes(b)){R=!0;for(const $ of Z)r.delete($);return!1}return!0};return e=e.filter(M),n=n.filter(M),R})(b):(b=>{let R=!1;const M=z=>{if(z.middleware===b){R=!0;for(const Z of An(z.name,z.aliases))r.delete(Z);return!1}return!0};return e=e.filter(M),n=n.filter(M),R})(b),removeByTag:b=>{let R=!1;const M=z=>{const{tags:Z,name:$,aliases:ie}=z;if(Z&&Z.includes(b)){const re=An($,ie);for(const ve of re)r.delete(ve);return R=!0,!1}return!0};return e=e.filter(M),n=n.filter(M),R},concat:b=>{const R=c(To());return R.use(b),R.identifyOnResolve(t||R.identifyOnResolve()||(b.identifyOnResolve?.()??!1)),R},applyToStack:c,identify:()=>m(!0).map(b=>{const R=b.step??b.relation+" "+b.toMiddleware;return un(b.name,b.aliases)+" - "+R}),identifyOnResolve:b=>("boolean"==typeof b&&(t=b),t),resolve:(b,R)=>{for(const M of m().map(z=>z.middleware).reverse())b=M(b,R);return t&&console.log(x.identify()),b}};return x},fu={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},_u={high:3,normal:2,low:1};class hp{constructor(n){this.middlewareStack=To(),this.config=n}send(n,t,r){const s="function"==typeof t?t:r,a=n.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof t?t:void 0);if(!s)return a(n).then(c=>c.output);a(n).then(c=>s(null,c.output),c=>s(c)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const ln={},sr=new Array(64);for(let e=0,n=65,t=90;e+n<=t;e++){const r=String.fromCharCode(e+n);ln[r]=e,sr[e]=r}for(let e=0,n=97,t=122;e+n<=t;e++){const r=String.fromCharCode(e+n),o=e+26;ln[r]=o,sr[o]=r}for(let e=0;e<10;e++){ln[e.toString(10)]=e+52;const n=e.toString(10),t=e+52;ln[n]=t,sr[t]=n}ln["+"]=62,sr[62]="+",ln["/"]=63,sr[63]="/";const ri=e=>{let n=e.length/4*3;"=="===e.slice(-2)?n-=2:"="===e.slice(-1)&&n--;const t=new ArrayBuffer(n),r=new DataView(t);for(let o=0;o<e.length;o+=4){let s=0,a=0;for(let m=o,x=o+3;m<=x;m++)if("="!==e[m]){if(!(e[m]in ln))throw new TypeError(`Invalid character ${e[m]} in base64 string.`);s|=ln[e[m]]<<6*(x-m),a+=6}else s>>=6;const c=o/4*3;s>>=a%8;const f=Math.floor(a/8);for(let m=0;m<f;m++){const x=8*(f-m-1);r.setUint8(c+m,(s&255<<x)>>x)}}return new Uint8Array(t)},vn=e=>(new TextEncoder).encode(e);function oi(e){let n;if(n="string"==typeof e?vn(e):e,!("object"==typeof n&&"number"==typeof n.length||"object"==typeof n&&"number"==typeof n.byteOffset&&"number"==typeof n.byteLength))throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let o="";for(let s=0;s<n.length;s+=3){let a=0,c=0;for(let m=s,x=Math.min(s+3,n.length);m<x;m++)a|=n[m]<<8*(x-m-1),c+=8;const f=Math.ceil(c/6);a<<=6*f-c;for(let m=1;m<=f;m++){const x=6*(f-m);o+=sr[(a&63<<x)>>x]}o+="==".slice(0,4-f)}return o}const si=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};class wn extends Uint8Array{static fromString(n,t="utf-8"){if("string"==typeof n)return function xp(e,n){return wn.mutate("base64"===n?ri(e):vn(e))}(n,t);throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}static mutate(n){return Object.setPrototypeOf(n,wn.prototype),n}transformToString(n="utf-8"){return function yp(e,n="utf-8"){return"base64"===n?oi(e):si(e)}(this,n)}}const bp=(e,n)=>{const{base64Encoder:t,bodyLengthChecker:r,checksumAlgorithmFn:o,checksumLocationName:s,streamHasher:a}=n,c=void 0!==t&&void 0!==r&&void 0!==o&&void 0!==s&&void 0!==a,f=c?a(o,e):void 0,m=e.getReader();return new ReadableStream({pull:x=>(0,h.A)(function*(){const{value:b,done:R}=yield m.read();if(R){if(x.enqueue("0\r\n"),c){const M=t(yield f);x.enqueue(`${s}:${M}\r\n`),x.enqueue("\r\n")}x.close()}else x.enqueue(`${(r(b)||0).toString(16)}\r\n${b}\r\n`)})()})},dn=e=>encodeURIComponent(e).replace(/[!'()*]/g,Cp),Cp=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;function Ep(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{const r=new Error(`Request did not complete within ${e} ms`);r.name="TimeoutError",t(r)},e)})}const ii={supported:void 0};class ai{static create(n){return"function"==typeof n?.handle?n:new ai(n)}constructor(n){"function"==typeof n?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),void 0===ii.supported&&(ii.supported=typeof Request<"u"&&"keepalive"in new Request("https://[::1]"))}destroy(){}handle(n,{abortSignal:t}={}){var r=this;return(0,h.A)(function*(){r.config||(r.config=yield r.configProvider);const o=r.config.requestTimeout,s=!0===r.config.keepAlive,a=r.config.credentials;if(t?.aborted){const re=new Error("Request aborted");return re.name="AbortError",Promise.reject(re)}let c=n.path;const f=function Sp(e){const n=[];for(let t of Object.keys(e).sort()){const r=e[t];if(t=dn(t),Array.isArray(r))for(let o=0,s=r.length;o<s;o++)n.push(`${t}=${dn(r[o])}`);else{let o=t;(r||"string"==typeof r)&&(o+=`=${dn(r)}`),n.push(o)}}return n.join("&")}(n.query||{});f&&(c+=`?${f}`),n.fragment&&(c+=`#${n.fragment}`);let m="";null==n.username&&null==n.password||(m=`${n.username??""}:${n.password??""}@`);const{port:x,method:b}=n,R=`${n.protocol}//${m}${n.hostname}${x?`:${x}`:""}${c}`,M="GET"===b||"HEAD"===b?void 0:n.body,z={body:M,headers:new Headers(n.headers),method:b,credentials:a};M&&(z.duplex="half"),typeof AbortController<"u"&&(z.signal=t),ii.supported&&(z.keepalive=s);let Z=()=>{};const $=new Request(R,z),ie=[fetch($).then(re=>{const ve=re.headers,_e={};for(const tn of ve.entries())_e[tn[0]]=tn[1];return null!=re.body?{response:new En({headers:_e,reason:re.statusText,statusCode:re.status,body:re.body})}:re.blob().then(tn=>({response:new En({headers:_e,reason:re.statusText,statusCode:re.status,body:tn})}))}),Ep(o)];return t&&ie.push(new Promise((re,ve)=>{const _e=()=>{const et=new Error("Request aborted");et.name="AbortError",ve(et)};if("function"==typeof t.addEventListener){const et=t;et.addEventListener("abort",_e,{once:!0}),Z=()=>et.removeEventListener("abort",_e)}else t.onabort=_e})),Promise.race(ie).finally(Z)})()}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[n]=t,r))}httpHandlerConfigs(){return this.config??{}}}const pu=e=>"function"==typeof Blob&&e instanceof Blob?function Ap(e){return ci.apply(this,arguments)}(e):function vp(e){return ui.apply(this,arguments)}(e);function ci(){return(ci=(0,h.A)(function*(e){const n=yield function wp(e){return new Promise((n,t)=>{const r=new FileReader;r.onloadend=()=>{if(2!==r.readyState)return t(new Error("Reader aborted too early"));const o=r.result??"",s=o.indexOf(",");n(o.substring(s>-1?s+1:o.length))},r.onabort=()=>t(new Error("Read aborted")),r.onerror=()=>t(r.error),r.readAsDataURL(e)})}(e),t=ri(n);return new Uint8Array(t)})).apply(this,arguments)}function ui(){return(ui=(0,h.A)(function*(e){const n=[],t=e.getReader();let r=!1,o=0;for(;!r;){const{done:c,value:f}=yield t.read();f&&(n.push(f),o+=f.length),r=c}const s=new Uint8Array(o);let a=0;for(const c of n)s.set(c,a),a+=c.length;return s})).apply(this,arguments)}const mu={},li={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();1===n.length&&(n=`0${n}`),mu[e]=n,li[n]=e}function hu(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){const r=e.slice(t,t+2).toLowerCase();if(!(r in li))throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`);n[t/2]=li[r]}return n}function pt(e){let n="";for(let t=0;t<e.byteLength;t++)n+=mu[e[t]];return n}const gu=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),yu="The stream has already been transformed.",kp=e=>{if(!xu(e)&&!gu(e))throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`);let n=!1;const t=function(){var o=(0,h.A)(function*(){if(n)throw new Error(yu);return n=!0,yield pu(e)});return function(){return o.apply(this,arguments)}}();return Object.assign(e,{transformToByteArray:t,transformToString:(o=(0,h.A)(function*(s){const a=yield t();if("base64"===s)return oi(a);if("hex"===s)return pt(a);if(void 0===s||"utf8"===s||"utf-8"===s)return si(a);if("function"==typeof TextDecoder)return new TextDecoder(s).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")}),function(a){return o.apply(this,arguments)}),transformToWebStream:()=>{if(n)throw new Error(yu);if(n=!0,xu(e))return(o=>{if("function"!=typeof o.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return o.stream()})(e);if(gu(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}});var o},xu=e=>"function"==typeof Blob&&e instanceof Blob;function di(){return(di=(0,h.A)(function*(e){return"function"==typeof e.stream&&(e=e.stream()),e.tee()})).apply(this,arguments)}function fi(){return(fi=(0,h.A)(function*(e,n){let t=0;const r=[],o=e.getReader();let s=!1;for(;!s;){const{done:f,value:m}=yield o.read();if(m&&(r.push(m),t+=m?.byteLength??0),t>=n)break;s=f}o.releaseLock();const a=new Uint8Array(Math.min(n,t));let c=0;for(const f of r){if(f.byteLength>a.byteLength-c){a.set(f.subarray(0,a.byteLength-c),c);break}a.set(f,c),c+=f.length}return a})).apply(this,arguments)}const _i=function(){var e=(0,h.A)(function*(n=new Uint8Array,t){if(n instanceof Uint8Array)return wn.mutate(n);if(!n)return wn.mutate(new Uint8Array);const r=t.streamCollector(n);return wn.mutate(yield r)});return function(){return e.apply(this,arguments)}}();class no{constructor(){this.middlewareStack=To()}static classBuilder(){return new Ip}resolveMiddlewareWithContext(n,t,r,{middlewareFn:o,clientName:s,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:f,smithyContext:m,additionalContext:x,CommandCtor:b}){for(const $ of o.bind(this)(b,n,t,r))this.middlewareStack.use($);const R=n.concat(this.middlewareStack),{logger:M}=t,z={logger:M,clientName:s,commandName:a,inputFilterSensitiveLog:c,outputFilterSensitiveLog:f,[ti]:{commandInstance:this,...m},...x},{requestHandler:Z}=t;return R.resolve($=>Z.handle($.request,r||{}),z)}}class Ip{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=n=>n,this._outputFilterSensitiveLog=n=>n,this._serializer=null,this._deserializer=null}init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,r={}){return this._smithyContext={service:n,operation:t,...r},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=r=>r,t=r=>r){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}build(){const n=this;let t;return t=class extends no{static getEndpointParameterInstructions(){return n._ep}constructor(...[r]){super(),this.serialize=n._serializer,this.deserialize=n._deserializer,this.input=r??{},n._init(this)}resolveMiddleware(r,o,s){return this.resolveMiddlewareWithContext(r,o,s,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog,outputFilterSensitiveLog:n._outputFilterSensitiveLog,smithyContext:n._smithyContext,additionalContext:n._additionalContext})}}}}const nn="***SensitiveInformation***",Io=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},Bp=Math.ceil(2**127*(2-2**-23)),pi=e=>{const n=(e=>{if(null!=e){if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&Mo.warn(Oo(`Expected number but observed string: ${e}`)),n}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}})(e);if(void 0!==n&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>Bp)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},mi=e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},hi=(e,n)=>{const t=mi(e);if(void 0!==t&&Np(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},Np=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},ro=(e,n)=>{if(null==e)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},oo=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return Mo.warn(Oo(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Mp=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,ar=e=>{const n=e.match(Mp);if(null===n||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},gi=e=>(e=>hi(e,32))("string"==typeof e?ar(e):e),No=e=>(e=>hi(e,16))("string"==typeof e?ar(e):e),Oo=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join("\n"),Mo={warn:console.warn},Fp=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],yi=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Po(e){const n=e.getUTCFullYear(),t=e.getUTCMonth(),r=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),a=e.getUTCMinutes(),c=e.getUTCSeconds();return`${Fp[r]}, ${o<10?`0${o}`:`${o}`} ${yi[t]} ${n} ${s<10?`0${s}`:`${s}`}:${a<10?`0${a}`:`${a}`}:${c<10?`0${c}`:`${c}`} GMT`}const Gp=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),vu=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const n=Gp.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");const[t,r,o,s,a,c,f,m,x]=n,b=No(cr(r)),R=Vt(o,"month",1,12),M=Vt(s,"day",1,31),z=so(b,R,M,{hours:a,minutes:c,seconds:f,fractionalMilliseconds:m});return"Z"!=x.toUpperCase()&&z.setTime(z.getTime()-Yp(x)),z},Up=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),jp=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),zp=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),xi=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=Up.exec(e);if(n){const[t,r,o,s,a,c,f,m]=n;return so(No(cr(s)),bi(o),Vt(r,"day",1,31),{hours:a,minutes:c,seconds:f,fractionalMilliseconds:m})}if(n=jp.exec(e),n){const[t,r,o,s,a,c,f,m]=n;return Vp(so($p(s),bi(o),Vt(r,"day",1,31),{hours:a,minutes:c,seconds:f,fractionalMilliseconds:m}))}if(n=zp.exec(e),n){const[t,r,o,s,a,c,f,m]=n;return so(No(cr(m)),bi(r),Vt(o.trimLeft(),"day",1,31),{hours:s,minutes:a,seconds:c,fractionalMilliseconds:f})}throw new TypeError("Invalid RFC-7231 date-time value")},so=(e,n,t,r)=>{const o=n-1;return Kp(e,o,t),new Date(Date.UTC(e,o,t,Vt(r.hours,"hour",0,23),Vt(r.minutes,"minute",0,59),Vt(r.seconds,"seconds",0,60),Wp(r.fractionalMilliseconds)))},$p=e=>{const n=(new Date).getUTCFullYear(),t=100*Math.floor(n/100)+No(cr(e));return t<n?t+100:t},Vp=e=>e.getTime()-(new Date).getTime()>15768e8?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,bi=e=>{const n=yi.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},qp=[31,28,31,30,31,30,31,31,30,31,30,31],Kp=(e,n,t)=>{let r=qp[n];if(1===n&&Xp(e)&&(r=29),t>r)throw new TypeError(`Invalid day for ${yi[n]} in ${e}: ${t}`)},Xp=e=>e%4==0&&(e%100!=0||e%400==0),Vt=(e,n,t,r)=>{const o=(e=>(e=>hi(e,8))("string"==typeof e?ar(e):e))(cr(e));if(o<t||o>r)throw new TypeError(`${n} must be between ${t} and ${r}, inclusive`);return o},Wp=e=>null==e?0:1e3*(e=>pi("string"==typeof e?ar(e):e))("0."+e),Yp=e=>{const n=e[0];let t=1;if("+"==n)t=1;else{if("-"!=n)throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);t=-1}return t*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},cr=e=>{let n=0;for(;n<e.length-1&&"0"===e.charAt(n);)n++;return 0===n?e:e.slice(n)};class Ci extends Error{constructor(n){super(n.message),Object.setPrototypeOf(this,Ci.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}}const qt=(e,n={})=>(Object.entries(n).filter(([,r])=>void 0!==r).forEach(([r,o])=>{(null==e[r]||""===e[r])&&(e[r]=o)}),e.message=e.message||e.Message||"UnknownError",delete e.Message,e),em=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},tm=e=>{const n=[];for(const t in eo){const r=eo[t];void 0!==e[r]&&n.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{_checksumAlgorithms:n,addChecksumAlgorithm(t){this._checksumAlgorithms.push(t)},checksumAlgorithms(){return this._checksumAlgorithms}}},nm=e=>{const n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},rm=e=>{let n=e.retryStrategy;return{setRetryStrategy(t){n=t},retryStrategy:()=>n}},om=e=>{const n={};return n.retryStrategy=e.retryStrategy(),n},sm=e=>({...tm(e),...rm(e)}),im=e=>({...nm(e),...om(e)}),wu=e=>{const n="#text";for(const t in e)e.hasOwnProperty(t)&&void 0!==e[t][n]?e[t]=e[t][n]:"object"==typeof e[t]&&null!==e[t]&&(e[t]=wu(e[t]));return e},Si=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};function Ie(e,n,t){let r,o,s;if(typeof n>"u"&&typeof t>"u")r={},s=e;else{if(r=e,"function"==typeof n)return o=n,s=t,am(r,o,s);s=n}for(const a of Object.keys(s))Array.isArray(s[a])?ku(r,null,s,a):r[a]=s[a];return r}Si.prototype=Object.create(String.prototype,{constructor:{value:Si,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Si,String);const am=(e,n,t)=>Ie(e,Object.entries(t).reduce((r,[o,s])=>(r[o]=Array.isArray(s)?s:"function"==typeof s?[n,s()]:[n,s],r),{})),ku=(e,n,t,r)=>{if(null!==n){let a=t[r];"function"==typeof a&&(a=[,a]);const[c=cm,f=um,m=r]=a;return void(("function"==typeof c&&c(n[m])||"function"!=typeof c&&c)&&(e[r]=f(n[m])))}let[o,s]=t[r];if("function"==typeof s){let a;const c=void 0===o&&null!=(a=s()),f="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;c?e[r]=a:f&&(e[r]=s())}else{const a=void 0===o&&null!=s,c="function"==typeof o&&!!o(s)||"function"!=typeof o&&!!o;(a||c)&&(e[r]=s)}},cm=e=>null!=e,um=e=>e;function Ru(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}const pm={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},mm=e=>({applyToStack:n=>{n.add(function _m(){return(e,n)=>function(){var t=(0,h.A)(function*(r){const{request:o}=r;if(Te.isInstance(o)&&!("content-length"in o.headers)){const s="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";"function"!=typeof n?.logger?.warn||n.logger instanceof ni?console.warn(s):n.logger.warn(s)}return e({...r})});return function(r){return t.apply(this,arguments)}}()}(),pm)}}),hm=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){const s=yield e.region(),a=e.region;let c=()=>{};var f;t.__s3RegionRedirect&&(Object.defineProperty(e,"region",{writable:!1,value:(f=(0,h.A)(function*(){return t.__s3RegionRedirect}),function(){return f.apply(this,arguments)})}),c=()=>Object.defineProperty(e,"region",{writable:!0,value:a}));try{const f=yield n(o);if(t.__s3RegionRedirect&&(c(),s!==(yield e.region())))throw new Error("Region was not restored following S3 region redirect.");return f}catch(f){throw c(),f}});return function(o){return r.apply(this,arguments)}}(),gm={tags:["REGION_REDIRECT","S3"],name:"regionRedirectEndpointMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},xm={step:"initialize",tags:["REGION_REDIRECT","S3"],name:"regionRedirectMiddleware",override:!0},bm=e=>({applyToStack:n=>{n.add(function ym(e){return(n,t)=>function(){var r=(0,h.A)(function*(o){try{return yield n(o)}catch(s){if(e.followRegionRedirects&&301===s?.$metadata?.httpStatusCode){try{const a=s.$response.headers["x-amz-bucket-region"];t.logger?.debug(`Redirecting from ${yield e.region()} to ${a}`),t.__s3RegionRedirect=a}catch(a){throw new Error("Region redirect failed: "+a)}return n(o)}throw s}});return function(o){return r.apply(this,arguments)}}()}(e),xm),n.addRelativeTo(hm(e),gm)}}),Cm=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){const s=yield n(o),{response:a}=s;if(En.isInstance(a)&&a.headers.expires){a.headers.expiresstring=a.headers.expires;try{xi(a.headers.expires)}catch(c){t.logger?.warn(`AWS SDK Warning for ${t.clientName}::${t.commandName} response parsing (${a.headers.expires}): ${c}`),delete a.headers.expires}}return s});return function(o){return r.apply(this,arguments)}}(),Sm={tags:["S3"],name:"s3ExpiresMiddleware",override:!0,relation:"after",toMiddleware:"deserializerMiddleware"};let Am=(()=>{class e{constructor(t={}){this.data=t,this.lastPurgeTime=Date.now()}get(t){const r=this.data[t];if(r)return r}set(t,r){return this.data[t]=r,r}delete(t){delete this.data[t]}purgeExpired(){var t=this;return(0,h.A)(function*(){const r=Date.now();if(!(t.lastPurgeTime+e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS>r))for(const o in t.data){const s=t.data[o];if(!s.isRefreshing){const a=yield s.identity;a.expiration&&a.expiration.getTime()<r&&delete t.data[o]}}})()}}return e.EXPIRED_CREDENTIAL_PURGE_INTERVAL_MS=3e4,e})();class Ei{constructor(n,t=!1,r=Date.now()){this._identity=n,this.isRefreshing=t,this.accessed=r}get identity(){return this.accessed=Date.now(),this._identity}}let vm=(()=>{class e{constructor(t,r=new Am){this.createSessionFn=t,this.cache=r}getS3ExpressIdentity(t,r){var o=this;return(0,h.A)(function*(){const s=r.Bucket,{cache:a}=o,c=a.get(s);return c?c.identity.then(f=>(f.expiration?.getTime()??0)<Date.now()?a.set(s,new Ei(o.getIdentity(s))).identity:((f.expiration?.getTime()??0)<Date.now()+e.REFRESH_WINDOW_MS&&!c.isRefreshing&&(c.isRefreshing=!0,o.getIdentity(s).then(b=>{a.set(s,new Ei(Promise.resolve(b)))})),f)):a.set(s,new Ei(o.getIdentity(s))).identity})()}getIdentity(t){var r=this;return(0,h.A)(function*(){yield r.cache.purgeExpired().catch(a=>{console.warn("Error while clearing expired entries in S3ExpressIdentityCache: \n"+a)});const o=yield r.createSessionFn(t);if(!o.Credentials?.AccessKeyId||!o.Credentials?.SecretAccessKey)throw new Error("s3#createSession response credential missing AccessKeyId or SecretAccessKey.");return{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretAccessKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration?new Date(o.Credentials.Expiration):void 0}})()}}return e.REFRESH_WINDOW_MS=6e4,e})();const ur=e=>e[ti]||(e[ti]={}),fn=e=>{if("function"==typeof e)return e;const n=Promise.resolve(e);return()=>n},lr=e=>"string"==typeof e?vn(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),Tu="X-Amz-Date",Iu="X-Amz-Signature",Bu="X-Amz-Security-Token",Nu="authorization",Ou=Tu.toLowerCase(),Im=[Nu,Ou,"date"],Bm=Iu.toLowerCase(),Ai="x-amz-content-sha256",Nm=Bu.toLowerCase(),Om={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Mm=/^proxy-/,Pm=/^sec-/,vi="AWS4-HMAC-SHA256",Dm="AWS4-HMAC-SHA256-PAYLOAD",Mu="aws4_request",dr={},Fo=[],wi=(e,n,t)=>`${e}/${n}/${t}/${Mu}`,Um=function(){var e=(0,h.A)(function*(n,t,r,o,s){const c=`${r}:${o}:${s}:${pt(yield Pu(n,t.secretAccessKey,t.accessKeyId))}:${t.sessionToken}`;if(c in dr)return dr[c];for(Fo.push(c);Fo.length>50;)delete dr[Fo.shift()];let f=`AWS4${t.secretAccessKey}`;for(const m of[r,o,s,Mu])f=yield Pu(n,f,m);return dr[c]=f});return function(t,r,o,s,a){return e.apply(this,arguments)}}(),Pu=(e,n,t)=>{const r=new e(n);return r.update(lr(t)),r.digest()},Du=({headers:e},n,t)=>{const r={};for(const o of Object.keys(e).sort()){if(null==e[o])continue;const s=o.toLowerCase();(s in Om||n?.has(s)||Mm.test(s)||Pm.test(s))&&(!t||t&&!t.has(s))||(r[s]=e[o].trim().replace(/\s+/g," "))}return r},Fu=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),ki=function(){var e=(0,h.A)(function*({headers:n,body:t},r){for(const o of Object.keys(n))if(o.toLowerCase()===Ai)return n[o];if(null==t)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof t||ArrayBuffer.isView(t)||Fu(t)){const o=new r;return o.update(lr(t)),pt(yield o.digest())}return"UNSIGNED-PAYLOAD"});return function(t,r){return e.apply(this,arguments)}}();class zm{format(n){const t=[];for(const s of Object.keys(n)){const a=vn(s);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(n[s]))}const r=new Uint8Array(t.reduce((s,a)=>s+a.byteLength,0));let o=0;for(const s of t)r.set(s,o),o+=s.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(n.value.bytes,1),o;case"binary":const s=new DataView(new ArrayBuffer(3+n.value.byteLength));s.setUint8(0,6),s.setUint16(1,n.value.byteLength,!1);const a=new Uint8Array(s.buffer);return a.set(n.value,3),a;case"string":const c=vn(n.value),f=new DataView(new ArrayBuffer(3+c.byteLength));f.setUint8(0,7),f.setUint16(1,c.byteLength,!1);const m=new Uint8Array(f.buffer);return m.set(c,3),m;case"timestamp":const x=new Uint8Array(9);return x[0]=8,x.set(Ri.fromNumber(n.value.valueOf()).bytes,1),x;case"uuid":if(!Hm.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const b=new Uint8Array(17);return b[0]=9,b.set(hu(n.value.replace(/\-/g,"")),1),b}}}const Hm=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class Ri{constructor(n){if(this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(n));r>-1&&o>0;r--,o/=256)t[r]=o;return n<0&&Lu(t),new Ri(t)}valueOf(){const n=this.bytes.slice(0),t=128&n[0];return t&&Lu(n),parseInt(pt(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function Lu(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,0===e[n]);n--);}const Gu=e=>{e=Te.clone(e);for(const n of Object.keys(e.headers))Im.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e};class Ti{constructor({applyChecksum:n,credentials:t,region:r,service:o,sha256:s,uriEscapePath:a=!0}){this.headerFormatter=new zm,this.service=o,this.sha256=s,this.uriEscapePath=a,this.applyChecksum="boolean"!=typeof n||n,this.regionProvider=fn(r),this.credentialProvider=fn(t)}presign(n,t={}){var r=this;return(0,h.A)(function*(){const{signingDate:o=new Date,expiresIn:s=3600,unsignableHeaders:a,unhoistableHeaders:c,signableHeaders:f,signingRegion:m,signingService:x}=t,b=yield r.credentialProvider();r.validateResolvedCredentials(b);const R=m??(yield r.regionProvider()),{longDate:M,shortDate:z}=Lo(o);if(s>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const Z=wi(z,R,x??r.service),$=((e,n={})=>{const{headers:t,query:r={}}=Te.clone(e);for(const o of Object.keys(t)){const s=o.toLowerCase();"x-amz-"===s.slice(0,6)&&!n.unhoistableHeaders?.has(s)&&(r[o]=t[o],delete t[o])}return{...e,headers:t,query:r}})(Gu(n),{unhoistableHeaders:c});b.sessionToken&&($.query[Bu]=b.sessionToken),$.query["X-Amz-Algorithm"]=vi,$.query["X-Amz-Credential"]=`${b.accessKeyId}/${Z}`,$.query[Tu]=M,$.query["X-Amz-Expires"]=s.toString(10);const ie=Du($,a,f);return $.query["X-Amz-SignedHeaders"]=Uu(ie),$.query[Iu]=yield r.getSignature(M,Z,r.getSigningKey(b,R,z,x),r.createCanonicalRequest($,ie,yield ki(n,r.sha256))),$})()}sign(n,t){var r=this;return(0,h.A)(function*(){return"string"==typeof n?r.signString(n,t):n.headers&&n.payload?r.signEvent(n,t):n.message?r.signMessage(n,t):r.signRequest(n,t)})()}signEvent({headers:n,payload:t},{signingDate:r=new Date,priorSignature:o,signingRegion:s,signingService:a}){var c=this;return(0,h.A)(function*(){const f=s??(yield c.regionProvider()),{shortDate:m,longDate:x}=Lo(r),b=wi(m,f,a??c.service),R=yield ki({headers:{},body:t},c.sha256),M=new c.sha256;M.update(n);const z=pt(yield M.digest()),Z=[Dm,x,b,o,z,R].join("\n");return c.signString(Z,{signingDate:r,signingRegion:f,signingService:a})})()}signMessage(n,{signingDate:t=new Date,signingRegion:r,signingService:o}){var s=this;return(0,h.A)(function*(){return s.signEvent({headers:s.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:r,signingService:o,priorSignature:n.priorSignature}).then(c=>({message:n.message,signature:c}))})()}signString(n,{signingDate:t=new Date,signingRegion:r,signingService:o}={}){var s=this;return(0,h.A)(function*(){const a=yield s.credentialProvider();s.validateResolvedCredentials(a);const c=r??(yield s.regionProvider()),{shortDate:f}=Lo(t),m=new s.sha256(yield s.getSigningKey(a,c,f,o));return m.update(lr(n)),pt(yield m.digest())})()}signRequest(n,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:o,signingRegion:s,signingService:a}={}){var c=this;return(0,h.A)(function*(){const f=yield c.credentialProvider();c.validateResolvedCredentials(f);const m=s??(yield c.regionProvider()),x=Gu(n),{longDate:b,shortDate:R}=Lo(t),M=wi(R,m,a??c.service);x.headers[Ou]=b,f.sessionToken&&(x.headers[Nm]=f.sessionToken);const z=yield ki(x,c.sha256);!((e,n)=>{e=e.toLowerCase();for(const t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1})(Ai,x.headers)&&c.applyChecksum&&(x.headers[Ai]=z);const Z=Du(x,o,r),$=yield c.getSignature(b,M,c.getSigningKey(f,m,R,a),c.createCanonicalRequest(x,Z,z));return x.headers[Nu]=`${vi} Credential=${f.accessKeyId}/${M}, SignedHeaders=${Uu(Z)}, Signature=${$}`,x})()}createCanonicalRequest(n,t,r){const o=Object.keys(t).sort();return`${n.method}\n${this.getCanonicalPath(n)}\n${(({query:e={}})=>{const n=[],t={};for(const r of Object.keys(e).sort()){if(r.toLowerCase()===Bm)continue;n.push(r);const o=e[r];"string"==typeof o?t[r]=`${dn(r)}=${dn(o)}`:Array.isArray(o)&&(t[r]=o.slice(0).reduce((s,a)=>s.concat([`${dn(r)}=${dn(a)}`]),[]).sort().join("&"))}return n.map(r=>t[r]).filter(r=>r).join("&")})(n)}\n${o.map(s=>`${s}:${t[s]}`).join("\n")}\n\n${o.join(";")}\n${r}`}createStringToSign(n,t,r){var o=this;return(0,h.A)(function*(){const s=new o.sha256;s.update(lr(r));const a=yield s.digest();return`${vi}\n${n}\n${t}\n${pt(a)}`})()}getCanonicalPath({path:n}){if(this.uriEscapePath){const t=[];for(const s of n.split("/"))0!==s?.length&&"."!==s&&(".."===s?t.pop():t.push(s));const r=`${n?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&n?.endsWith("/")?"/":""}`;return dn(r).replace(/%2F/g,"/")}return n}getSignature(n,t,r,o){var s=this;return(0,h.A)(function*(){const a=yield s.createStringToSign(n,t,o),c=new s.sha256(yield r);return c.update(lr(a)),pt(yield c.digest())})()}getSigningKey(n,t,r,o){return Um(this.sha256,n,r,t,o||this.service)}validateResolvedCredentials(n){if("object"!=typeof n||"string"!=typeof n.accessKeyId||"string"!=typeof n.secretAccessKey)throw new Error("Resolved credential object is not valid")}}const Lo=e=>{const n=(e=>(e=>"number"==typeof e?new Date(1e3*e):"string"==typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e)(e).toISOString().replace(/\.\d{3}Z$/,"Z"))(e).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},Uu=e=>Object.keys(e).sort().join(";"),Ii="X-Amz-S3session-Token",Bi=Ii.toLowerCase();class eh extends Ti{signWithCredentials(n,t,r){var o=this;return(0,h.A)(function*(){const s=ju(t);n.headers[Bi]=t.sessionToken;const a=o;return zu(a,s),a.signRequest(n,r??{})})()}presignWithCredentials(n,t,r){var o=this;return(0,h.A)(function*(){const s=ju(t);return delete n.headers[Bi],n.headers[Ii]=t.sessionToken,n.query=n.query??{},n.query[Ii]=t.sessionToken,zu(o,s),o.presign(n,r)})()}}function ju(e){return{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,expiration:e.expiration}}function zu(e,n){const t=setTimeout(()=>{throw new Error("SignatureV4S3Express credential override was created but not called.")},10),r=e.credentialProvider;e.credentialProvider=()=>(clearTimeout(t),e.credentialProvider=r,Promise.resolve(n))}const th=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){if(t.endpointV2){const s=t.endpointV2,a="sigv4-s3express"===s.properties?.authSchemes?.[0]?.name;if(("S3Express"===s.properties?.backend||"Directory"===s.properties?.bucketType)&&(t.isS3ExpressBucket=!0),a){const f=o.input.Bucket;if(f){const m=yield e.s3ExpressIdentityProvider.getS3ExpressIdentity(yield e.credentials(),{Bucket:f});t.s3ExpressIdentity=m,Te.isInstance(o.request)&&m.sessionToken&&(o.request.headers[Bi]=m.sessionToken)}}}return n(o)});return function(o){return r.apply(this,arguments)}}(),nh={name:"s3ExpressMiddleware",step:"build",tags:["S3","S3_EXPRESS"],override:!0},sh=(e,n)=>(t,r)=>function(){var o=(0,h.A)(function*(s){const a=e.httpAuthSchemeProvider(yield n.httpAuthSchemeParametersProvider(e,r,s.input)),c=function oh(e){const n=new Map;for(const t of e)n.set(t.schemeId,t);return n}(e.httpAuthSchemes),f=ur(r),m=[];for(const x of a){const b=c.get(x.schemeId);if(!b){m.push(`HttpAuthScheme \`${x.schemeId}\` was not enabled for this service.`);continue}const R=b.identityProvider(yield n.identityProviderConfigProvider(e));if(!R){m.push(`HttpAuthScheme \`${x.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:M={},signingProperties:z={}}=x.propertiesExtractor?.(e,r)||{};x.identityProperties=Object.assign(x.identityProperties||{},M),x.signingProperties=Object.assign(x.signingProperties||{},z),f.selectedHttpAuthScheme={httpAuthOption:x,identity:yield R(x.identityProperties),signer:b.signer};break}if(!f.selectedHttpAuthScheme)throw new Error(m.join("\n"));return t(s)});return function(s){return o.apply(this,arguments)}}(),ih=function(){var e=(0,h.A)(function*(n){const t=n?.Bucket||"";if("string"==typeof n.Bucket&&(n.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),dh(t)){if(!0===n.ForcePathStyle)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!lh(t)||-1!==t.indexOf(".")&&!String(n.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(n.ForcePathStyle=!0);return n.DisableMultiRegionAccessPoints&&(n.disableMultiRegionAccessPoints=!0,n.DisableMRAP=!0),n});return function(t){return e.apply(this,arguments)}}(),ah=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,ch=/(\d+\.){3}\d+/,uh=/\.\./,lh=e=>ah.test(e)&&!ch.test(e)&&!uh.test(e),dh=e=>{const[n,t,r,,,o]=e.split(":"),s="arn"===n&&e.split(":").length>=6,a=!!(s&&t&&r&&o);if(s&&!a)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return a},fh=(e,n,t)=>{const r=function(){var o=(0,h.A)(function*(){const s=t[e]??t[n];return"function"==typeof s?s():s});return function(){return o.apply(this,arguments)}}();return"credentialScope"===e||"CredentialScope"===n?(0,h.A)(function*(){const o="function"==typeof t.credentials?yield t.credentials():t.credentials;return o?.credentialScope??o?.CredentialScope}):"accountId"===e||"AccountId"===n?(0,h.A)(function*(){const o="function"==typeof t.credentials?yield t.credentials():t.credentials;return o?.accountId??o?.AccountId}):"endpoint"===e||"endpoint"===n?(0,h.A)(function*(){const o=yield r();if(o&&"object"==typeof o){if("url"in o)return o.url.href;if("hostname"in o){const{protocol:s,hostname:a,port:c,path:f}=o;return`${s}//${a}${c?":"+c:""}${f}`}}return o}):r},_h=function(){var e=(0,h.A)(function*(n){});return function(t){return e.apply(this,arguments)}}(),Go=e=>{if("string"==typeof e)return Go(new URL(e));const{hostname:n,pathname:t,port:r,protocol:o,search:s}=e;let a;return s&&(a=function ph(e){const n={};if(e=e.replace(/^\?/,""))for(const t of e.split("&")){let[r,o=null]=t.split("=");r=decodeURIComponent(r),o&&(o=decodeURIComponent(o)),r in n?Array.isArray(n[r])?n[r].push(o):n[r]=[n[r],o]:n[r]=o}return n}(s)),{hostname:n,port:r?parseInt(r):void 0,protocol:o,path:t,query:a}},$u=e=>"object"==typeof e?"url"in e?Go(e.url):e:Go(e),mh=function(){var e=(0,h.A)(function*(n,t,r,o){if(!r.endpoint){const c=yield _h(r.serviceId||"");c&&(r.endpoint=()=>Promise.resolve($u(c)))}const s=yield Hu(n,t,r);if("function"!=typeof r.endpointProvider)throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,o)});return function(t,r,o,s){return e.apply(this,arguments)}}(),Hu=function(){var e=(0,h.A)(function*(n,t,r){const o={},s=t?.getEndpointParameterInstructions?.()||{};for(const[a,c]of Object.entries(s))switch(c.type){case"staticContextParams":o[a]=c.value;break;case"contextParams":o[a]=n[c.name];break;case"clientContextParams":case"builtInParams":o[a]=yield fh(c.name,a,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(c))}return 0===Object.keys(s).length&&Object.assign(o,r),"s3"===String(r.serviceId).toLowerCase()&&(yield ih(o)),o});return function(t,r,o){return e.apply(this,arguments)}}(),hh=({config:e,instructions:n})=>(t,r)=>function(){var o=(0,h.A)(function*(s){const a=yield mh(s.input,{getEndpointParameterInstructions:()=>n},{...e},r);r.endpointV2=a,r.authSchemes=a.properties?.authSchemes;const c=r.authSchemes?.[0];if(c){r.signing_region=c.signingRegion,r.signing_service=c.signingName;const m=ur(r)?.selectedHttpAuthScheme?.httpAuthOption;m&&(m.signingProperties=Object.assign(m.signingProperties||{},{signing_region:c.signingRegion,signingRegion:c.signingRegion,signing_service:c.signingName,signingName:c.signingName,signingRegionSet:c.signingRegionSet},c.properties))}return t({...s})});return function(s){return o.apply(this,arguments)}}(),gh=(e,n)=>t=>function(){var r=(0,h.A)(function*(o){const{response:s}=yield t(o);try{return{response:s,output:yield n(s,e)}}catch(a){throw Object.defineProperty(a,"$response",{value:s}),"$metadata"in a||(a.message+="\n  Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.",typeof a.$responseBodyText<"u"&&a.$response&&(a.$response.body=a.$responseBodyText)),a}});return function(o){return r.apply(this,arguments)}}(),yh=(e,n)=>(t,r)=>function(){var o=(0,h.A)(function*(s){const a=r.endpointV2?.url&&e.urlParser?(0,h.A)(function*(){return e.urlParser(r.endpointV2.url)}):e.endpoint;if(!a)throw new Error("No valid endpoint provider available.");const c=yield n(s.input,{...e,endpoint:a});return t({...s,request:c})});return function(s){return o.apply(this,arguments)}}(),xh={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Ni={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Uo(e,n,t){return{applyToStack:r=>{r.add(gh(e,t),xh),r.add(yh(e,n),Ni)}}}const Vu={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Ni.name},jo=(e,n)=>({applyToStack:t=>{t.addRelativeTo(hh({config:e,instructions:n}),Vu)}}),Ch={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Vu.name},Ah=e=>n=>{throw n},vh=(e,n)=>{},wh=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){if(!Te.isInstance(o.request))return n(o);const a=ur(t).selectedHttpAuthScheme;if(!a)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:c={}},identity:f,signer:m}=a,x=yield n({...o,request:yield m.sign(o.request,f,c)}).catch((m.errorHandler||Ah)(c));return(m.successHandler||vh)(x.response,c),x});return function(o){return r.apply(this,arguments)}}();var Rn=function(e){return e.STANDARD="standard",e.ADAPTIVE="adaptive",e}(Rn||{});const qu=Rn.STANDARD,Rh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],Th=["TimeoutError","RequestTimeout","RequestTimeoutException"],Ih=[500,502,503,504],Bh=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],zo=e=>429===e.$metadata?.httpStatusCode||Rh.includes(e.name)||1==e.$retryable?.throttling,Oi=e=>(e=>e.$metadata?.clockSkewCorrected)(e)||Th.includes(e.name)||Bh.includes(e?.code||"")||Ih.includes(e.$metadata?.httpStatusCode||0);class Ku{constructor(n){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=n?.beta??.7,this.minCapacity=n?.minCapacity??1,this.minFillRate=n?.minFillRate??.5,this.scaleConstant=n?.scaleConstant??.4,this.smooth=n?.smooth??.8;const t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}getSendToken(){var n=this;return(0,h.A)(function*(){return n.acquireTokenBucket(1)})()}acquireTokenBucket(n){var t=this;return(0,h.A)(function*(){if(t.enabled){if(t.refillTokenBucket(),n>t.currentCapacity){const r=(n-t.currentCapacity)/t.fillRate*1e3;yield new Promise(o=>setTimeout(o,r))}t.currentCapacity=t.currentCapacity-n}})()}refillTokenBucket(){const n=this.getCurrentTimeInSeconds();this.lastTimestamp?(this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+(n-this.lastTimestamp)*this.fillRate),this.lastTimestamp=n):this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),zo(n)){const o=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=o,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(o),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());const r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const n=this.getCurrentTimeInSeconds(),t=Math.floor(2*n)/2;this.requestCount++,t>this.lastTxRateBucket&&(this.measuredTxRate=this.getPrecise(this.requestCount/(t-this.lastTxRateBucket)*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t)}getPrecise(n){return parseFloat(n.toFixed(8))}}const el=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(2e4,e),getRetryCost:()=>t});class Di{constructor(n){this.maxAttempts=n,this.mode=Rn.STANDARD,this.capacity=500,this.retryBackoffStrategy=(()=>{let e=100;return{computeNextBackoffDelay:r=>Math.floor(Math.min(2e4,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}})(),this.maxAttemptsProvider="function"==typeof n?n:(0,h.A)(function*(){return n})}acquireInitialRetryToken(n){return(0,h.A)(function*(){return el({retryDelay:100,retryCount:0})})()}refreshRetryTokenForRetry(n,t){var r=this;return(0,h.A)(function*(){const o=yield r.getMaxAttempts();if(r.shouldRetry(n,t,o)){const s=t.errorType;r.retryBackoffStrategy.setDelayBase("THROTTLING"===s?500:100);const a=r.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),c=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,a):a,f=r.getCapacityCost(s);return r.capacity-=f,el({retryDelay:c,retryCount:n.getRetryCount()+1,retryCost:f})}throw new Error("No retry token available")})()}recordSuccess(n){this.capacity=Math.max(500,this.capacity+(n.getRetryCost()??1))}getCapacity(){return this.capacity}getMaxAttempts(){var n=this;return(0,h.A)(function*(){try{return yield n.maxAttemptsProvider()}catch{return console.warn("Max attempts provider could not resolve. Using default of 3"),3}})()}shouldRetry(n,t,r){return n.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return"TRANSIENT"===n?10:5}isRetryableError(n){return"THROTTLING"===n||"TRANSIENT"===n}}class Fh{constructor(n,t){this.maxAttemptsProvider=n,this.mode=Rn.ADAPTIVE;const{rateLimiter:r}=t??{};this.rateLimiter=r??new Ku,this.standardRetryStrategy=new Di(n)}acquireInitialRetryToken(n){var t=this;return(0,h.A)(function*(){return yield t.rateLimiter.getSendToken(),t.standardRetryStrategy.acquireInitialRetryToken(n)})()}refreshRetryTokenForRetry(n,t){var r=this;return(0,h.A)(function*(){return r.rateLimiter.updateClientSendingRate(t),r.standardRetryStrategy.refreshRetryTokenForRetry(n,t)})()}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}}const tl={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $o;const Lh=new Uint8Array(16);function Gh(){if(!$o&&($o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $o(Lh)}const tt=[];for(let e=0;e<256;++e)tt.push((e+256).toString(16).slice(1));const rl=function Uh(e,n,t){if(tl.randomUUID&&!n&&!e)return tl.randomUUID();const r=(e=e||{}).random||(e.rng||Gh)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0;for(let o=0;o<16;++o)n[t+o]=r[o];return n}return function nl(e,n=0){return tt[e[n+0]]+tt[e[n+1]]+tt[e[n+2]]+tt[e[n+3]]+"-"+tt[e[n+4]]+tt[e[n+5]]+"-"+tt[e[n+6]]+tt[e[n+7]]+"-"+tt[e[n+8]]+tt[e[n+9]]+"-"+tt[e[n+10]]+tt[e[n+11]]+tt[e[n+12]]+tt[e[n+13]]+tt[e[n+14]]+tt[e[n+15]]}(r)},ol=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):"string"==typeof e?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),qh=e=>{const{retryStrategy:n}=e,t=fn(e.maxAttempts??3);return{...e,maxAttempts:t,retryStrategy:(r=(0,h.A)(function*(){return n||((yield fn(e.retryMode)())===Rn.ADAPTIVE?new Fh(t):new Di(t))}),function(){return r.apply(this,arguments)})};var r},Qh=e=>e?.body instanceof ReadableStream,Jh=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){let s=yield e.retryStrategy();const a=yield e.maxAttempts();if(!Zh(s))return s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(n,o);{let c=yield s.acquireInitialRetryToken(t.partition_id),f=new Error,m=0,x=0;const{request:b}=o,R=Te.isInstance(b);for(R&&(b.headers["amz-sdk-invocation-id"]=rl());;)try{R&&(b.headers["amz-sdk-request"]=`attempt=${m+1}; max=${a}`);const{response:M,output:z}=yield n(o);return s.recordSuccess(c),z.$metadata.attempts=m+1,z.$metadata.totalRetryDelay=x,{response:M,output:z}}catch(M){const z=eg(M);if(f=ol(M),R&&Qh(b))throw(t.logger instanceof ni?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),f;try{c=yield s.refreshRetryTokenForRetry(c,z)}catch{throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=m+1,f.$metadata.totalRetryDelay=x,f}m=c.getRetryCount();const Z=c.getRetryDelay();x+=Z,yield new Promise($=>setTimeout($,Z))}}});return function(o){return r.apply(this,arguments)}}(),Zh=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",eg=e=>{const n={error:e,errorType:tg(e)},t=rg(e.$response);return t&&(n.retryAfterHint=t),n},tg=e=>zo(e)?"THROTTLING":Oi(e)?"TRANSIENT":(e=>{if(void 0!==e.$metadata?.httpStatusCode){const n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!Oi(e)}return!1})(e)?"SERVER_ERROR":"CLIENT_ERROR",al={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},rg=e=>{if(!En.isInstance(e))return;const n=Object.keys(e.headers).find(s=>"retry-after"===s.toLowerCase());if(!n)return;const t=e.headers[n],r=Number(t);return Number.isNaN(r)?new Date(t):new Date(1e3*r)},cl={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:al.name};class sg{constructor(n){this.authSchemes=new Map;for(const[t,r]of Object.entries(n))void 0!==r&&this.authSchemes.set(t,r)}getIdentityProvider(n){return this.authSchemes.get(n)}}const ig=n=>ul(n)&&n.expiration.getTime()-Date.now()<3e5,ul=e=>void 0!==e.expiration,ag=(e,n,t)=>{if(void 0===e)return;const r="function"!=typeof e?(0,h.A)(function*(){return Promise.resolve(e)}):e;let o,s,a,c=!1;const f=function(){var m=(0,h.A)(function*(x){s||(s=r(x));try{o=yield s,a=!0,c=!1}finally{s=void 0}return o});return function(b){return m.apply(this,arguments)}}();return void 0===n?function(){var m=(0,h.A)(function*(x){return(!a||x?.forceRefresh)&&(o=yield f(x)),o});return function(x){return m.apply(this,arguments)}}():function(){var m=(0,h.A)(function*(x){return(!a||x?.forceRefresh)&&(o=yield f(x)),c?o:t(o)?(n(o)&&(yield f(x)),o):(c=!0,o)});return function(x){return m.apply(this,arguments)}}()},ao=e=>{if("function"==typeof e)return e;const n=Promise.resolve(e);return()=>n};function Ho(e,n){return new cg(e,n)}class cg{constructor(n,t){this.input=n,this.context=t,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}build(){var n=this;return(0,h.A)(function*(){const{hostname:t,protocol:r="https",port:o,path:s}=yield n.context.endpoint();n.path=s;for(const a of n.resolvePathStack)a(n.path);return new Te({protocol:r,hostname:n.hostname||t,port:o,method:n.method,path:n.path,query:n.query,body:n.body,headers:n.headers})})()}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,r,o){return this.resolvePathStack.push(s=>{this.path=((e,n,t,r,o,s)=>{if(null==n||void 0===n[t])throw new Error("No value provided for input HTTP label: "+t+".");{const a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(o,s?a.split("/").map(c=>Ru(c)).join("/"):Ru(a))}return e})(s,this.input,n,t,r,o)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}function ll(e,n){this.v=e,this.k=n}function pr(e){return function(){return new co(e.apply(this,arguments))}}function co(e){var n,t;function r(s,a){try{var c=e[s](a),f=c.value,m=f instanceof ll;Promise.resolve(m?f.v:f).then(function(x){if(m){var b="return"===s?"return":"next";if(!f.k||x.done)return r(b,x);x=e[b](x).value}o(c.done?"return":"normal",x)},function(x){r("throw",x)})}catch(x){o("throw",x)}}function o(s,a){switch(s){case"return":n.resolve({value:a,done:!0});break;case"throw":n.reject(a);break;default:n.resolve({value:a,done:!1})}(n=n.next)?r(n.key,n.arg):t=null}this._invoke=function(s,a){return new Promise(function(c,f){var m={key:s,arg:a,resolve:c,reject:f,next:null};t?t=t.next=m:(n=t=m,r(s,a))})},"function"!=typeof e.return&&(this.return=void 0)}co.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},co.prototype.next=function(e){return this._invoke("next",e)},co.prototype.throw=function(e){return this._invoke("throw",e)},co.prototype.return=function(e){return this._invoke("return",e)};const dg=function(){var e=(0,h.A)(function*(n,t,r,o){const s=yield o.signWithCredentials(r,n,{});if(s.headers["X-Amz-Security-Token"]||s.headers["x-amz-security-token"])throw new Error("X-Amz-Security-Token must not be set for s3-express requests.");return s});return function(t,r,o,s){return e.apply(this,arguments)}}(),fg=e=>n=>{throw n},_g=(e,n)=>{},pg=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){if(!Te.isInstance(o.request))return n(o);const a=ur(t).selectedHttpAuthScheme;if(!a)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:c={}},identity:f,signer:m}=a;let x;x=t.s3ExpressIdentity?yield dg(t.s3ExpressIdentity,c,o.request,yield e.signer()):yield m.sign(o.request,f,c);const b=yield n({...o,request:x}).catch((m.errorHandler||fg)(c));return(m.successHandler||_g)(b.response,c),b});return function(o){return r.apply(this,arguments)}}(),hg=(e,{session:n})=>{const[t,r]=n;return{...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,followRegionRedirects:e.followRegionRedirects??!1,s3ExpressIdentityProvider:e.s3ExpressIdentityProvider??new vm(function(){var o=(0,h.A)(function*(s){return t().send(new r({Bucket:s,SessionMode:"ReadWrite"}))});return function(s){return o.apply(this,arguments)}}()),bucketEndpoint:e.bucketEndpoint??!1}},gg={CopyObjectCommand:!0,UploadPartCopyCommand:!0,CompleteMultipartUploadCommand:!0},xg=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){const s=yield n(o),{response:a}=s;if(!En.isInstance(a))return s;const{statusCode:c,body:f}=a;if(c<200||c>=300||"function"!=typeof f?.stream&&"function"!=typeof f?.pipe&&"function"!=typeof f?.tee)return s;let x=f,b=f;f&&"object"==typeof f&&!(f instanceof Uint8Array)&&([x,b]=yield function Rp(e){return di.apply(this,arguments)}(f)),a.body=b;const R=yield bg(x,{streamCollector:(z=(0,h.A)(function*(Z){return function Tp(e,n){return fi.apply(this,arguments)}(Z,3e3)}),function($){return z.apply(this,arguments)})});var z;"function"==typeof x?.destroy&&x.destroy();const M=e.utf8Encoder(R.subarray(R.length-16));if(0===R.length&&gg[t.commandName]){const z=new Error("S3 aborted request");throw z.name="InternalError",z}return M&&M.endsWith("</Error>")&&(a.statusCode=400),s});return function(o){return r.apply(this,arguments)}}(),bg=(e=new Uint8Array,n)=>e instanceof Uint8Array?Promise.resolve(e):n.streamCollector(e)||Promise.resolve(new Uint8Array),Cg={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},Fi=e=>({applyToStack:n=>{n.addRelativeTo(xg(e),Cg)}}),Ag={name:"bucketEndpointMiddleware",override:!0,relation:"after",toMiddleware:"endpointV2Middleware"},wg={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},kg=e=>({applyToStack:n=>{n.add(function vg({bucketEndpoint:e}){return n=>function(){var t=(0,h.A)(function*(r){const{input:{Bucket:o}}=r;if(!e&&"string"==typeof o&&!(e=>"string"==typeof e&&0===e.indexOf("arn:")&&e.split(":").length>=6)(o)&&o.indexOf("/")>=0){const s=new Error(`Bucket name shouldn't contain '/', received '${o}'`);throw s.name="InvalidBucketName",s}return n({...r})});return function(r){return t.apply(this,arguments)}}()}(e),wg),n.addRelativeTo(function Eg(e){return(n,t)=>function(){var r=(0,h.A)(function*(o){if(e.bucketEndpoint){const s=t.endpointV2;if(s){const a=o.input.Bucket;if("string"==typeof a)try{const c=new URL(a);s.url=c}catch(c){const f=`@aws-sdk/middleware-sdk-s3: bucketEndpoint=true was set but Bucket=${a} could not be parsed as URL.`;throw"NoOpLogger"===t.logger?.constructor?.name?console.warn(f):t.logger?.warn?.(f),c}}}return n(o)});return function(o){return r.apply(this,arguments)}}()}(e),Ag)}}),Tg=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),dl=e=>Tg.test(e)||e.startsWith("[")&&e.endsWith("]"),Ig=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Li=(e,n=!1)=>{if(!n)return Ig.test(e);const t=e.split(".");for(const r of t)if(!Li(r))return!1;return!0},Vo={},uo="endpoints";function _n(e){return"object"!=typeof e||null==e?e:"ref"in e?`$${_n(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(_n).join(", ")})`:JSON.stringify(e,null,2)}class gt extends Error{constructor(n){super(n),this.name="EndpointError"}}const fl=(e,n)=>(e=>{const n=e.split("."),t=[];for(const r of n){const o=r.indexOf("[");if(-1!==o){if(r.indexOf("]")!==r.length-1)throw new gt(`Path: '${e}' does not end with ']'`);const s=r.slice(o+1,-1);if(Number.isNaN(parseInt(s)))throw new gt(`Invalid array index: '${s}' in path: '${e}'`);0!==o&&t.push(r.slice(0,o)),t.push(s)}else t.push(r)}return t})(n).reduce((t,r)=>{if("object"!=typeof t)throw new gt(`Index '${r}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(r)]:t[r]},e),Gi={[Ro.HTTP]:80,[Ro.HTTPS]:443},Pg={booleanEquals:(e,n)=>e===n,getAttr:fl,isSet:e=>null!=e,isValidHostLabel:Li,not:e=>!e,parseURL:e=>{const n=(()=>{try{if(e instanceof URL)return e;if("object"==typeof e&&"hostname"in e){const{hostname:R,port:M,protocol:z="",path:Z="",query:$={}}=e,ie=new URL(`${z}//${R}${M?`:${M}`:""}${Z}`);return ie.search=Object.entries($).map(([re,ve])=>`${re}=${ve}`).join("&"),ie}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;const t=n.href,{host:r,hostname:o,pathname:s,protocol:a,search:c}=n;if(c)return null;const f=a.slice(0,-1);if(!Object.values(Ro).includes(f))return null;const m=dl(o);return{scheme:f,authority:`${r}${t.includes(`${r}:${Gi[f]}`)||"string"==typeof e&&e.includes(`${r}:${Gi[f]}`)?`:${Gi[f]}`:""}`,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:m}},stringEquals:(e,n)=>e===n,substring:(e,n,t,r)=>n>=t||e.length<t?null:r?e.substring(e.length-t,e.length-n):e.substring(n,t),uriEncode:e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`)},_l=(e,n)=>{const t=[],r={...n.endpointParams,...n.referenceRecord};let o=0;for(;o<e.length;){const s=e.indexOf("{",o);if(-1===s){t.push(e.slice(o));break}t.push(e.slice(o,s));const a=e.indexOf("}",s);if(-1===a){t.push(e.slice(s));break}"{"===e[s+1]&&"}"===e[a+1]&&(t.push(e.slice(s+1,a)),o=a+2);const c=e.substring(s+1,a);if(c.includes("#")){const[f,m]=c.split("#");t.push(fl(r[f],m))}else t.push(r[c]);o=a+1}return t.join("")},qo=(e,n,t)=>{if("string"==typeof e)return _l(e,t);if(e.fn)return pl(e,t);if(e.ref)return(({ref:e},n)=>({...n.endpointParams,...n.referenceRecord}[e]))(e,t);throw new gt(`'${n}': ${String(e)} is not a string, function or reference.`)},pl=({fn:e,argv:n},t)=>{const r=n.map(s=>["boolean","number"].includes(typeof s)?s:qo(s,"arg",t)),o=e.split(".");return o[0]in Vo&&null!=o[1]?Vo[o[0]][o[1]](...r):Pg[e](...r)},Fg=({assign:e,...n},t)=>{if(e&&e in t.referenceRecord)throw new gt(`'${e}' is already defined in Reference Record.`);const r=pl(n,t);return t.logger?.debug?.(`${uo} evaluateCondition: ${_n(n)} = ${_n(r)}`),{result:""===r||!!r,...null!=e&&{toAssign:{name:e,value:r}}}},Ui=(e=[],n)=>{const t={};for(const r of e){const{result:o,toAssign:s}=Fg(r,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!o)return{result:o};s&&(t[s.name]=s.value,n.logger?.debug?.(`${uo} assign: ${s.name} := ${_n(s.value)}`))}return{result:!0,referenceRecord:t}},Lg=(e,n)=>Object.entries(e).reduce((t,[r,o])=>({...t,[r]:o.map(s=>{const a=qo(s,"Header value entry",n);if("string"!=typeof a)throw new gt(`Header '${r}' value '${a}' is not a string`);return a})}),{}),ml=(e,n)=>{if(Array.isArray(e))return e.map(t=>ml(t,n));switch(typeof e){case"string":return _l(e,n);case"object":if(null===e)throw new gt(`Unexpected endpoint property: ${e}`);return hl(e,n);case"boolean":return e;default:throw new gt("Unexpected endpoint property type: "+typeof e)}},hl=(e,n)=>Object.entries(e).reduce((t,[r,o])=>({...t,[r]:ml(o,n)}),{}),Gg=(e,n)=>{const t=qo(e,"Endpoint URL",n);if("string"==typeof t)try{return new URL(t)}catch(r){throw console.error(`Failed to construct URL with ${t}`,r),r}throw new gt("Endpoint URL must be a string, got "+typeof t)},Ug=(e,n)=>{const{conditions:t,endpoint:r}=e,{result:o,referenceRecord:s}=Ui(t,n);if(!o)return;const a={...n,referenceRecord:{...n.referenceRecord,...s}},{url:c,properties:f,headers:m}=r;return n.logger?.debug?.(`${uo} Resolving endpoint from template: ${_n(r)}`),{...null!=m&&{headers:Lg(m,a)},...null!=f&&{properties:hl(f,a)},url:Gg(c,a)}},jg=(e,n)=>{const{conditions:t,error:r}=e,{result:o,referenceRecord:s}=Ui(t,n);if(o)throw new gt(qo(r,"Error",{...n,referenceRecord:{...n.referenceRecord,...s}}))},zg=(e,n)=>{const{conditions:t,rules:r}=e,{result:o,referenceRecord:s}=Ui(t,n);if(o)return gl(r,{...n,referenceRecord:{...n.referenceRecord,...s}})},gl=(e,n)=>{for(const t of e)if("endpoint"===t.type){const r=Ug(t,n);if(r)return r}else if("error"===t.type)jg(t,n);else{if("tree"!==t.type)throw new gt(`Unknown endpoint rule: ${t}`);{const r=zg(t,n);if(r)return r}}throw new gt("Rules evaluation failed")},yl=(e,n=!1)=>{if(n){for(const t of e.split("."))if(!yl(t))return!1;return!0}return!(!Li(e)||e.length<3||e.length>63||e!==e.toLowerCase()||dl(e))};let bl=JSON.parse('{"partitions":[{"id":"aws","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-east-1","name":"aws","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^(us|eu|ap|sa|ca|me|af|il)\\\\-\\\\w+\\\\-\\\\d+$","regions":{"af-south-1":{"description":"Africa (Cape Town)"},"ap-east-1":{"description":"Asia Pacific (Hong Kong)"},"ap-northeast-1":{"description":"Asia Pacific (Tokyo)"},"ap-northeast-2":{"description":"Asia Pacific (Seoul)"},"ap-northeast-3":{"description":"Asia Pacific (Osaka)"},"ap-south-1":{"description":"Asia Pacific (Mumbai)"},"ap-south-2":{"description":"Asia Pacific (Hyderabad)"},"ap-southeast-1":{"description":"Asia Pacific (Singapore)"},"ap-southeast-2":{"description":"Asia Pacific (Sydney)"},"ap-southeast-3":{"description":"Asia Pacific (Jakarta)"},"ap-southeast-4":{"description":"Asia Pacific (Melbourne)"},"aws-global":{"description":"AWS Standard global region"},"ca-central-1":{"description":"Canada (Central)"},"ca-west-1":{"description":"Canada West (Calgary)"},"eu-central-1":{"description":"Europe (Frankfurt)"},"eu-central-2":{"description":"Europe (Zurich)"},"eu-north-1":{"description":"Europe (Stockholm)"},"eu-south-1":{"description":"Europe (Milan)"},"eu-south-2":{"description":"Europe (Spain)"},"eu-west-1":{"description":"Europe (Ireland)"},"eu-west-2":{"description":"Europe (London)"},"eu-west-3":{"description":"Europe (Paris)"},"il-central-1":{"description":"Israel (Tel Aviv)"},"me-central-1":{"description":"Middle East (UAE)"},"me-south-1":{"description":"Middle East (Bahrain)"},"sa-east-1":{"description":"South America (Sao Paulo)"},"us-east-1":{"description":"US East (N. Virginia)"},"us-east-2":{"description":"US East (Ohio)"},"us-west-1":{"description":"US West (N. California)"},"us-west-2":{"description":"US West (Oregon)"}}},{"id":"aws-cn","outputs":{"dnsSuffix":"amazonaws.com.cn","dualStackDnsSuffix":"api.amazonwebservices.com.cn","implicitGlobalRegion":"cn-northwest-1","name":"aws-cn","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^cn\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-cn-global":{"description":"AWS China global region"},"cn-north-1":{"description":"China (Beijing)"},"cn-northwest-1":{"description":"China (Ningxia)"}}},{"id":"aws-us-gov","outputs":{"dnsSuffix":"amazonaws.com","dualStackDnsSuffix":"api.aws","implicitGlobalRegion":"us-gov-west-1","name":"aws-us-gov","supportsDualStack":true,"supportsFIPS":true},"regionRegex":"^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-us-gov-global":{"description":"AWS GovCloud (US) global region"},"us-gov-east-1":{"description":"AWS GovCloud (US-East)"},"us-gov-west-1":{"description":"AWS GovCloud (US-West)"}}},{"id":"aws-iso","outputs":{"dnsSuffix":"c2s.ic.gov","dualStackDnsSuffix":"c2s.ic.gov","implicitGlobalRegion":"us-iso-east-1","name":"aws-iso","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-global":{"description":"AWS ISO (US) global region"},"us-iso-east-1":{"description":"US ISO East"},"us-iso-west-1":{"description":"US ISO WEST"}}},{"id":"aws-iso-b","outputs":{"dnsSuffix":"sc2s.sgov.gov","dualStackDnsSuffix":"sc2s.sgov.gov","implicitGlobalRegion":"us-isob-east-1","name":"aws-iso-b","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$","regions":{"aws-iso-b-global":{"description":"AWS ISOB (US) global region"},"us-isob-east-1":{"description":"US ISOB East (Ohio)"}}},{"id":"aws-iso-e","outputs":{"dnsSuffix":"cloud.adc-e.uk","dualStackDnsSuffix":"cloud.adc-e.uk","implicitGlobalRegion":"eu-isoe-west-1","name":"aws-iso-e","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^eu\\\\-isoe\\\\-\\\\w+\\\\-\\\\d+$","regions":{"eu-isoe-west-1":{"description":"EU ISOE West"}}},{"id":"aws-iso-f","outputs":{"dnsSuffix":"csp.hci.ic.gov","dualStackDnsSuffix":"csp.hci.ic.gov","implicitGlobalRegion":"us-isof-south-1","name":"aws-iso-f","supportsDualStack":false,"supportsFIPS":true},"regionRegex":"^us\\\\-isof\\\\-\\\\w+\\\\-\\\\d+$","regions":{}}],"version":"1.1"}');const Sl={isVirtualHostableS3Bucket:yl,parseArn:e=>{const n=e.split(":");if(n.length<6)return null;const[t,r,o,s,a,...c]=n;return"arn"!==t||""===r||""===o||""===c.join(":")?null:{partition:r,service:o,region:s,accountId:a,resourceId:c.map(m=>m.split("/")).flat()}},partition:e=>{const{partitions:n}=bl;for(const r of n){const{regions:o,outputs:s}=r;for(const[a,c]of Object.entries(o))if(a===e)return{...s,...c}}for(const r of n){const{regionRegex:o,outputs:s}=r;if(new RegExp(o).test(e))return{...s}}const t=n.find(r=>"aws"===r.id);if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}}};Vo.aws=Sl;const El="user-agent",ji="x-amz-user-agent",Wg=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Yg=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,Qg=e=>(n,t)=>function(){var r=(0,h.A)(function*(o){const{request:s}=o;if(!Te.isInstance(s))return n(o);const{headers:a}=s,c=t?.userAgent?.map($i)||[],f=(yield e.defaultUserAgentProvider()).map($i),m=e?.customUserAgent?.map($i)||[],b=[].concat([...f,...c,...m]).join(" "),R=[...f.filter(M=>M.startsWith("aws-sdk-")),...m].join(" ");return"browser"!==e.runtime?(R&&(a[ji]=a[ji]?`${a[El]} ${R}`:R),a[El]=b):a[ji]=b,n({...o,request:s})});return function(o){return r.apply(this,arguments)}}(),$i=e=>{const n=e[0].split("/").map(a=>a.replace(Wg,"-")).join("/"),t=e[1]?.replace(Yg,"-"),r=n.indexOf("/"),o=n.substring(0,r);let s=n.substring(r+1);return"api"===o&&(s=s.toLowerCase()),[o,s,t].filter(a=>a&&a.length>0).reduce((a,c,f)=>{switch(f){case 0:return c;case 1:return`${a}/${c}`;default:return`${a}#${c}`}},"")},Jg={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},wl=e=>"string"==typeof e&&(e.startsWith("fips-")||e.endsWith("-fips")),kl=e=>wl(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,cy=e=>{const{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return{...e,region:(r=(0,h.A)(function*(){if("string"==typeof n)return kl(n);const o=yield n();return kl(o)}),function(){return r.apply(this,arguments)}),useFipsEndpoint:function(){var r=(0,h.A)(function*(){const o="string"==typeof n?n:yield n();return!!wl(o)||("function"!=typeof t?Promise.resolve(!!t):t())});return function(){return r.apply(this,arguments)}}()};var r},Rl="content-length",dy={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},fy=e=>({applyToStack:n=>{n.add(function ly(e){return n=>function(){var t=(0,h.A)(function*(r){const o=r.request;if(Te.isInstance(o)){const{body:s,headers:a}=o;if(s&&-1===Object.keys(a).map(c=>c.toLowerCase()).indexOf(Rl))try{const c=e(s);o.headers={...o.headers,[Rl]:String(c)}}catch{}}return n({...r,request:o})});return function(r){return t.apply(this,arguments)}}()}(e.bodyLengthChecker),dy)}}),_y=e=>{let n;e.credentials&&(n=ag(e.credentials,ig,ul)),n||(n=e.credentialDefaultProvider?ao(e.credentialDefaultProvider(Object.assign({},e,{parentClientConfig:e}))):function(){var a=(0,h.A)(function*(){throw new Error("`credentials` is missing")});return function(){return a.apply(this,arguments)}}());const{signingEscapePath:t=!0,systemClockOffset:r=e.systemClockOffset||0,sha256:o}=e;let s;return s=e.signer?ao(e.signer):e.regionInfoProvider?()=>ao(e.region)().then(function(){var a=(0,h.A)(function*(c){return[(yield e.regionInfoProvider(c,{useFipsEndpoint:yield e.useFipsEndpoint(),useDualstackEndpoint:yield e.useDualstackEndpoint()}))||{},c]});return function(c){return a.apply(this,arguments)}}()).then(([a,c])=>{const{signingRegion:f,signingService:m}=a;e.signingRegion=e.signingRegion||f||c,e.signingName=e.signingName||m||e.serviceId;const x={...e,credentials:n,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:t};return new(e.signerConstructor||Ti)(x)}):function(){var a=(0,h.A)(function*(c){const m=(c=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:yield ao(e.region)(),properties:{}},c)).signingName;e.signingRegion=e.signingRegion||c.signingRegion,e.signingName=e.signingName||m||e.serviceId;const x={...e,credentials:n,region:e.signingRegion,service:e.signingName,sha256:o,uriEscapePath:t};return new(e.signerConstructor||Ti)(x)});return function(f){return a.apply(this,arguments)}}(),{...e,systemClockOffset:r,signingEscapePath:t,credentials:n,signer:s}};Error;const py=(e,n,t)=>{let r,o,s,a=!1;const c=function(){var f=(0,h.A)(function*(){o||(o=e());try{r=yield o,s=!0,a=!1}finally{o=void 0}return r});return function(){return f.apply(this,arguments)}}();return void 0===n?function(){var f=(0,h.A)(function*(m){return(!s||m?.forceRefresh)&&(r=yield c()),r});return function(m){return f.apply(this,arguments)}}():function(){var f=(0,h.A)(function*(m){return(!s||m?.forceRefresh)&&(r=yield c()),a?r:t&&!t(r)?(a=!0,r):(n(r)&&(yield c()),r)});return function(m){return f.apply(this,arguments)}}()},my=e=>(e.sigv4aSigningRegionSet=ao(e.sigv4aSigningRegionSet),e);class hy{constructor(n){this.sigv4Signer=new eh(n),this.signerOptions=n}sign(n,t={}){var r=this;return(0,h.A)(function*(){if("*"===t.signingRegion){if("node"!==r.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return r.getSigv4aSigner().sign(n,t)}return r.sigv4Signer.sign(n,t)})()}signWithCredentials(n,t,r={}){var o=this;return(0,h.A)(function*(){if("*"===r.signingRegion){if("node"!==o.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return o.getSigv4aSigner().signWithCredentials(n,t,r)}return o.sigv4Signer.signWithCredentials(n,t,r)})()}presign(n,t={}){var r=this;return(0,h.A)(function*(){if("*"===t.signingRegion){if("node"!==r.signerOptions.runtime)throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return r.getSigv4aSigner().presign(n,t)}return r.sigv4Signer.presign(n,t)})()}presignWithCredentials(n,t,r={}){var o=this;return(0,h.A)(function*(){if("*"===r.signingRegion)throw new Error("Method presignWithCredentials is not supported for [signingRegion=*].");return o.sigv4Signer.presignWithCredentials(n,t,r)})()}getSigv4aSigner(){if(!this.sigv4aSigner){let n=null;try{if(n=null,"function"!=typeof n)throw new Error}catch(t){throw t.message=`${t.message}\nPlease check whether you have installed the "@aws-sdk/signature-v4-crt" package explicitly. \nYou must also register the package by calling [require("@aws-sdk/signature-v4-crt");] or an ESM equivalent such as [import "@aws-sdk/signature-v4-crt";]. \nFor more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,t}this.sigv4aSigner=new n({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}}const Hi="required",_="type",y="conditions",B="fn",N="argv",ne="ref",Be="assign",V="url",q="properties",Nl="backend",Pt="authSchemes",yt="disableDoubleEncoding",xt="signingName",Kt="signingRegion",K="headers",Vi="signingRegionSet",Dt=!0,Et="isSet",We="booleanEquals",J="error",Ko="aws.partition",we="stringEquals",Pe="getAttr",rt="name",Xt="substring",Ol="bucketSuffix",Ml="parseURL",Pl="{url#scheme}://{url#authority}/{uri_encoded_bucket}{url#path}",D="endpoint",P="tree",Dl="aws.isVirtualHostableS3Bucket",Xo="{url#scheme}://{Bucket}.{url#authority}{url#path}",Wt="not",Wo="{url#scheme}://{url#authority}{url#path}",Fl="hardwareType",Ll="regionPrefix",Gl="bucketAliasSuffix",qi="outpostId",Tn="isValidHostLabel",Ki="sigv4a",lo="s3-outposts",hr="s3",Ul="{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",jl="https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",zl="https://{Bucket}.s3.{partitionResult#dnsSuffix}",$l="aws.parseArn",Hl="bucketArn",Vl="arnType",Xi="s3-object-lambda",ql="accesspoint",Wi="accessPointName",Kl="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",Xl="mrapPartition",Wl="outpostType",Yl="arnPrefix",Ql="{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",Jl="https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",Zl="https://s3.{partitionResult#dnsSuffix}",gr={[Hi]:!1,[_]:"String"},yr={[Hi]:!0,default:!1,[_]:"Boolean"},fo={[Hi]:!1,[_]:"Boolean"},Ft={[B]:We,[N]:[{[ne]:"Accelerate"},!0]},Ee={[B]:We,[N]:[{[ne]:"UseFIPS"},!0]},Ae={[B]:We,[N]:[{[ne]:"UseDualStack"},!0]},Fe={[B]:Et,[N]:[{[ne]:"Endpoint"}]},ed={[B]:Ko,[N]:[{[ne]:"Region"}],[Be]:"partitionResult"},td={[B]:we,[N]:[{[B]:Pe,[N]:[{[ne]:"partitionResult"},rt]},"aws-cn"]},Qo={[B]:Et,[N]:[{[ne]:"Bucket"}]},ut={[ne]:"Bucket"},lt={[B]:Ml,[N]:[{[ne]:"Endpoint"}],[Be]:"url"},Jo={[B]:We,[N]:[{[B]:Pe,[N]:[{[ne]:"url"},"isIp"]},!0]},nd={[ne]:"url"},rd={[B]:"uriEncode",[N]:[ut],[Be]:"uri_encoded_bucket"},rn={[Nl]:"S3Express",[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:"s3express",[Kt]:"{Region}"}]},se={},od={[B]:Dl,[N]:[ut,!1]},Yi={[J]:"S3Express bucket name is not a valid virtual hostable name.",[_]:J},Zo={[Nl]:"S3Express",[Pt]:[{[yt]:!0,[rt]:"sigv4-s3express",[xt]:"s3express",[Kt]:"{Region}"}]},sd={[B]:Et,[N]:[{[ne]:"UseS3ExpressControlEndpoint"}]},id={[B]:We,[N]:[{[ne]:"UseS3ExpressControlEndpoint"},!0]},ae={[B]:Wt,[N]:[Fe]},ad={[J]:"Unrecognized S3Express bucket name format.",[_]:J},cd={[B]:Wt,[N]:[Qo]},ud={[ne]:Fl},ld={[y]:[ae],[J]:"Expected a endpoint to be specified but no endpoint was found",[_]:J},es={[Pt]:[{[yt]:!0,[rt]:Ki,[xt]:lo,[Vi]:["*"]},{[yt]:!0,[rt]:"sigv4",[xt]:lo,[Kt]:"{Region}"}]},Qi={[B]:We,[N]:[{[ne]:"ForcePathStyle"},!1]},yy={[ne]:"ForcePathStyle"},Le={[B]:We,[N]:[{[ne]:"Accelerate"},!1]},je={[B]:we,[N]:[{[ne]:"Region"},"aws-global"]},Ye={[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:hr,[Kt]:"us-east-1"}]},pe={[B]:Wt,[N]:[je]},Qe={[B]:We,[N]:[{[ne]:"UseGlobalEndpoint"},!0]},dd={[V]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:{[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:hr,[Kt]:"{Region}"}]},[K]:{}},Ge={[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:hr,[Kt]:"{Region}"}]},Je={[B]:We,[N]:[{[ne]:"UseGlobalEndpoint"},!1]},fe={[B]:We,[N]:[{[ne]:"UseDualStack"},!1]},fd={[V]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},le={[B]:We,[N]:[{[ne]:"UseFIPS"},!1]},_d={[V]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},pd={[V]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},Ji={[B]:We,[N]:[{[B]:Pe,[N]:[nd,"isIp"]},!1]},Zi={[V]:Ul,[q]:Ge,[K]:{}},ea={[V]:Xo,[q]:Ge,[K]:{}},md={[D]:ea,[_]:D},ta={[V]:jl,[q]:Ge,[K]:{}},hd={[V]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},ts={[J]:"Invalid region: region was not a valid DNS name.",[_]:J},mt={[ne]:Hl},gd={[ne]:Vl},na={[B]:Pe,[N]:[mt,"service"]},ra={[ne]:Wi},yd={[y]:[Ae],[J]:"S3 Object Lambda does not support Dual-stack",[_]:J},xd={[y]:[Ft],[J]:"S3 Object Lambda does not support S3 Accelerate",[_]:J},bd={[y]:[{[B]:Et,[N]:[{[ne]:"DisableAccessPoints"}]},{[B]:We,[N]:[{[ne]:"DisableAccessPoints"},!0]}],[J]:"Access points are not supported for this operation",[_]:J},oa={[y]:[{[B]:Et,[N]:[{[ne]:"UseArnRegion"}]},{[B]:We,[N]:[{[ne]:"UseArnRegion"},!1]},{[B]:Wt,[N]:[{[B]:we,[N]:[{[B]:Pe,[N]:[mt,"region"]},"{Region}"]}]}],[J]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[_]:J},Cd={[B]:Pe,[N]:[{[ne]:"bucketPartition"},rt]},Sd={[B]:Pe,[N]:[mt,"accountId"]},sa={[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:Xi,[Kt]:"{bucketArn#region}"}]},Ed={[J]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[_]:J},ia={[J]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[_]:J},aa={[J]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[_]:J},ca={[J]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[_]:J},Ad={[J]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[_]:J},vd={[J]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[_]:J},_o={[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:hr,[Kt]:"{bucketArn#region}"}]},wd={[Pt]:[{[yt]:!0,[rt]:Ki,[xt]:lo,[Vi]:["*"]},{[yt]:!0,[rt]:"sigv4",[xt]:lo,[Kt]:"{bucketArn#region}"}]},kd={[B]:$l,[N]:[ut]},Rd={[V]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ge,[K]:{}},Td={[V]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ge,[K]:{}},Id={[V]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ge,[K]:{}},ua={[V]:Ql,[q]:Ge,[K]:{}},Bd={[V]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ge,[K]:{}},Nd={[ne]:"UseObjectLambdaEndpoint"},la={[Pt]:[{[yt]:!0,[rt]:"sigv4",[xt]:Xi,[Kt]:"{Region}"}]},Od={[V]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},Md={[V]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},Pd={[V]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},da={[V]:Wo,[q]:Ge,[K]:{}},Dd={[V]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[q]:Ge,[K]:{}},fa=[{[ne]:"Region"}],xy=[{[ne]:"Endpoint"}],by=[ut],_a=[Ae],ns=[Ft],In=[Fe,lt],Fd=[{[B]:Et,[N]:[{[ne]:"DisableS3ExpressSessionAuth"}]},{[B]:We,[N]:[{[ne]:"DisableS3ExpressSessionAuth"},!0]}],Ld=[Jo],pa=[rd],ma=[od],xr=[Ee],Gd=[{[B]:Xt,[N]:[ut,6,14,!0],[Be]:"s3expressAvailabilityZoneId"},{[B]:Xt,[N]:[ut,14,16,!0],[Be]:"s3expressAvailabilityZoneDelim"},{[B]:we,[N]:[{[ne]:"s3expressAvailabilityZoneDelim"},"--"]}],Ud=[{[y]:[Ee],[D]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[q]:rn,[K]:{}},[_]:D},{[D]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[q]:rn,[K]:{}},[_]:D}],jd=[{[B]:Xt,[N]:[ut,6,15,!0],[Be]:"s3expressAvailabilityZoneId"},{[B]:Xt,[N]:[ut,15,17,!0],[Be]:"s3expressAvailabilityZoneDelim"},{[B]:we,[N]:[{[ne]:"s3expressAvailabilityZoneDelim"},"--"]}],zd=[{[y]:[Ee],[D]:{[V]:"https://{Bucket}.s3express-fips-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[q]:Zo,[K]:{}},[_]:D},{[D]:{[V]:"https://{Bucket}.s3express-{s3expressAvailabilityZoneId}.{Region}.amazonaws.com",[q]:Zo,[K]:{}},[_]:D}],Cy=[Qo],$d=[{[B]:Tn,[N]:[{[ne]:qi},!1]}],Hd=[{[B]:we,[N]:[{[ne]:Ll},"beta"]}],pn=[ed],Vd=[{[B]:Tn,[N]:[{[ne]:"Region"},!1]}],mn=[{[B]:we,[N]:[{[ne]:"Region"},"us-east-1"]}],ha=[{[B]:we,[N]:[gd,ql]}],qd=[{[B]:Pe,[N]:[mt,"resourceId[1]"],[Be]:Wi},{[B]:Wt,[N]:[{[B]:we,[N]:[ra,""]}]}],Ey=[mt,"resourceId[1]"],ga=[{[B]:Wt,[N]:[{[B]:we,[N]:[{[B]:Pe,[N]:[mt,"region"]},""]}]}],Kd=[{[B]:Wt,[N]:[{[B]:Et,[N]:[{[B]:Pe,[N]:[mt,"resourceId[2]"]}]}]}],Ay=[mt,"resourceId[2]"],ya=[{[B]:Ko,[N]:[{[B]:Pe,[N]:[mt,"region"]}],[Be]:"bucketPartition"}],Xd=[{[B]:we,[N]:[Cd,{[B]:Pe,[N]:[{[ne]:"partitionResult"},rt]}]}],xa=[{[B]:Tn,[N]:[{[B]:Pe,[N]:[mt,"region"]},!0]}],ba=[{[B]:Tn,[N]:[Sd,!1]}],Wd=[{[B]:Tn,[N]:[ra,!1]}],Yd=[{[B]:Tn,[N]:[{[ne]:"Region"},!0]}],vy={version:"1.0",parameters:{Bucket:gr,Region:gr,UseFIPS:yr,UseDualStack:yr,Endpoint:gr,ForcePathStyle:yr,Accelerate:yr,UseGlobalEndpoint:yr,UseObjectLambdaEndpoint:fo,Key:gr,Prefix:gr,CopySource:gr,DisableAccessPoints:fo,DisableMultiRegionAccessPoints:yr,UseArnRegion:fo,UseS3ExpressControlEndpoint:fo,DisableS3ExpressSessionAuth:fo},rules:[{[y]:[{[B]:Et,[N]:fa}],rules:[{[y]:[Ft,Ee],error:"Accelerate cannot be used with FIPS",[_]:J},{[y]:[Ae,Fe],error:"Cannot set dual-stack in combination with a custom endpoint.",[_]:J},{[y]:[Fe,Ee],error:"A custom endpoint cannot be combined with FIPS",[_]:J},{[y]:[Fe,Ft],error:"A custom endpoint cannot be combined with S3 Accelerate",[_]:J},{[y]:[Ee,ed,td],error:"Partition does not support FIPS",[_]:J},{[y]:[Qo,{[B]:Xt,[N]:[ut,0,6,Dt],[Be]:Ol},{[B]:we,[N]:[{[ne]:Ol},"--x-s3"]}],rules:[{[y]:_a,error:"S3Express does not support Dual-stack.",[_]:J},{[y]:ns,error:"S3Express does not support S3 Accelerate.",[_]:J},{[y]:In,rules:[{[y]:Fd,rules:[{[y]:Ld,rules:[{[y]:pa,rules:[{endpoint:{[V]:Pl,[q]:rn,[K]:se},[_]:D}],[_]:P}],[_]:P},{[y]:ma,rules:[{endpoint:{[V]:Xo,[q]:rn,[K]:se},[_]:D}],[_]:P},Yi],[_]:P},{[y]:Ld,rules:[{[y]:pa,rules:[{endpoint:{[V]:Pl,[q]:Zo,[K]:se},[_]:D}],[_]:P}],[_]:P},{[y]:ma,rules:[{endpoint:{[V]:Xo,[q]:Zo,[K]:se},[_]:D}],[_]:P},Yi],[_]:P},{[y]:[sd,id],rules:[{[y]:[rd,ae],rules:[{[y]:xr,endpoint:{[V]:"https://s3express-control-fips.{Region}.amazonaws.com/{uri_encoded_bucket}",[q]:rn,[K]:se},[_]:D},{endpoint:{[V]:"https://s3express-control.{Region}.amazonaws.com/{uri_encoded_bucket}",[q]:rn,[K]:se},[_]:D}],[_]:P}],[_]:P},{[y]:ma,rules:[{[y]:Fd,rules:[{[y]:Gd,rules:Ud,[_]:P},{[y]:jd,rules:Ud,[_]:P},ad],[_]:P},{[y]:Gd,rules:zd,[_]:P},{[y]:jd,rules:zd,[_]:P},ad],[_]:P},Yi],[_]:P},{[y]:[cd,sd,id],rules:[{[y]:In,endpoint:{[V]:Wo,[q]:rn,[K]:se},[_]:D},{[y]:xr,endpoint:{[V]:"https://s3express-control-fips.{Region}.amazonaws.com",[q]:rn,[K]:se},[_]:D},{endpoint:{[V]:"https://s3express-control.{Region}.amazonaws.com",[q]:rn,[K]:se},[_]:D}],[_]:P},{[y]:[Qo,{[B]:Xt,[N]:[ut,49,50,Dt],[Be]:Fl},{[B]:Xt,[N]:[ut,8,12,Dt],[Be]:Ll},{[B]:Xt,[N]:[ut,0,7,Dt],[Be]:Gl},{[B]:Xt,[N]:[ut,32,49,Dt],[Be]:qi},{[B]:Ko,[N]:fa,[Be]:"regionPartition"},{[B]:we,[N]:[{[ne]:Gl},"--op-s3"]}],rules:[{[y]:$d,rules:[{[y]:[{[B]:we,[N]:[ud,"e"]}],rules:[{[y]:Hd,rules:[ld,{[y]:In,endpoint:{[V]:"https://{Bucket}.ec2.{url#authority}",[q]:es,[K]:se},[_]:D}],[_]:P},{endpoint:{[V]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[q]:es,[K]:se},[_]:D}],[_]:P},{[y]:[{[B]:we,[N]:[ud,"o"]}],rules:[{[y]:Hd,rules:[ld,{[y]:In,endpoint:{[V]:"https://{Bucket}.op-{outpostId}.{url#authority}",[q]:es,[K]:se},[_]:D}],[_]:P},{endpoint:{[V]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[q]:es,[K]:se},[_]:D}],[_]:P},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[_]:J}],[_]:P},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[_]:J}],[_]:P},{[y]:Cy,rules:[{[y]:[Fe,{[B]:Wt,[N]:[{[B]:Et,[N]:[{[B]:Ml,[N]:xy}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[_]:J},{[y]:[Qi,od],rules:[{[y]:pn,rules:[{[y]:Vd,rules:[{[y]:[Ft,td],error:"S3 Accelerate cannot be used in this region",[_]:J},{[y]:[Ae,Ee,Le,ae,je],endpoint:{[V]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ae,Ee,Le,ae,pe,Qe],rules:[{endpoint:dd,[_]:D}],[_]:P},{[y]:[Ae,Ee,Le,ae,pe,Je],endpoint:dd,[_]:D},{[y]:[fe,Ee,Le,ae,je],endpoint:{[V]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[fe,Ee,Le,ae,pe,Qe],rules:[{endpoint:fd,[_]:D}],[_]:P},{[y]:[fe,Ee,Le,ae,pe,Je],endpoint:fd,[_]:D},{[y]:[Ae,le,Ft,ae,je],endpoint:{[V]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ae,le,Ft,ae,pe,Qe],rules:[{endpoint:_d,[_]:D}],[_]:P},{[y]:[Ae,le,Ft,ae,pe,Je],endpoint:_d,[_]:D},{[y]:[Ae,le,Le,ae,je],endpoint:{[V]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ae,le,Le,ae,pe,Qe],rules:[{endpoint:pd,[_]:D}],[_]:P},{[y]:[Ae,le,Le,ae,pe,Je],endpoint:pd,[_]:D},{[y]:[fe,le,Le,Fe,lt,Jo,je],endpoint:{[V]:Ul,[q]:Ye,[K]:se},[_]:D},{[y]:[fe,le,Le,Fe,lt,Ji,je],endpoint:{[V]:Xo,[q]:Ye,[K]:se},[_]:D},{[y]:[fe,le,Le,Fe,lt,Jo,pe,Qe],rules:[{[y]:mn,endpoint:Zi,[_]:D},{endpoint:Zi,[_]:D}],[_]:P},{[y]:[fe,le,Le,Fe,lt,Ji,pe,Qe],rules:[{[y]:mn,endpoint:ea,[_]:D},md],[_]:P},{[y]:[fe,le,Le,Fe,lt,Jo,pe,Je],endpoint:Zi,[_]:D},{[y]:[fe,le,Le,Fe,lt,Ji,pe,Je],endpoint:ea,[_]:D},{[y]:[fe,le,Ft,ae,je],endpoint:{[V]:jl,[q]:Ye,[K]:se},[_]:D},{[y]:[fe,le,Ft,ae,pe,Qe],rules:[{[y]:mn,endpoint:ta,[_]:D},{endpoint:ta,[_]:D}],[_]:P},{[y]:[fe,le,Ft,ae,pe,Je],endpoint:ta,[_]:D},{[y]:[fe,le,Le,ae,je],endpoint:{[V]:zl,[q]:Ye,[K]:se},[_]:D},{[y]:[fe,le,Le,ae,pe,Qe],rules:[{[y]:mn,endpoint:{[V]:zl,[q]:Ge,[K]:se},[_]:D},{endpoint:hd,[_]:D}],[_]:P},{[y]:[fe,le,Le,ae,pe,Je],endpoint:hd,[_]:D}],[_]:P},ts],[_]:P}],[_]:P},{[y]:[Fe,lt,{[B]:we,[N]:[{[B]:Pe,[N]:[nd,"scheme"]},"http"]},{[B]:Dl,[N]:[ut,Dt]},Qi,le,fe,Le],rules:[{[y]:pn,rules:[{[y]:Vd,rules:[md],[_]:P},ts],[_]:P}],[_]:P},{[y]:[Qi,{[B]:$l,[N]:by,[Be]:Hl}],rules:[{[y]:[{[B]:Pe,[N]:[mt,"resourceId[0]"],[Be]:Vl},{[B]:Wt,[N]:[{[B]:we,[N]:[gd,""]}]}],rules:[{[y]:[{[B]:we,[N]:[na,Xi]}],rules:[{[y]:ha,rules:[{[y]:qd,rules:[yd,xd,{[y]:ga,rules:[bd,{[y]:Kd,rules:[oa,{[y]:ya,rules:[{[y]:pn,rules:[{[y]:Xd,rules:[{[y]:xa,rules:[{[y]:[{[B]:we,[N]:[Sd,""]}],error:"Invalid ARN: Missing account id",[_]:J},{[y]:ba,rules:[{[y]:Wd,rules:[{[y]:In,endpoint:{[V]:Kl,[q]:sa,[K]:se},[_]:D},{[y]:xr,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:sa,[K]:se},[_]:D},{endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:sa,[K]:se},[_]:D}],[_]:P},Ed],[_]:P},ia],[_]:P},aa],[_]:P},ca],[_]:P}],[_]:P}],[_]:P},Ad],[_]:P},{error:"Invalid ARN: bucket ARN is missing a region",[_]:J}],[_]:P},vd],[_]:P},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[_]:J}],[_]:P},{[y]:ha,rules:[{[y]:qd,rules:[{[y]:ga,rules:[{[y]:ha,rules:[{[y]:ga,rules:[bd,{[y]:Kd,rules:[oa,{[y]:ya,rules:[{[y]:pn,rules:[{[y]:[{[B]:we,[N]:[Cd,"{partitionResult#name}"]}],rules:[{[y]:xa,rules:[{[y]:[{[B]:we,[N]:[na,hr]}],rules:[{[y]:ba,rules:[{[y]:Wd,rules:[{[y]:ns,error:"Access Points do not support S3 Accelerate",[_]:J},{[y]:[Ee,Ae],endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:_o,[K]:se},[_]:D},{[y]:[Ee,fe],endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:_o,[K]:se},[_]:D},{[y]:[le,Ae],endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:_o,[K]:se},[_]:D},{[y]:[le,fe,Fe,lt],endpoint:{[V]:Kl,[q]:_o,[K]:se},[_]:D},{[y]:[le,fe],endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:_o,[K]:se},[_]:D}],[_]:P},Ed],[_]:P},ia],[_]:P},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[_]:J}],[_]:P},aa],[_]:P},ca],[_]:P}],[_]:P}],[_]:P},Ad],[_]:P}],[_]:P}],[_]:P},{[y]:[{[B]:Tn,[N]:[ra,Dt]}],rules:[{[y]:_a,error:"S3 MRAP does not support dual-stack",[_]:J},{[y]:xr,error:"S3 MRAP does not support FIPS",[_]:J},{[y]:ns,error:"S3 MRAP does not support S3 Accelerate",[_]:J},{[y]:[{[B]:We,[N]:[{[ne]:"DisableMultiRegionAccessPoints"},Dt]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[_]:J},{[y]:[{[B]:Ko,[N]:fa,[Be]:Xl}],rules:[{[y]:[{[B]:we,[N]:[{[B]:Pe,[N]:[{[ne]:Xl},rt]},{[B]:Pe,[N]:[mt,"partition"]}]}],rules:[{endpoint:{[V]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[q]:{[Pt]:[{[yt]:Dt,name:Ki,[xt]:hr,[Vi]:["*"]}]},[K]:se},[_]:D}],[_]:P},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[_]:J}],[_]:P}],[_]:P},{error:"Invalid Access Point Name",[_]:J}],[_]:P},vd],[_]:P},{[y]:[{[B]:we,[N]:[na,lo]}],rules:[{[y]:_a,error:"S3 Outposts does not support Dual-stack",[_]:J},{[y]:xr,error:"S3 Outposts does not support FIPS",[_]:J},{[y]:ns,error:"S3 Outposts does not support S3 Accelerate",[_]:J},{[y]:[{[B]:Et,[N]:[{[B]:Pe,[N]:[mt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[_]:J},{[y]:[{[B]:Pe,[N]:Ey,[Be]:qi}],rules:[{[y]:$d,rules:[oa,{[y]:ya,rules:[{[y]:pn,rules:[{[y]:Xd,rules:[{[y]:xa,rules:[{[y]:ba,rules:[{[y]:[{[B]:Pe,[N]:Ay,[Be]:Wl}],rules:[{[y]:[{[B]:Pe,[N]:[mt,"resourceId[3]"],[Be]:Wi}],rules:[{[y]:[{[B]:we,[N]:[{[ne]:Wl},ql]}],rules:[{[y]:In,endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[q]:wd,[K]:se},[_]:D},{endpoint:{[V]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[q]:wd,[K]:se},[_]:D}],[_]:P},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[_]:J}],[_]:P},{error:"Invalid ARN: expected an access point name",[_]:J}],[_]:P},{error:"Invalid ARN: Expected a 4-component resource",[_]:J}],[_]:P},ia],[_]:P},aa],[_]:P},ca],[_]:P}],[_]:P}],[_]:P},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[_]:J}],[_]:P},{error:"Invalid ARN: The Outpost Id was not set",[_]:J}],[_]:P},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[_]:J}],[_]:P},{error:"Invalid ARN: No ARN type specified",[_]:J}],[_]:P},{[y]:[{[B]:Xt,[N]:[ut,0,4,!1],[Be]:Yl},{[B]:we,[N]:[{[ne]:Yl},"arn:"]},{[B]:Wt,[N]:[{[B]:Et,[N]:[kd]}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[_]:J},{[y]:[{[B]:We,[N]:[yy,Dt]},kd],error:"Path-style addressing cannot be used with ARN buckets",[_]:J},{[y]:pa,rules:[{[y]:pn,rules:[{[y]:[Le],rules:[{[y]:[Ae,ae,Ee,je],endpoint:{[V]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ae,ae,Ee,pe,Qe],rules:[{endpoint:Rd,[_]:D}],[_]:P},{[y]:[Ae,ae,Ee,pe,Je],endpoint:Rd,[_]:D},{[y]:[fe,ae,Ee,je],endpoint:{[V]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ye,[K]:se},[_]:D},{[y]:[fe,ae,Ee,pe,Qe],rules:[{endpoint:Td,[_]:D}],[_]:P},{[y]:[fe,ae,Ee,pe,Je],endpoint:Td,[_]:D},{[y]:[Ae,ae,le,je],endpoint:{[V]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ae,ae,le,pe,Qe],rules:[{endpoint:Id,[_]:D}],[_]:P},{[y]:[Ae,ae,le,pe,Je],endpoint:Id,[_]:D},{[y]:[fe,Fe,lt,le,je],endpoint:{[V]:Ql,[q]:Ye,[K]:se},[_]:D},{[y]:[fe,Fe,lt,le,pe,Qe],rules:[{[y]:mn,endpoint:ua,[_]:D},{endpoint:ua,[_]:D}],[_]:P},{[y]:[fe,Fe,lt,le,pe,Je],endpoint:ua,[_]:D},{[y]:[fe,ae,le,je],endpoint:{[V]:Jl,[q]:Ye,[K]:se},[_]:D},{[y]:[fe,ae,le,pe,Qe],rules:[{[y]:mn,endpoint:{[V]:Jl,[q]:Ge,[K]:se},[_]:D},{endpoint:Bd,[_]:D}],[_]:P},{[y]:[fe,ae,le,pe,Je],endpoint:Bd,[_]:D}],[_]:P},{error:"Path-style addressing cannot be used with S3 Accelerate",[_]:J}],[_]:P}],[_]:P}],[_]:P},{[y]:[{[B]:Et,[N]:[Nd]},{[B]:We,[N]:[Nd,Dt]}],rules:[{[y]:pn,rules:[{[y]:Yd,rules:[yd,xd,{[y]:In,endpoint:{[V]:Wo,[q]:la,[K]:se},[_]:D},{[y]:xr,endpoint:{[V]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[q]:la,[K]:se},[_]:D},{endpoint:{[V]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[q]:la,[K]:se},[_]:D}],[_]:P},ts],[_]:P}],[_]:P},{[y]:[cd],rules:[{[y]:pn,rules:[{[y]:Yd,rules:[{[y]:[Ee,Ae,ae,je],endpoint:{[V]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ee,Ae,ae,pe,Qe],rules:[{endpoint:Od,[_]:D}],[_]:P},{[y]:[Ee,Ae,ae,pe,Je],endpoint:Od,[_]:D},{[y]:[Ee,fe,ae,je],endpoint:{[V]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[Ee,fe,ae,pe,Qe],rules:[{endpoint:Md,[_]:D}],[_]:P},{[y]:[Ee,fe,ae,pe,Je],endpoint:Md,[_]:D},{[y]:[le,Ae,ae,je],endpoint:{[V]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[q]:Ye,[K]:se},[_]:D},{[y]:[le,Ae,ae,pe,Qe],rules:[{endpoint:Pd,[_]:D}],[_]:P},{[y]:[le,Ae,ae,pe,Je],endpoint:Pd,[_]:D},{[y]:[le,fe,Fe,lt,je],endpoint:{[V]:Wo,[q]:Ye,[K]:se},[_]:D},{[y]:[le,fe,Fe,lt,pe,Qe],rules:[{[y]:mn,endpoint:da,[_]:D},{endpoint:da,[_]:D}],[_]:P},{[y]:[le,fe,Fe,lt,pe,Je],endpoint:da,[_]:D},{[y]:[le,fe,ae,je],endpoint:{[V]:Zl,[q]:Ye,[K]:se},[_]:D},{[y]:[le,fe,ae,pe,Qe],rules:[{[y]:mn,endpoint:{[V]:Zl,[q]:Ge,[K]:se},[_]:D},{endpoint:Dd,[_]:D}],[_]:P},{[y]:[le,fe,ae,pe,Je],endpoint:Dd,[_]:D}],[_]:P},ts],[_]:P}],[_]:P}],[_]:P},{error:"A region must be set when sending requests to S3.",[_]:J}]},Qd=(e,n={})=>((e,n)=>{const{endpointParams:t,logger:r}=n,{parameters:o,rules:s}=e;n.logger?.debug?.(`${uo} Initial EndpointParams: ${_n(t)}`);const a=Object.entries(o).filter(([,m])=>null!=m.default).map(([m,x])=>[m,x.default]);if(a.length>0)for(const[m,x]of a)t[m]=t[m]??x;const c=Object.entries(o).filter(([,m])=>m.required).map(([m])=>m);for(const m of c)if(null==t[m])throw new gt(`Missing required parameter: '${m}'`);const f=gl(s,{endpointParams:t,logger:r,referenceRecord:{}});if(n.endpointParams?.Endpoint)try{const m=new URL(n.endpointParams.Endpoint),{protocol:x,port:b}=m;f.url.protocol=x,f.url.port=b}catch{}return n.logger?.debug?.(`${uo} Resolved endpoint: ${_n(f)}`),f})(vy,{endpointParams:e,logger:n.logger});Vo.aws=Sl;const wy=(e=function(){var e=(0,h.A)(function*(n,t,r){return{operation:ur(t).operation,region:(yield fn(n.region)())||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()}});return function(t,r,o){return e.apply(this,arguments)}}(),function(){var n=(0,h.A)(function*(t,r,o){if(!o)throw new Error("Could not find `input` for `defaultEndpointRuleSetHttpAuthSchemeParametersProvider`");const s=yield e(t,r,o),a=ur(r)?.commandInstance?.constructor?.getEndpointParameterInstructions;if(!a)throw new Error(`getEndpointParameterInstructions() is not defined on \`${r.commandName}\``);const c=yield Hu(o,{getEndpointParameterInstructions:a},t);return Object.assign(s,c)});return function(t,r,o){return n.apply(this,arguments)}}());var e;function Jd(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function Zd(e){return{schemeId:"aws.auth#sigv4a",signingProperties:{name:"s3",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}const ky=((e,n,t)=>o=>{const a=e(o).properties?.authSchemes;if(!a)return(e=>{const n=[];return n.push(Jd(e)),n.push(Zd(e)),n})(o);const c=[];for(const f of a){const{name:m,properties:x={},...b}=f,R=m.toLowerCase();let M;if(m!==R&&console.warn(`HttpAuthScheme has been normalized with lowercasing: \`${m}\` to \`${R}\``),"sigv4a"===R){M="aws.auth#sigv4a";if(a.find(ie=>{const re=ie.name.toLowerCase();return"sigv4a"!==re&&re.startsWith("sigv4")}))continue}else{if(!R.startsWith("sigv4"))throw new Error(`Unknown HttpAuthScheme found in \`@smithy.rules#endpointRuleSet\`: \`${R}\``);M="aws.auth#sigv4"}const z=t[M];if(!z)throw new Error(`Could not find HttpAuthOption create function for \`${M}\``);const Z=z(o);Z.schemeId=M,Z.signingProperties={...Z.signingProperties||{},...b,...x},c.push(Z)}return c})(Qd,0,{"aws.auth#sigv4":Jd,"aws.auth#sigv4a":Zd}),rs={ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},DisableS3ExpressSessionAuth:{type:"clientContextParams",name:"disableS3ExpressSessionAuth"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class At extends Ci{constructor(n){super(n),Object.setPrototypeOf(this,At.prototype)}}class Ca extends At{constructor(n){super({name:"NoSuchUpload",$fault:"client",...n}),this.name="NoSuchUpload",this.$fault="client",Object.setPrototypeOf(this,Ca.prototype)}}class Sa extends At{constructor(n){super({name:"ObjectNotInActiveTierError",$fault:"client",...n}),this.name="ObjectNotInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,Sa.prototype)}}class Ea extends At{constructor(n){super({name:"BucketAlreadyExists",$fault:"client",...n}),this.name="BucketAlreadyExists",this.$fault="client",Object.setPrototypeOf(this,Ea.prototype)}}class Aa extends At{constructor(n){super({name:"BucketAlreadyOwnedByYou",$fault:"client",...n}),this.name="BucketAlreadyOwnedByYou",this.$fault="client",Object.setPrototypeOf(this,Aa.prototype)}}class va extends At{constructor(n){super({name:"NoSuchBucket",$fault:"client",...n}),this.name="NoSuchBucket",this.$fault="client",Object.setPrototypeOf(this,va.prototype)}}class wa extends At{constructor(n){super({name:"InvalidObjectState",$fault:"client",...n}),this.name="InvalidObjectState",this.$fault="client",Object.setPrototypeOf(this,wa.prototype),this.StorageClass=n.StorageClass,this.AccessTier=n.AccessTier}}class ka extends At{constructor(n){super({name:"NoSuchKey",$fault:"client",...n}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,ka.prototype)}}class Ra extends At{constructor(n){super({name:"NotFound",$fault:"client",...n}),this.name="NotFound",this.$fault="client",Object.setPrototypeOf(this,Ra.prototype)}}const My=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:nn},...e.SessionToken&&{SessionToken:nn}}),Py=e=>({...e,...e.Credentials&&{Credentials:My(e.Credentials)}}),zy=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:nn}}),$y=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:nn}});var Hy=O(6337);const tf=(e,n)=>((e,n)=>_i(e,n).then(t=>n.utf8Encoder(t)))(e,n).then(t=>{if(t.length){const r=new Hy.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(f,m)=>""===m.trim()&&m.includes("\n")?"":void 0});let o;r.addEntity("#xD","\r"),r.addEntity("#10","\n");try{o=r.parse(t,!0)}catch(f){throw f&&"object"==typeof f&&Object.defineProperty(f,"$responseBodyText",{value:t}),f}const s="#text",a=Object.keys(o)[0],c=o[a];return c[s]&&(c[a]=c[s],delete c[s]),wu(c)}return{}}),qy=function(){var e=(0,h.A)(function*(n,t){const r=yield tf(n,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r});return function(t,r){return e.apply(this,arguments)}}();class Ia extends At{constructor(n){super({name:"ObjectAlreadyInActiveTierError",$fault:"client",...n}),this.name="ObjectAlreadyInActiveTierError",this.$fault="client",Object.setPrototypeOf(this,Ia.prototype)}}const Wy=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:nn},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:nn}}),Yy=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:nn},...e.SSEKMSKeyId&&{SSEKMSKeyId:nn},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:nn}}),tx=function(){var e=(0,h.A)(function*(n,t){const r=Ho(n,t),o=Ie({},Lt,{[pv]:n[MA]});r.bp("/"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1);const s=Ie({[lv]:[,""]});return r.m("GET").h(o).q(s).b(void 0),r.build()});return function(t,r){return e.apply(this,arguments)}}(),nx=function(){var e=(0,h.A)(function*(n,t){const r=Ho(n,t),o=Ie({},Lt,{[xv]:n[DE],[Jc]:n[Ic],[fv]:[()=>Lt(n[lf]),()=>n[lf].toString()],[Wc]:n[Ya]});r.bp("/{Key+}"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1),r.p("Key",()=>n.Key,"{Key+}",!0);const s=Ie({[nu]:[,"DeleteObject"],[jf]:[,n[Ue]]});return r.m("DELETE").h(o).q(s).b(void 0),r.build()});return function(t,r){return e.apply(this,arguments)}}(),rx=function(){var e=(0,h.A)(function*(n,t){const r=Ho(n,t),o=Ie({},Lt,{[JA]:n[iE],[ZA]:[()=>Lt(n[gf]),()=>Po(n[gf]).toString()],[ev]:n[aE],[tv]:[()=>Lt(n[yf]),()=>Po(n[yf]).toString()],[rv]:n[aA],[Vs]:n[Ps],[Yf]:n[Rf],[qs]:n[Ds],[Jc]:n[Ic],[Wc]:n[Ya],[_v]:n[SS]});r.bp("/{Key+}"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1),r.p("Key",()=>n.Key,"{Key+}",!0);const s=Ie({[nu]:[,"GetObject"],[ov]:[,n[cA]],[sv]:[,n[uA]],[iv]:[,n[lA]],[av]:[,n[dA]],[cv]:[,n[fA]],[uv]:[()=>void 0!==n.ResponseExpires,()=>Po(n[pA]).toString()],[jf]:[,n[Ue]],[nv]:[()=>void 0!==n.PartNumber,()=>n[zt].toString()]});return r.m("GET").h(o).q(s).b(void 0),r.build()});return function(t,r){return e.apply(this,arguments)}}(),ox=function(){var e=(0,h.A)(function*(n,t){const r=Ho(n,t),o=Ie({},Lt,{[Lf]:n[mf]||"application/octet-stream",[dv]:n[rS],[Mf]:n[df],[Pf]:n[ff],[Df]:n[_f],[Ff]:n[pf],[$c]:[()=>Lt(n[qa]),()=>n[qa].toString()],[WA]:n[ES],[Sv]:n[vt],[Vc]:n[ze],[qc]:n[$e],[Kc]:n[He],[Xc]:n[Ve],[Hc]:[()=>Lt(n[Wa]),()=>Po(n[Wa]).toString()],[mv]:n[KS],[hv]:n[XS],[gv]:n[WS],[yv]:n[YS],[Zc]:n[go],[Xf]:n[be],[Jf]:n[Of],[Vs]:n[Ps],[Yf]:n[Rf],[qs]:n[Ds],[eu]:n[Xr],[Wf]:n[Tf],[xo]:[()=>Lt(n[Gt]),()=>n[Gt].toString()],[Jc]:n[Ic],[Ev]:n[yo],[Kf]:n[bf],[Yc]:[()=>Lt(n[Cc]),()=>(e=>e.toISOString().replace(".000Z","Z"))(n[Cc]).toString()],[qf]:n[bc],[Wc]:n[Ya],...void 0!==n.Metadata&&Object.keys(n.Metadata).reduce((f,m)=>(f[`x-amz-meta-${m.toLowerCase()}`]=n.Metadata[m],f),{})});r.bp("/{Key+}"),r.p("Bucket",()=>n.Bucket,"{Bucket}",!1),r.p("Key",()=>n.Key,"{Key+}",!0);const s=Ie({[nu]:[,"PutObject"]});let a,c;return void 0!==n.Body&&(c=n.Body,a=c),r.m("PUT").h(o).q(s).b(a),r.build()});return function(t,r){return e.apply(this,arguments)}}(),sx=function(){var e=(0,h.A)(function*(n,t){if(200!==n.statusCode&&n.statusCode>=300)return os(n,t);const r=Ie({$metadata:bt(n)}),o=ro((e=>{if(null==e)return;if("object"==typeof e&&!Array.isArray(e))return e;const n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)})(yield tf(n.body,t)),"body");return null!=o[za]&&(r[za]=GC(o[za],t)),r});return function(t,r){return e.apply(this,arguments)}}(),ix=function(){var e=(0,h.A)(function*(n,t){if(204!==n.statusCode&&n.statusCode>=300)return os(n,t);const r=Ie({$metadata:bt(n),[mo]:[()=>void 0!==n.headers[Hs],()=>Io(n.headers[Hs])],[Ue]:[,n.headers[tu]],[kc]:[,n.headers[Qc]]});return yield _i(n.body,t),r});return function(t,r){return e.apply(this,arguments)}}(),ax=function(){var e=(0,h.A)(function*(n,t){if(200!==n.statusCode&&n.statusCode>=300)return os(n,t);const r=Ie({$metadata:bt(n),[mo]:[()=>void 0!==n.headers[Hs],()=>Io(n.headers[Hs])],[lS]:[,n.headers[XA]],[jt]:[,n.headers[$f]],[RA]:[,n.headers[bv]],[Ke]:[()=>void 0!==n.headers[Uf],()=>ro(xi(n.headers[Uf]))],[qa]:[()=>void 0!==n.headers[$c],()=>(e=>mi("string"==typeof e?ar(e):e))(n.headers[$c])],[Ze]:[,n.headers[Gf]],[ze]:[,n.headers[Vc]],[$e]:[,n.headers[qc]],[He]:[,n.headers[Kc]],[Ve]:[,n.headers[Xc]],[GE]:[()=>void 0!==n.headers[Hf],()=>gi(n.headers[Hf])],[Ue]:[,n.headers[tu]],[df]:[,n.headers[Mf]],[ff]:[,n.headers[Pf]],[_f]:[,n.headers[Df]],[pf]:[,n.headers[Ff]],[TS]:[,n.headers[YA]],[mf]:[,n.headers[Lf]],[Wa]:[()=>void 0!==n.headers[Hc],()=>ro(xi(n.headers[Hc]))],[US]:[,n.headers[QA]],[Of]:[,n.headers[Jf]],[go]:[,n.headers[Zc]],[Ps]:[,n.headers[Vs]],[Ds]:[,n.headers[qs]],[Xr]:[,n.headers[eu]],[Gt]:[()=>void 0!==n.headers[xo],()=>Io(n.headers[xo])],[be]:[,n.headers[Xf]],[kc]:[,n.headers[Qc]],[vA]:[,n.headers[Cv]],[Sc]:[()=>void 0!==n.headers[Vf],()=>gi(n.headers[Vf])],[GA]:[()=>void 0!==n.headers[Qf],()=>gi(n.headers[Qf])],[bf]:[,n.headers[Kf]],[Cc]:[()=>void 0!==n.headers[Yc],()=>ro(vu(n.headers[Yc]))],[bc]:[,n.headers[qf]],Metadata:[,Object.keys(n.headers).filter(s=>s.startsWith("x-amz-meta-")).reduce((s,a)=>(s[a.substring(11)]=n.headers[a],s),{})]}),o=n.body;return t.sdkStreamMixin(o),r.Body=o,r});return function(t,r){return e.apply(this,arguments)}}(),cx=function(){var e=(0,h.A)(function*(n,t){if(200!==n.statusCode&&n.statusCode>=300)return os(n,t);const r=Ie({$metadata:bt(n),[jt]:[,n.headers[$f]],[Ze]:[,n.headers[Gf]],[ze]:[,n.headers[Vc]],[$e]:[,n.headers[qc]],[He]:[,n.headers[Kc]],[Ve]:[,n.headers[Xc]],[go]:[,n.headers[Zc]],[Ue]:[,n.headers[tu]],[Ps]:[,n.headers[Vs]],[Ds]:[,n.headers[qs]],[Xr]:[,n.headers[eu]],[Tf]:[,n.headers[Wf]],[Gt]:[()=>void 0!==n.headers[xo],()=>Io(n.headers[xo])],[kc]:[,n.headers[Qc]]});return yield _i(n.body,t),r});return function(t,r){return e.apply(this,arguments)}}(),os=function(){var e=(0,h.A)(function*(n,t){const r={...n,body:yield qy(n.body,t)},o=((e,n)=>void 0!==n?.Error?.Code?n.Error.Code:void 0!==n?.Code?n.Code:404==e.statusCode?"NotFound":void 0)(n,r.body);switch(o){case"NoSuchUpload":case"com.amazonaws.s3#NoSuchUpload":throw yield mx(r,t);case"ObjectNotInActiveTierError":case"com.amazonaws.s3#ObjectNotInActiveTierError":throw yield yx(r,t);case"BucketAlreadyExists":case"com.amazonaws.s3#BucketAlreadyExists":throw yield lx(r,t);case"BucketAlreadyOwnedByYou":case"com.amazonaws.s3#BucketAlreadyOwnedByYou":throw yield dx(r,t);case"NoSuchBucket":case"com.amazonaws.s3#NoSuchBucket":throw yield _x(r,t);case"InvalidObjectState":case"com.amazonaws.s3#InvalidObjectState":throw yield fx(r,t);case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw yield px(r,t);case"NotFound":case"com.amazonaws.s3#NotFound":throw yield hx(r,t);case"ObjectAlreadyInActiveTierError":case"com.amazonaws.s3#ObjectAlreadyInActiveTierError":throw yield gx(r,t);default:return ux({output:n,parsedBody:r.body,errorCode:o})}});return function(t,r){return e.apply(this,arguments)}}(),ux=(e=>({output:n,parsedBody:t,errorCode:r})=>{(({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})=>{const o=(e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}))(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,a=new t({name:n?.code||n?.Code||r||s||"UnknownError",$fault:"client",$metadata:o});throw qt(a,n)})({output:n,parsedBody:t,exceptionCtor:e,errorCode:r})})(At),lx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new Ea({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),dx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new Aa({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),fx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),o=n.body;null!=o[sn]&&(r[sn]=oo(o[sn])),null!=o[be]&&(r[be]=oo(o[be]));const s=new wa({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),_x=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new va({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),px=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new ka({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),mx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new Ca({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),hx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new Ra({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),gx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new Ia({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),yx=function(){var e=(0,h.A)(function*(n,t){const r=Ie({}),s=new Sa({$metadata:bt(n),...r});return qt(s,n.body)});return function(t,r){return e.apply(this,arguments)}}(),GC=(e,n)=>{const t={};return null!=e[Fa]&&(t[Fa]=oo(e[Fa])),null!=e[Bc]&&(t[Bc]=oo(e[Bc])),null!=e[Pc]&&(t[Pc]=oo(e[Pc])),null!=e[jt]&&(t[jt]=ro(vu(e[jt]))),t},bt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Lt=e=>!(null==e||""===e||Object.getOwnPropertyNames(e).includes("length")&&0==e.length||Object.getOwnPropertyNames(e).includes("size")&&0==e.size),rS="ACL",Fa="AccessKeyId",lS="AcceptRanges",sn="AccessTier",lf="BypassGovernanceRetention",Gt="BucketKeyEnabled",za="Credentials",vt="ChecksumAlgorithm",df="CacheControl",ze="ChecksumCRC32",$e="ChecksumCRC32C",ff="ContentDisposition",_f="ContentEncoding",pf="ContentLanguage",qa="ContentLength",SS="ChecksumMode",ES="ContentMD5",TS="ContentRange",He="ChecksumSHA1",Ve="ChecksumSHA256",mf="ContentType",mo="DeleteMarker",Wa="Expires",Ya="ExpectedBucketOwner",US="ExpiresString",Ze="ETag",jt="Expiration",KS="GrantFullControl",XS="GrantRead",WS="GrantReadACP",YS="GrantWriteACP",iE="IfMatch",gf="IfModifiedSince",aE="IfNoneMatch",yf="IfUnmodifiedSince",Ke="LastModified",DE="MFA",GE="MissingMeta",bc="ObjectLockLegalHoldStatus",bf="ObjectLockMode",Cc="ObjectLockRetainUntilDate",Sc="PartsCount",zt="PartNumber",aA="Range",kc="RequestCharged",cA="ResponseCacheControl",uA="ResponseContentDisposition",lA="ResponseContentEncoding",dA="ResponseContentLanguage",fA="ResponseContentType",pA="ResponseExpires",Ic="RequestPayer",vA="ReplicationStatus",RA="Restore",Bc="SecretAccessKey",be="StorageClass",MA="SessionMode",go="ServerSideEncryption",Ps="SSECustomerAlgorithm",Rf="SSECustomerKey",Ds="SSECustomerKeyMD5",Tf="SSEKMSEncryptionContext",Xr="SSEKMSKeyId",Pc="SessionToken",yo="Tagging",GA="TagCount",Ue="VersionId",Of="WebsiteRedirectLocation",XA="accept-ranges",Mf="cache-control",Pf="content-disposition",Df="content-encoding",Ff="content-language",$c="content-length",WA="content-md5",YA="content-range",Lf="content-type",Hc="expires",Gf="etag",QA="expiresstring",JA="if-match",ZA="if-modified-since",ev="if-none-match",tv="if-unmodified-since",Uf="last-modified",nv="partNumber",rv="range",ov="response-cache-control",sv="response-content-disposition",iv="response-content-encoding",av="response-content-language",cv="response-content-type",uv="response-expires",lv="session",jf="versionId",dv="x-amz-acl",fv="x-amz-bypass-governance-retention",Vc="x-amz-checksum-crc32",qc="x-amz-checksum-crc32c",_v="x-amz-checksum-mode",Kc="x-amz-checksum-sha1",Xc="x-amz-checksum-sha256",pv="x-amz-create-session-mode",Hs="x-amz-delete-marker",$f="x-amz-expiration",Wc="x-amz-expected-bucket-owner",mv="x-amz-grant-full-control",hv="x-amz-grant-read",gv="x-amz-grant-read-acp",yv="x-amz-grant-write-acp",xv="x-amz-mfa",Hf="x-amz-missing-meta",Vf="x-amz-mp-parts-count",qf="x-amz-object-lock-legal-hold",Kf="x-amz-object-lock-mode",Yc="x-amz-object-lock-retain-until-date",bv="x-amz-restore",Qc="x-amz-request-charged",Jc="x-amz-request-payer",Cv="x-amz-replication-status",Xf="x-amz-storage-class",Sv="x-amz-sdk-checksum-algorithm",Zc="x-amz-server-side-encryption",eu="x-amz-server-side-encryption-aws-kms-key-id",xo="x-amz-server-side-encryption-bucket-key-enabled",Wf="x-amz-server-side-encryption-context",Vs="x-amz-server-side-encryption-customer-algorithm",Yf="x-amz-server-side-encryption-customer-key",qs="x-amz-server-side-encryption-customer-key-md5",Ev="x-amz-tagging",Qf="x-amz-tagging-count",tu="x-amz-version-id",Jf="x-amz-website-redirect-location",nu="x-id";class Av extends(no.classBuilder().ep({...rs,DisableS3ExpressSessionAuth:{type:"staticContextParams",value:!0},Bucket:{type:"contextParams",name:"Bucket"}}).m(function(n,t,r,o){return[Uo(r,this.serialize,this.deserialize),jo(r,n.getEndpointParameterInstructions()),Fi(r)]}).s("AmazonS3","CreateSession",{}).n("S3Client","CreateSessionCommand").f(void 0,Py).ser(tx).de(sx).build()){}function Zf(e){return"string"==typeof e?0===e.length:0===e.byteLength}var e_={name:"SHA-1"},t_={name:"HMAC",hash:e_},kv=new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]);const Rv={};function yn(){return typeof window<"u"?window:typeof self<"u"?self:Rv}var Tv=function(){function e(n){this.toHash=new Uint8Array(0),void 0!==n&&(this.key=new Promise(function(t,r){yn().crypto.subtle.importKey("raw",n_(n),t_,!1,["sign"]).then(t,r)}),this.key.catch(function(){}))}return e.prototype.update=function(n){if(!Zf(n)){var t=n_(n),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return yn().crypto.subtle.sign(t_,t,n.toHash).then(function(r){return new Uint8Array(r)})}):Zf(this.toHash)?Promise.resolve(kv):Promise.resolve().then(function(){return yn().crypto.subtle.digest(e_,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){this.toHash=new Uint8Array(0)},e}();function n_(e){return"string"==typeof e?(e=>(new TextEncoder).encode(e))(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var Iv=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r_(e){return!(!function Bv(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}(e)||"object"!=typeof e.crypto.subtle)&&function o_(e){return e&&Iv.every(function(n){return"function"==typeof e[n]})}(e.crypto.subtle)}var Ov=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function xn(e){return e instanceof Uint8Array?e:"string"==typeof e?Ov(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function bo(e){return"string"==typeof e?0===e.length:0===e.byteLength}function s_(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}function i_(e){if(!Uint32Array.from){for(var n=new Uint32Array(e.length),t=0;t<e.length;)n[t]=e[t],t+=1;return n}return Uint32Array.from(e)}var Mv=function(){function e(n){if(!r_(yn()))throw new Error("SHA1 not supported");this.hash=new Tv(n)}return e.prototype.update=function(n,t){this.hash.update(xn(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),a_={name:"SHA-256"},c_={name:"HMAC",hash:a_},Pv=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85]),Dv=function(){function e(n){this.toHash=new Uint8Array(0),this.secret=n,this.reset()}return e.prototype.update=function(n){if(!bo(n)){var t=xn(n),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var n=this;return this.key?this.key.then(function(t){return yn().crypto.subtle.sign(c_,t,n.toHash).then(function(r){return new Uint8Array(r)})}):bo(this.toHash)?Promise.resolve(Pv):Promise.resolve().then(function(){return yn().crypto.subtle.digest(a_,n.toHash)}).then(function(t){return Promise.resolve(new Uint8Array(t))})},e.prototype.reset=function(){var n=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise(function(t,r){yn().crypto.subtle.importKey("raw",xn(n.secret),c_,!1,["sign"]).then(t,r)}),this.key.catch(function(){}))},e}(),bn=O(1635),Lv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gv=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Uv=Math.pow(2,53)-1,Ks=function(){function e(){this.state=Int32Array.from(Gv),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(n){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,r=n.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>Uv)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=n[t++],r--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var n=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%64>=56){for(var o=this.bufferLength;o<64;o++)t.setUint8(o,0);this.hashBuffer(),this.bufferLength=0}for(o=this.bufferLength;o<56;o++)t.setUint8(o,0);t.setUint32(56,Math.floor(n/4294967296),!0),t.setUint32(60,n),this.hashBuffer(),this.finished=!0}var s=new Uint8Array(32);for(o=0;o<8;o++)s[4*o]=this.state[o]>>>24&255,s[4*o+1]=this.state[o]>>>16&255,s[4*o+2]=this.state[o]>>>8&255,s[4*o+3]=this.state[o]>>>0&255;return s},e.prototype.hashBuffer=function(){for(var t=this.buffer,r=this.state,o=r[0],s=r[1],a=r[2],c=r[3],f=r[4],m=r[5],x=r[6],b=r[7],R=0;R<64;R++){if(R<16)this.temp[R]=(255&t[4*R])<<24|(255&t[4*R+1])<<16|(255&t[4*R+2])<<8|255&t[4*R+3];else{var M=this.temp[R-2];this.temp[R]=(((M>>>17|M<<15)^(M>>>19|M<<13)^M>>>10)+this.temp[R-7]|0)+((((M=this.temp[R-15])>>>7|M<<25)^(M>>>18|M<<14)^M>>>3)+this.temp[R-16]|0)}var $=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&m^~f&x)|0)+(b+(Lv[R]+this.temp[R]|0)|0)|0,ie=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&s^o&a^s&a)|0;b=x,x=m,m=f,f=c+$|0,c=a,a=s,s=o,o=$+ie|0}r[0]+=o,r[1]+=s,r[2]+=a,r[3]+=c,r[4]+=f,r[5]+=m,r[6]+=x,r[7]+=b},e}(),jv=function(){function e(n){this.secret=n,this.hash=new Ks,this.reset()}return e.prototype.update=function(n){if(!bo(n)&&!this.error)try{this.hash.update(xn(n))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,bn.sH)(this,void 0,void 0,function(){return(0,bn.YH)(this,function(n){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Ks,this.secret){this.outer=new Ks;var n=function zv(e){var n=xn(e);if(n.byteLength>64){var t=new Ks;t.update(n),n=t.digest()}var r=new Uint8Array(64);return r.set(n),r}(this.secret),t=new Uint8Array(64);t.set(n);for(var r=0;r<64;r++)n[r]^=54,t[r]^=92;for(this.hash.update(n),this.outer.update(t),r=0;r<n.byteLength;r++)n[r]=0}},e}(),$v=function(){function e(n){this.hash=r_(yn())?new Dv(n):new jv(n)}return e.prototype.update=function(n,t){this.hash.update(xn(n))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}(),Hv=O(3349),u_=O.n(Hv);const Vv=({serviceId:e,clientVersion:n})=>(0,h.A)(function*(){const t=typeof window<"u"&&window?.navigator?.userAgent?u_().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["ua","2.0"],[`os/${t?.os?.name||"other"}`,t?.os?.version],["lang/js"],["md/browser",`${t?.browser?.name??"unknown"}_${t?.browser?.version??"unknown"}`]];return e&&r.push([`api/${e}`,n]),r});var qv=function(){function e(){this.crc32=new Co}return e.prototype.update=function(n){bo(n)||this.crc32.update(xn(n))},e.prototype.digest=function(){return(0,bn.sH)(this,void 0,void 0,function(){return(0,bn.YH)(this,function(n){return[2,s_(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new Co},e}(),Co=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,r;try{for(var o=(0,bn.Ju)(n),s=o.next();!s.done;s=o.next())this.checksum=this.checksum>>>8^Xv[255&(this.checksum^s.value)]}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),Xv=i_([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);class So{constructor(n){if(this.bytes=n,8!==n.byteLength)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>0x8000000000000000||n<-0x8000000000000000)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);const t=new Uint8Array(8);for(let r=7,o=Math.abs(Math.round(n));r>-1&&o>0;r--,o/=256)t[r]=o;return n<0&&l_(t),new So(t)}valueOf(){const n=this.bytes.slice(0),t=128&n[0];return t&&l_(n),parseInt(pt(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}}function l_(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,0===e[n]);n--);}class Wv{constructor(n,t){this.toUtf8=n,this.fromUtf8=t}format(n){const t=[];for(const s of Object.keys(n)){const a=this.fromUtf8(s);t.push(Uint8Array.from([a.byteLength]),a,this.formatHeaderValue(n[s]))}const r=new Uint8Array(t.reduce((s,a)=>s+a.byteLength,0));let o=0;for(const s of t)r.set(s,o),o+=s.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":const t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":const r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":const o=new Uint8Array(9);return o[0]=5,o.set(n.value.bytes,1),o;case"binary":const s=new DataView(new ArrayBuffer(3+n.value.byteLength));s.setUint8(0,6),s.setUint16(1,n.value.byteLength,!1);const a=new Uint8Array(s.buffer);return a.set(n.value,3),a;case"string":const c=this.fromUtf8(n.value),f=new DataView(new ArrayBuffer(3+c.byteLength));f.setUint8(0,7),f.setUint16(1,c.byteLength,!1);const m=new Uint8Array(f.buffer);return m.set(c,3),m;case"timestamp":const x=new Uint8Array(9);return x[0]=8,x.set(So.fromNumber(n.value.valueOf()).bytes,1),x;case"uuid":if(!sw.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);const b=new Uint8Array(17);return b[0]=9,b.set(hu(n.value.replace(/\-/g,"")),1),b}}parse(n){const t={};let r=0;for(;r<n.byteLength;){const o=n.getUint8(r++),s=this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,o));switch(r+=o,n.getUint8(r++)){case 0:t[s]={type:d_,value:!0};break;case 1:t[s]={type:d_,value:!1};break;case 2:t[s]={type:Qv,value:n.getInt8(r++)};break;case 3:t[s]={type:Jv,value:n.getInt16(r,!1)},r+=2;break;case 4:t[s]={type:Zv,value:n.getInt32(r,!1)},r+=4;break;case 5:t[s]={type:ew,value:new So(new Uint8Array(n.buffer,n.byteOffset+r,8))},r+=8;break;case 6:const a=n.getUint16(r,!1);r+=2,t[s]={type:tw,value:new Uint8Array(n.buffer,n.byteOffset+r,a)},r+=a;break;case 7:const c=n.getUint16(r,!1);r+=2,t[s]={type:nw,value:this.toUtf8(new Uint8Array(n.buffer,n.byteOffset+r,c))},r+=c;break;case 8:t[s]={type:rw,value:new Date(new So(new Uint8Array(n.buffer,n.byteOffset+r,8)).valueOf())},r+=8;break;case 9:const f=new Uint8Array(n.buffer,n.byteOffset+r,16);r+=16,t[s]={type:ow,value:`${pt(f.subarray(0,4))}-${pt(f.subarray(4,6))}-${pt(f.subarray(6,8))}-${pt(f.subarray(8,10))}-${pt(f.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return t}}const d_="boolean",Qv="byte",Jv="short",Zv="integer",ew="long",tw="binary",nw="string",rw="timestamp",ow="uuid",sw=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;class cw{constructor(n,t){this.headerMarshaller=new Wv(n,t),this.messageBuffer=[],this.isEndOfStream=!1}feed(n){this.messageBuffer.push(this.decode(n))}endOfStream(){this.isEndOfStream=!0}getMessage(){const n=this.messageBuffer.pop(),t=this.isEndOfStream;return{getMessage:()=>n,isEndOfStream:()=>t}}getAvailableMessages(){const n=this.messageBuffer;this.messageBuffer=[];const t=this.isEndOfStream;return{getMessages:()=>n,isEndOfStream:()=>t}}encode({headers:n,body:t}){const r=this.headerMarshaller.format(n),o=r.byteLength+t.byteLength+16,s=new Uint8Array(o),a=new DataView(s.buffer,s.byteOffset,s.byteLength),c=new Co;return a.setUint32(0,o,!1),a.setUint32(4,r.byteLength,!1),a.setUint32(8,c.update(s.subarray(0,8)).digest(),!1),s.set(r,12),s.set(t,r.byteLength+12),a.setUint32(o-4,c.update(s.subarray(8,o-4)).digest(),!1),s}decode(n){const{headers:t,body:r}=function aw({byteLength:e,byteOffset:n,buffer:t}){if(e<16)throw new Error("Provided message too short to accommodate event stream message overhead");const r=new DataView(t,n,e),o=r.getUint32(0,!1);if(e!==o)throw new Error("Reported message length does not match received message length");const s=r.getUint32(4,!1),a=r.getUint32(8,!1),c=r.getUint32(e-4,!1),f=(new Co).update(new Uint8Array(t,n,8));if(a!==f.digest())throw new Error(`The prelude checksum specified in the message (${a}) does not match the calculated CRC32 checksum (${f.digest()})`);if(f.update(new Uint8Array(t,n+8,e-12)),c!==f.digest())throw new Error(`The message checksum (${f.digest()}) did not match the expected value of ${c}`);return{headers:new DataView(t,n+8+4,s),body:new Uint8Array(t,n+8+4+s,o-s-16)}}(n);return{headers:this.headerMarshaller.parse(t),body:r}}formatHeaders(n){return this.headerMarshaller.format(n)}}function $t(e){return new ll(e,0)}function Xs(e){var n,t,r,o=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new Ws(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ws(e){function n(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var r=t.done;return Promise.resolve(t.value).then(function(o){return{value:o,done:r}})}return(Ws=function(r){this.s=r,this.n=r.next}).prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(r){var o=this.s.return;return void 0===o?Promise.resolve({value:r,done:!0}):n(o.apply(this.s,arguments))},throw:function(r){var o=this.s.return;return void 0===o?Promise.reject(r):n(o.apply(this.s,arguments))}},new Ws(e)}class uw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return pr(function*(){var o,t=!1,r=!1;try{for(var a,s=Xs(n.options.inputStream);t=!(a=yield $t(s.next())).done;t=!1){const c=a.value;yield n.options.decoder.decode(c)}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield $t(s.return()))}finally{if(r)throw o}}})()}}class lw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return pr(function*(){var o,t=!1,r=!1;try{for(var a,s=Xs(n.options.messageStream);t=!(a=yield $t(s.next())).done;t=!1){const c=a.value;yield n.options.encoder.encode(c)}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield $t(s.return()))}finally{if(r)throw o}}n.options.includeEndFrame&&(yield new Uint8Array(0))})()}}class dw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return pr(function*(){var o,t=!1,r=!1;try{for(var a,s=Xs(n.options.messageStream);t=!(a=yield $t(s.next())).done;t=!1){const c=a.value;{const f=yield $t(n.options.deserializer(c));if(void 0===f)continue;yield f}}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield $t(s.return()))}finally{if(r)throw o}}})()}}class fw{constructor(n){this.options=n}[Symbol.asyncIterator](){return this.asyncIterator()}asyncIterator(){var n=this;return pr(function*(){var o,t=!1,r=!1;try{for(var a,s=Xs(n.options.inputStream);t=!(a=yield $t(s.next())).done;t=!1){const c=a.value;yield n.options.serializer(c)}}catch(c){r=!0,o=c}finally{try{t&&null!=s.return&&(yield $t(s.return()))}finally{if(r)throw o}}})()}}function __(e,n){return function(){var t=(0,h.A)(function*(r){const{value:o}=r.headers[":message-type"];if("error"===o){const s=new Error(r.headers[":error-message"].value||"UnknownError");throw s.name=r.headers[":error-code"].value,s}if("exception"===o){const s=r.headers[":exception-type"].value,a={[s]:r},c=yield e(a);if(c.$unknown){const f=new Error(n(r.body));throw f.name=s,f}throw c[s]}if("event"===o){const s={[r.headers[":event-type"].value]:r},a=yield e(s);return a.$unknown?void 0:a}throw Error(`Unrecognizable event type: ${r.headers[":event-type"].value}`)});return function(r){return t.apply(this,arguments)}}()}class pw{constructor({utf8Encoder:n,utf8Decoder:t}){this.eventStreamCodec=new cw(n,t),this.utfEncoder=n}deserialize(n,t){const r=function _w(e){let n=0,t=0,r=null,o=null;const s=c=>{if("number"!=typeof c)throw new Error("Attempted to allocate an event message where size was not a number: "+c);n=c,t=4,r=new Uint8Array(c),new DataView(r.buffer).setUint32(0,c,!1)},a=function(){var c=pr(function*(){const f=e[Symbol.asyncIterator]();for(;;){const{value:m,done:x}=yield $t(f.next());if(x){if(!n)return;if(n!==t)throw new Error("Truncated event message received.");return void(yield r)}const b=m.length;let R=0;for(;R<b;){if(!r){const z=b-R;o||(o=new Uint8Array(4));const Z=Math.min(4-t,z);if(o.set(m.slice(R,R+Z),t),t+=Z,R+=Z,t<4)break;s(new DataView(o.buffer).getUint32(0,!1)),o=null}const M=Math.min(n-t,b-R);r.set(m.slice(R,R+M),t),t+=M,R+=M,n&&n===t&&(yield r,r=null,n=0,t=0)}}});return function(){return c.apply(this,arguments)}}();return{[Symbol.asyncIterator]:a}}(n);return new dw({messageStream:new uw({inputStream:r,decoder:this.eventStreamCodec}),deserializer:__(t,this.utfEncoder)})}serialize(n,t){return new lw({messageStream:new fw({inputStream:n,serializer:t}),encoder:this.eventStreamCodec,includeEndFrame:!0})}}class gw{constructor({utf8Encoder:n,utf8Decoder:t}){this.universalMarshaller=new pw({utf8Decoder:t,utf8Encoder:n})}deserialize(n,t){const r=yw(n)?(e=>({[Symbol.asyncIterator]:pr(function*(){const n=e.getReader();try{for(;;){const{done:t,value:r}=yield $t(n.read());if(t)return;yield r}}finally{n.releaseLock()}})}))(n):n;return this.universalMarshaller.deserialize(r,t)}serialize(n,t){const r=this.universalMarshaller.serialize(n,t);return"function"==typeof ReadableStream?(e=>{const n=e[Symbol.asyncIterator]();return new ReadableStream({pull:t=>(0,h.A)(function*(){const{done:r,value:o}=yield n.next();if(r)return t.close();t.enqueue(o)})()})})(r):r}}const yw=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream,xw=e=>new gw(e),Cw=function(){var e=(0,h.A)(function*(t,r){const o=new t;return yield function bw(e,n,t=1048576){return new Promise((r,o)=>{const s=new FileReader;s.addEventListener("error",o),s.addEventListener("abort",o);const a=e.size;let c=0;function f(){c>=a?r():s.readAsArrayBuffer(e.slice(c,Math.min(a,c+t)))}s.addEventListener("load",m=>{const x=m.target.result;n(new Uint8Array(x)),c+=x.byteLength,f()}),f()})}(r,s=>{o.update(s)}),o.digest()});return function n(t,r){return e.apply(this,arguments)}}(),Sw=e=>()=>Promise.reject(e),Aw=[1732584193,4023233417,2562383102,271733878];class vw{constructor(){this.reset()}update(n){if(function ww(e){return"string"==typeof e?0===e.length:0===e.byteLength}(n))return;if(this.finished)throw new Error("Attempted to update an already finished hash.");const t=function kw(e){return"string"==typeof e?vn(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}(n);let r=0,{byteLength:o}=t;for(this.bytesHashed+=o;o>0;)this.buffer.setUint8(this.bufferLength++,t[r++]),o--,64===this.bufferLength&&(this.hashBuffer(),this.bufferLength=0)}digest(){var n=this;return(0,h.A)(function*(){if(!n.finished){const{buffer:r,bufferLength:o,bytesHashed:s}=n,a=8*s;if(r.setUint8(n.bufferLength++,128),o%64>=56){for(let c=n.bufferLength;c<64;c++)r.setUint8(c,0);n.hashBuffer(),n.bufferLength=0}for(let c=n.bufferLength;c<56;c++)r.setUint8(c,0);r.setUint32(56,a>>>0,!0),r.setUint32(60,Math.floor(a/4294967296),!0),n.hashBuffer(),n.finished=!0}const t=new DataView(new ArrayBuffer(16));for(let r=0;r<4;r++)t.setUint32(4*r,n.state[r],!0);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)})()}hashBuffer(){const{buffer:n,state:t}=this;let r=t[0],o=t[1],s=t[2],a=t[3];r=ot(r,o,s,a,n.getUint32(0,!0),7,3614090360),a=ot(a,r,o,s,n.getUint32(4,!0),12,3905402710),s=ot(s,a,r,o,n.getUint32(8,!0),17,606105819),o=ot(o,s,a,r,n.getUint32(12,!0),22,3250441966),r=ot(r,o,s,a,n.getUint32(16,!0),7,4118548399),a=ot(a,r,o,s,n.getUint32(20,!0),12,1200080426),s=ot(s,a,r,o,n.getUint32(24,!0),17,2821735955),o=ot(o,s,a,r,n.getUint32(28,!0),22,4249261313),r=ot(r,o,s,a,n.getUint32(32,!0),7,1770035416),a=ot(a,r,o,s,n.getUint32(36,!0),12,2336552879),s=ot(s,a,r,o,n.getUint32(40,!0),17,4294925233),o=ot(o,s,a,r,n.getUint32(44,!0),22,2304563134),r=ot(r,o,s,a,n.getUint32(48,!0),7,1804603682),a=ot(a,r,o,s,n.getUint32(52,!0),12,4254626195),s=ot(s,a,r,o,n.getUint32(56,!0),17,2792965006),o=ot(o,s,a,r,n.getUint32(60,!0),22,1236535329),r=st(r,o,s,a,n.getUint32(4,!0),5,4129170786),a=st(a,r,o,s,n.getUint32(24,!0),9,3225465664),s=st(s,a,r,o,n.getUint32(44,!0),14,643717713),o=st(o,s,a,r,n.getUint32(0,!0),20,3921069994),r=st(r,o,s,a,n.getUint32(20,!0),5,3593408605),a=st(a,r,o,s,n.getUint32(40,!0),9,38016083),s=st(s,a,r,o,n.getUint32(60,!0),14,3634488961),o=st(o,s,a,r,n.getUint32(16,!0),20,3889429448),r=st(r,o,s,a,n.getUint32(36,!0),5,568446438),a=st(a,r,o,s,n.getUint32(56,!0),9,3275163606),s=st(s,a,r,o,n.getUint32(12,!0),14,4107603335),o=st(o,s,a,r,n.getUint32(32,!0),20,1163531501),r=st(r,o,s,a,n.getUint32(52,!0),5,2850285829),a=st(a,r,o,s,n.getUint32(8,!0),9,4243563512),s=st(s,a,r,o,n.getUint32(28,!0),14,1735328473),o=st(o,s,a,r,n.getUint32(48,!0),20,2368359562),r=it(r,o,s,a,n.getUint32(20,!0),4,4294588738),a=it(a,r,o,s,n.getUint32(32,!0),11,2272392833),s=it(s,a,r,o,n.getUint32(44,!0),16,1839030562),o=it(o,s,a,r,n.getUint32(56,!0),23,4259657740),r=it(r,o,s,a,n.getUint32(4,!0),4,2763975236),a=it(a,r,o,s,n.getUint32(16,!0),11,1272893353),s=it(s,a,r,o,n.getUint32(28,!0),16,4139469664),o=it(o,s,a,r,n.getUint32(40,!0),23,3200236656),r=it(r,o,s,a,n.getUint32(52,!0),4,681279174),a=it(a,r,o,s,n.getUint32(0,!0),11,3936430074),s=it(s,a,r,o,n.getUint32(12,!0),16,3572445317),o=it(o,s,a,r,n.getUint32(24,!0),23,76029189),r=it(r,o,s,a,n.getUint32(36,!0),4,3654602809),a=it(a,r,o,s,n.getUint32(48,!0),11,3873151461),s=it(s,a,r,o,n.getUint32(60,!0),16,530742520),o=it(o,s,a,r,n.getUint32(8,!0),23,3299628645),r=at(r,o,s,a,n.getUint32(0,!0),6,4096336452),a=at(a,r,o,s,n.getUint32(28,!0),10,1126891415),s=at(s,a,r,o,n.getUint32(56,!0),15,2878612391),o=at(o,s,a,r,n.getUint32(20,!0),21,4237533241),r=at(r,o,s,a,n.getUint32(48,!0),6,1700485571),a=at(a,r,o,s,n.getUint32(12,!0),10,2399980690),s=at(s,a,r,o,n.getUint32(40,!0),15,4293915773),o=at(o,s,a,r,n.getUint32(4,!0),21,2240044497),r=at(r,o,s,a,n.getUint32(32,!0),6,1873313359),a=at(a,r,o,s,n.getUint32(60,!0),10,4264355552),s=at(s,a,r,o,n.getUint32(24,!0),15,2734768916),o=at(o,s,a,r,n.getUint32(52,!0),21,1309151649),r=at(r,o,s,a,n.getUint32(16,!0),6,4149444226),a=at(a,r,o,s,n.getUint32(44,!0),10,3174756917),s=at(s,a,r,o,n.getUint32(8,!0),15,718787259),o=at(o,s,a,r,n.getUint32(36,!0),21,3951481745),t[0]=r+t[0]&4294967295,t[1]=o+t[1]&4294967295,t[2]=s+t[2]&4294967295,t[3]=a+t[3]&4294967295}reset(){this.state=Uint32Array.from(Aw),this.buffer=new DataView(new ArrayBuffer(64)),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}}function Ys(e,n,t,r,o,s){return((n=(n+e&4294967295)+(r+s&4294967295)&4294967295)<<o|n>>>32-o)+t&4294967295}function ot(e,n,t,r,o,s,a){return Ys(n&t|~n&r,e,n,o,s,a)}function st(e,n,t,r,o,s,a){return Ys(n&r|t&~r,e,n,o,s,a)}function it(e,n,t,r,o,s,a){return Ys(n^t^r,e,n,o,s,a)}function at(e,n,t,r,o,s,a){return Ys(t^(n|~r),e,n,o,s,a)}const p_="function"==typeof TextEncoder?new TextEncoder:null,Rw=e=>{if("string"==typeof e){if(p_)return p_.encode(e).byteLength;let n=e.length;for(let t=n-1;t>=0;t--){const r=e.charCodeAt(t);r>127&&r<=2047?n++:r>2047&&r<=65535&&(n+=2),r>=56320&&r<=57343&&t--}return n}if("number"==typeof e.byteLength)return e.byteLength;if("number"==typeof e.size)return e.size;throw new Error(`Body Length computation failed for ${e}`)},ru=e=>new Date(Date.now()+e),m_=e=>En.isInstance(e)?e.headers?.date??e.headers?.Date:void 0,h_=(e,n)=>{const t=Date.parse(e);return((e,n)=>Math.abs(ru(n).getTime()-e)>=3e5)(t,n)?t-Date.now():n},Eo=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},g_=function(){var e=(0,h.A)(function*(n){const t=Eo("context",n.context),r=Eo("config",n.config),o=t.endpointV2?.properties?.authSchemes?.[0],a=yield Eo("signer",r.signer)(o),c=n?.signingRegion,f=n?.signingRegionSet,m=n?.signingName;return{config:r,signer:a,signingRegion:c,signingRegionSet:f,signingName:m}});return function(t){return e.apply(this,arguments)}}();class y_{sign(n,t,r){return(0,h.A)(function*(){if(!Te.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const o=yield g_(r),{config:s,signer:a}=o;let{signingRegion:c,signingName:f}=o;const m=r.context;if(m?.authSchemes?.length){const[b,R]=m.authSchemes;"sigv4a"===b?.name&&"sigv4"===R?.name&&(c=R?.signingRegion??c,f=R?.signingName??f)}return yield a.sign(n,{signingDate:ru(s.systemClockOffset),signingRegion:c,signingService:f})})()}errorHandler(n){return t=>{const r=t.ServerTime??m_(t.$response);if(r){const o=Eo("config",n.config),s=o.systemClockOffset;o.systemClockOffset=h_(r,o.systemClockOffset),o.systemClockOffset!==s&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){const r=m_(n);if(r){const o=Eo("config",t.config);o.systemClockOffset=h_(r,o.systemClockOffset)}}}class Iw extends y_{sign(n,t,r){return(0,h.A)(function*(){if(!Te.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:o,signer:s,signingRegion:a,signingRegionSet:c,signingName:f}=yield g_(r),x=((yield o.sigv4aSigningRegionSet?.())??c??[a]).join(",");return yield s.sign(n,{signingDate:ru(o.systemClockOffset),signingRegion:x,signingService:f})})()}}const Nw=["in-region","cross-region","mobile","standard","legacy"],Pw=e=>{const n=(({defaultsMode:e}={})=>py((0,h.A)(function*(){const n="function"==typeof e?yield e():e;switch(n?.toLowerCase()){case"auto":return Promise.resolve((()=>{const n=(typeof window<"u"&&window?.navigator?.userAgent?u_().parse(window.navigator.userAgent):void 0)?.platform?.type;return"tablet"===n||"mobile"===n})()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(n?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${Nw.join(", ")}, got ${n}`)}})))(e),t=()=>n().then(em),r=(e=>({apiVersion:"2006-03-01",base64Decoder:e?.base64Decoder??ri,base64Encoder:e?.base64Encoder??oi,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Qd,extensions:e?.extensions??[],getAwsChunkedEncodingStream:e?.getAwsChunkedEncodingStream??bp,httpAuthSchemeProvider:e?.httpAuthSchemeProvider??ky,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new y_},{schemeId:"aws.auth#sigv4a",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4a"),signer:new Iw}],logger:e?.logger??new ni,sdkStreamMixin:e?.sdkStreamMixin??kp,serviceId:e?.serviceId??"S3",signerConstructor:e?.signerConstructor??hy,signingEscapePath:e?.signingEscapePath??!1,urlParser:e?.urlParser??Go,useArnRegion:e?.useArnRegion??!1,utf8Decoder:e?.utf8Decoder??vn,utf8Encoder:e?.utf8Encoder??si}))(e);return{...r,...e,runtime:"browser",defaultsMode:n,bodyLengthChecker:e?.bodyLengthChecker??Rw,credentialDefaultProvider:e?.credentialDefaultProvider??(o=>()=>Promise.reject(new Error("Credential is missing"))),defaultUserAgentProvider:e?.defaultUserAgentProvider??Vv({serviceId:r.serviceId,clientVersion:"3.633.0"}),eventStreamSerdeProvider:e?.eventStreamSerdeProvider??xw,maxAttempts:e?.maxAttempts??3,md5:e?.md5??vw,region:e?.region??Sw("Region is missing"),requestHandler:ai.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,h.A)(function*(){return(yield t()).retryMode||qu}),sha1:e?.sha1??Mv,sha256:e?.sha256??$v,streamCollector:e?.streamCollector??pu,streamHasher:e?.streamHasher??Cw,useDualstackEndpoint:e?.useDualstackEndpoint??(()=>Promise.resolve(!1)),useFipsEndpoint:e?.useFipsEndpoint??(()=>Promise.resolve(!1))}},Dw=e=>{let n=function(){var t=(0,h.A)(function*(){if(void 0===e.region)throw new Error("Region is missing from runtimeConfig");const r=e.region;return"string"==typeof r?r:r()});return function(){return t.apply(this,arguments)}}();return{setRegion(t){n=t},region:()=>n}},Fw=e=>({region:e.region()}),Uw=e=>{const n=e.httpAuthSchemes;let t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(o){const s=n.findIndex(a=>a.schemeId===o.schemeId);-1===s?n.push(o):n.splice(s,1,o)},httpAuthSchemes:()=>n,setHttpAuthSchemeProvider(o){t=o},httpAuthSchemeProvider:()=>t,setCredentials(o){r=o},credentials:()=>r}},jw=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()});class $w extends hp{constructor(...[n]){const r=(e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"}))(Pw(n||{})),o=function Rg(e){return{...e,customUserAgent:"string"==typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent}}(r),s=qh(o),f=(e=>{const n=e.tls??!0,{endpoint:t}=e,r=null!=t?(0,h.A)(function*(){return $u(yield fn(t)())}):void 0;return{...e,endpoint:r,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:fn(e.useDualstackEndpoint??!1),useFipsEndpoint:fn(e.useFipsEndpoint??!1)}})(cy(s)),m=(e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)}))(f),x=(e=>{const n=_y(e);return{...my(n)}})(m),R=((e,n)=>{const t={...Dw(e),...sm(e),...X_(e),...Uw(e)};return n.forEach(r=>r.configure(t)),{...e,...Fw(t),...im(t),...W_(t),...jw(t)}})(hg(x,{session:[()=>this,Av]}),n?.extensions||[]);var M;super(R),this.config=R,this.middlewareStack.use((e=>({applyToStack:n=>{n.add(Qg(e),Jg)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(Jh(e),al)}}))(this.config)),this.middlewareStack.use(fy(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(sp(e),ip)}}))(this.config)),this.middlewareStack.use({applyToStack:n=>{n.add(cp(),up)}}),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(_p(e),pp)}}))(this.config)),this.middlewareStack.use(((e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:r=>{r.addRelativeTo(sh(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),Ch)}}))(this.config,{httpAuthSchemeParametersProvider:wy,identityProviderConfigProvider:(M=(0,h.A)(function*(z){return new sg({"aws.auth#sigv4":z.credentials,"aws.auth#sigv4a":z.credentials})}),function(Z){return M.apply(this,arguments)})})),this.middlewareStack.use({applyToStack:n=>{n.addRelativeTo(wh(),cl)}}),this.middlewareStack.use(kg(this.config)),this.middlewareStack.use(op(this.config)),this.middlewareStack.use(bm(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.add(th(e),nh)}}))(this.config)),this.middlewareStack.use((e=>({applyToStack:n=>{n.addRelativeTo(pg(e),cl)}}))(this.config))}destroy(){super.destroy()}}var nt=function(e){return e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256",e}(nt||{});const Vw=nt.MD5,qw=nt.CRC32,ou=[nt.CRC32,nt.CRC32C,nt.SHA1,nt.SHA256],Kw=[nt.CRC32,nt.CRC32C,nt.SHA1,nt.SHA256],su=e=>e===nt.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`,iu=e=>void 0!==e&&"string"!=typeof e&&!ArrayBuffer.isView(e)&&!Fu(e);var Yw=function(){function e(){this.crc32c=new au}return e.prototype.update=function(n){bo(n)||this.crc32c.update(xn(n))},e.prototype.digest=function(){return(0,bn.sH)(this,void 0,void 0,function(){return(0,bn.YH)(this,function(n){return[2,s_(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new au},e}(),au=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(n){var t,r;try{for(var o=(0,bn.Ju)(n),s=o.next();!s.done;s=o.next())this.checksum=this.checksum>>>8^Jw[255&(this.checksum^s.value)]}catch(c){t={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return this},e.prototype.digest=function(){return(4294967295^this.checksum)>>>0},e}(),Jw=i_([0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697]);const x_=(e,n)=>({[nt.MD5]:n.md5,[nt.CRC32]:qv,[nt.CRC32C]:Yw,[nt.SHA1]:n.sha1,[nt.SHA256]:n.sha256}[e]),b_=(e,n)=>{const t=new e;return t.update(lr(n||"")),t.digest()},Zw={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},e1=(e,n)=>(t,r)=>function(){var o=(0,h.A)(function*(s){if(!Te.isInstance(s.request))return t(s);const{request:a}=s,{body:c,headers:f}=a,{base64Encoder:m,streamHasher:x}=e,{input:b,requestChecksumRequired:R,requestAlgorithmMember:M}=n,z=((e,{requestChecksumRequired:n,requestAlgorithmMember:t},r)=>{if(!t||!e[t])return n?r?qw:Vw:void 0;const s=e[t];if(!ou.includes(s))throw new Error(`The checksum algorithm "${s}" is not supported by the client. Select one of ${ou}.`);return s})(b,{requestChecksumRequired:R,requestAlgorithmMember:M},!!r.isS3ExpressBucket);let Z=c,$=f;if(z){const re=su(z),ve=x_(z,e);if(iu(c)){const{getAwsChunkedEncodingStream:_e,bodyLengthChecker:et}=e;Z=_e(c,{base64Encoder:m,bodyLengthChecker:et,checksumLocationName:re,checksumAlgorithmFn:ve,streamHasher:x}),$={...f,"content-encoding":f["content-encoding"]?`${f["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":f["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":re},delete $["content-length"]}else if(!((e,n)=>{const t=e.toLowerCase();for(const r of Object.keys(n))if(t===r.toLowerCase())return!0;return!1})(re,f)){const _e=yield b_(ve,c);$={...f,[re]:m(_e)}}}return yield t({...s,request:{...a,headers:$,body:Z}})});return function(s){return o.apply(this,arguments)}}(),C_=(e=[])=>{const n=[];for(const t of Kw)!e.includes(t)||!ou.includes(t)||n.push(t);return n};function S_(e){return new Blob([e]).stream()}const n1=function(){var e=(0,h.A)(function*(n,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:o}){const s=iu(n)?t(r,n):b_(r,n);return o(yield s)});return function(t,r){return e.apply(this,arguments)}}(),r1=function(){var e=(0,h.A)(function*(n,{config:t,responseAlgorithms:r}){const o=C_(r),{body:s,headers:a}=n;for(const c of o){const f=su(c),m=a[f];if(m){const x=x_(c,t),{streamHasher:b,base64Encoder:R}=t,M=yield n1(s,{streamHasher:b,checksumAlgorithmFn:x,base64Encoder:R});if(M===m)break;throw new Error(`Checksum mismatch: expected "${M}" but received "${m}" in response header "${f}".`)}}});return function(t,r){return e.apply(this,arguments)}}(),o1={name:"flexibleChecksumsResponseMiddleware",toMiddleware:"deserializerMiddleware",relation:"after",tags:["BODY_CHECKSUM"],override:!0},s1=(e,n)=>(t,r)=>function(){var o=(0,h.A)(function*(s){if(!Te.isInstance(s.request))return t(s);const a=s.input,c=yield t(s),f=c.response;let m;const{requestValidationModeMember:x,responseAlgorithms:b}=n;if(x&&"ENABLED"===a[x]){const{clientName:R,commandName:M}=r;if("S3Client"===R&&"GetObjectCommand"===M&&C_(b).every($=>{const ie=su($),re=f.headers[ie];return!re||(e=>{const n=e.lastIndexOf("-");if(-1!==n){const t=e.slice(n+1);if(!t.startsWith("0")){const r=parseInt(t,10);if(!isNaN(r)&&r>=1&&r<=1e4)return!0}}return!1})(re)}))return c;const Z=iu(f.body);Z&&(m=yield e.streamCollector(f.body),f.body=S_(m)),yield r1(c.response,{config:e,responseAlgorithms:b}),Z&&m&&(f.body=S_(m))}return c});return function(s){return o.apply(this,arguments)}}(),E_=(e,n)=>({applyToStack:t=>{t.add(e1(e,n),Zw),t.addRelativeTo(s1(e,n),o1)}}),a1={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},A_=e=>({applyToStack:n=>{n.add(function i1(e){return n=>function(){var t=(0,h.A)(function*(r){const o={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(const a of s){const c=o[a.target];if(c){let f;"string"==typeof c?c1(c,e)?f=e.base64Decoder(c):(f=e.utf8Decoder(c),o[a.target]=e.base64Encoder(f)):(f=ArrayBuffer.isView(c)?new Uint8Array(c.buffer,c.byteOffset,c.byteLength):new Uint8Array(c),o[a.target]=e.base64Encoder(f));const m=new e.md5;m.update(f),o[a.hash]=e.base64Encoder(yield m.digest())}}return n({...r,input:o})});return function(r){return t.apply(this,arguments)}}()}(e),a1)}});function c1(e,n){if(!/^(?:[A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e))return!1;try{return 32===n.base64Decoder(e).length}catch{return!1}}class v_ extends(no.classBuilder().ep({...rs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,o){return[Uo(r,this.serialize,this.deserialize),jo(r,n.getEndpointParameterInstructions()),E_(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}),mm(),Fi(r),A_(r)]}).s("AmazonS3","PutObject",{}).n("S3Client","PutObjectCommand").f(Yy,Wy).ser(ox).de(cx).build()){}class u1 extends(no.classBuilder().ep({...rs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,o){return[Uo(r,this.serialize,this.deserialize),jo(r,n.getEndpointParameterInstructions()),Fi(r)]}).s("AmazonS3","DeleteObject",{}).n("S3Client","DeleteObjectCommand").f(void 0,void 0).ser(nx).de(ix).build()){}class l1 extends(no.classBuilder().ep({...rs,Bucket:{type:"contextParams",name:"Bucket"},Key:{type:"contextParams",name:"Key"}}).m(function(n,t,r,o){return[Uo(r,this.serialize,this.deserialize),jo(r,n.getEndpointParameterInstructions()),E_(r,{input:this.input,requestChecksumRequired:!1,requestValidationModeMember:"ChecksumMode",responseAlgorithms:["CRC32","CRC32C","SHA256","SHA1"]}),A_(r),{applyToStack:n=>{n.addRelativeTo(Cm(),Sm)}}]}).s("AmazonS3","GetObject",{}).n("S3Client","GetObjectCommand").f($y,zy).ser(rx).de(ax).build()){}var cu=O(6648),Js=O(6354);let d1=(()=>{class e{constructor(){this.s3Client=null,this.accessKeyId=ce.c.s3_key,this.secretAccessKey=ce.c.s3_secret,this.bucketS3=ce.c.s3_bucket,this.s3Client=new $w({region:"us-east-1",credentials:{accessKeyId:this.accessKeyId,secretAccessKey:this.secretAccessKey}}),console.log("Instanciado correctamente")}createItem(t,r){if(!this.s3Client)return(0,F.of)();const o=new v_({Bucket:this.bucketS3,Key:r,Body:t});return(0,cu.H)(this.s3Client.send(o)).pipe((0,Js.T)(()=>`https://${this.bucketS3}.s3.amazonaws.com/${r}`))}putObject(t,r,o){if(!this.s3Client)return(0,F.of)(null);const s=new v_({Bucket:t,Key:r,Body:o});return(0,cu.H)(this.s3Client.send(s)).pipe((0,Js.T)(()=>`https://${this.bucketS3}.s3.amazonaws.com/${r}`))}deleteObject(t){if(!this.s3Client)return(0,F.of)(null);const r=new u1({Bucket:this.bucketS3,Key:t});return(0,cu.H)(this.s3Client.send(r)).pipe((0,Js.T)(()=>`https://${this.bucketS3}.s3.amazonaws.com/${t}`))}getObject(t){if(!this.s3Client)return;const r=new l1({Bucket:this.bucketS3,Key:t});return this.s3Client.send(r)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function w_(e){let n;return e.form.forEach(r=>{r.dynamicFields.forEach(s=>{n={...n,[s.data.title]:s.fieldFormControl.value}})}),n}var f1=O(1985),_1=O(8359);class p1 extends _1.yU{constructor(n,t){super()}schedule(n,t=0){return this}}const Zs={setInterval(e,n,...t){const{delegate:r}=Zs;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Zs;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var m1=O(7908);const k_={now:()=>(k_.delegate||Date).now(),delegate:void 0};class Ao{constructor(n,t=Ao.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Ao.now=k_.now;const y1=new class g1 extends Ao{constructor(n,t=Ao.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class h1 extends p1{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const o=this.id,s=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(s,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return Zs.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Zs.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let o,r=!1;try{this.work(n)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,m1.o)(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}});var x1=O(9470);function vo(e=0,n,t=y1){let r=-1;return null!=n&&((0,x1.m)(n)?t=n:r=n),new f1.c(o=>{let s=function b1(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let a=0;return t.schedule(function(){o.closed||(o.next(a++),0<=r?this.schedule(void 0,r):o.complete())},s)})}var C1=O(9437),S1=O(8810);let E1=(()=>{class e{constructor(){this.apiUrl=ce.c.apiUrl+"/servicios",this.http=(0,i.WQX)(de.Qq)}getAll(){return this.http.get(this.apiUrl)}getOne(t){let r=new de.Nl;return r=r.append("id",t),this.http.get(this.apiUrl,{params:r}).pipe((0,Js.T)(o=>{if(0===o.length)throw new Error("User Not Found");return[o[0]]}))}create(t){throw new Error("Method not implemented.")}update(t,r){throw new Error("Method not implemented.")}delete(t){throw new Error("Method not implemented.")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),R_=(()=>{class e{static#e=this.states=[{id:1,title:"Activo"},{id:2,title:"Inactivo"}]}return e})();var cn=O(9969),Mt=function(e){return e.center="dialog-center",e.top="dialog-top",e.bottom="dialog-bottom",e.left="dialog-left",e.right="dialog-right",e}(Mt||{}),Ht=function(e){return e[e.isAlert=1]="isAlert",e[e.isSuccess=2]="isSuccess",e[e.isError=3]="isError",e[e.isLoading=4]="isLoading",e}(Ht||{});function A1(e,n){1&e&&i.nrm(0,"div",12)}function v1(e,n){if(1&e){const t=i.RV6();i.j41(0,"div",13)(1,"button",14),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onSubmit())}),i.EFF(2,"Realizar"),i.k0s(),i.j41(3,"button",15),i.bIt("click",function(){i.eBV(t);const o=i.XpG();return i.Njj(o.onCancel())}),i.EFF(4,"Cancelar"),i.k0s()()}}let w1=(()=>{class e{constructor(t,r){this.elementRef=t,this.iconRegistry=r,this.title="Agregado correctamente",this.description="",this.iconUrl="assets/icons/heroicons/outline/check-badge.svg",this.colorIcon="text-green-700",this.withBackground=!1,this.cdr=(0,i.WQX)(i.gRc),this.position=[Mt.bottom,Mt.right],this.withActions=!0,this.isOpen=!1,this.timer$=vo(100),this.timerClose$=null,this.closeEvent=new i.bkB,this.submitEvent=new i.bkB,this.cancelEvent=new i.bkB}ngOnInit(){console.log("Inicia"),this.notifierFromParent?.subscribe({next:t=>{this.onSubmit()},error:t=>{this.onSubmit()},complete:()=>{this.close()}}),this.timer$.subscribe(t=>{this.isOpen=!0,this.cdr.detectChanges()}),this.timerClose$?.subscribe(t=>{this.isOpen=!1,this.cdr.detectChanges(),this.onSubmit()})}changeState(){this.isOpen=!this.isOpen}onSubmit(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.submitEvent.emit()}close(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.closeEvent.emit()}onCancel(){this.isOpen=!1,this.elementRef.nativeElement.remove(),this.cancelEvent.emit()}static#e=this.\u0275fac=function(r){return new(r||e)(i.rXU(i.aKT),i.rXU(C.it))};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-dialog"]],inputs:{title:"title",description:"description",iconUrl:"iconUrl",colorIcon:"colorIcon",withBackground:"withBackground",notifierFromParent:"notifierFromParent",position:"position",withActions:"withActions",isOpen:"isOpen",timer$:"timer$",timerClose$:"timerClose$"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent",cancelEvent:"cancelEvent"},standalone:!0,features:[i.aNF],decls:14,vars:10,consts:[["class","fixed inset-0 z-20 bg-gray-500 bg-opacity-75 transition-opacity ","aria-hidden","true",4,"ngIf"],[1,"flex","h-full","text-center"],[3,"ngClass"],[1,"px-4","pb-4","pt-5","sm:p-6","sm:pb-4"],[1,"flex","items-center","justify-center"],[1,"mt-3","items-center","w-fit","text-center","sm:mt-0","flex","flex-col","gap-3"],["id","modal-title",1,"items-center","w-full","font-semibold","leading-6","text-foreground","text-xl"],[1,"mx-auto","flex","h-12","flex-shrink-0","items-center","w-full","justify-center","rounded-full"],[3,"src","svgClass"],[1,"mt-2"],[1,"text-sm","text-muted-foreground"],["class"," px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",4,"ngIf"],["aria-hidden","true",1,"fixed","inset-0","z-20","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"px-4","py-3","sm:flex","sm:flex-row-reverse","sm:px-6"],["type","button",1,"inline-flex","w-full","justify-center","rounded-md","bg-red-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-red-500","sm:ml-3","sm:w-auto",3,"click"],["type","button",1,"mt-3","inline-flex","w-full","justify-center","rounded-md","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","sm:mt-0","sm:w-auto",3,"click"]],template:function(r,o){1&r&&(i.DNE(0,A1,1,0,"div",0),i.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),i.EFF(7),i.k0s(),i.j41(8,"div",7),i.nrm(9,"svg-icon",8),i.k0s(),i.j41(10,"div",9)(11,"p",10),i.EFF(12),i.k0s()()()()(),i.DNE(13,v1,5,0,"div",11),i.k0s()()),2&r&&(i.Y8G("ngIf",o.withBackground),i.R7$(),i.Y8G("@openClose",o.isOpen?"open":"closed"),i.R7$(),i.Y8G("ngClass","dialog "+(null==o.position?null:o.position.join(" "))),i.R7$(5),i.SpI("",o.title," "),i.R7$(2),i.HbH(o.colorIcon),i.Y8G("src",o.iconUrl)("svgClass","h-12 w-12"),i.R7$(3),i.JRh(o.description),i.R7$(),i.Y8G("ngIf",o.withActions))},dependencies:[k.MD,k.YU,k.bT,C.DM],styles:[".dialog[_ngcontent-%COMP%]{position:absolute;z-index:20;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));align-items:center;overflow:hidden;border-radius:.5rem;background-color:hsl(var(--background));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.dialog-top[_ngcontent-%COMP%]{top:.75rem}.dialog-center[_ngcontent-%COMP%]{top:50%;left:50%;--tw-translate-x: -50%;--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.dialog-bottom[_ngcontent-%COMP%]{bottom:.75rem}.dialog-left[_ngcontent-%COMP%]{left:.75rem}.dialog-right[_ngcontent-%COMP%]{right:.75rem}"],data:{animation:[(0,cn.hZ)("openClose",[(0,cn.wk)("open",(0,cn.iF)({opacity:1,visibility:"visible"})),(0,cn.wk)("closed",(0,cn.iF)({opacity:0,visibility:"hidden"})),(0,cn.kY)("open => closed",[(0,cn.i0)("0.3s")]),(0,cn.kY)("closed => open",[(0,cn.i0)("0.1s")])])]}})}return e})(),k1=(()=>{class e{constructor(t,r,o){this.resolver=t,this.injector=r,this.document=o,this.onOpen=vo(1e3)}open(t){const o=this.resolver.resolveComponentFactory(w1).create(this.injector),s=o.instance;if(t.typeDialog)switch(t.typeDialog){case Ht.isAlert:s.iconUrl="assets/icons/heroicons/outline/exclamation.svg",s.colorIcon="text-orange-500";break;case Ht.isSuccess:s.iconUrl="assets/icons/heroicons/outline/check-badge.svg",s.colorIcon="text-green-700";break;case Ht.isLoading:s.iconUrl="assets/icons/loading.svg",s.colorIcon="text-primary";break;case Ht.isError:s.iconUrl="assets/icons/heroicons/outline/exclamation.svg",s.colorIcon="text-red-500"}return t.options&&(s.position=t.options.position,s.withActions=t.options.withActions,s.timerClose$=t.options.timeToShow?t.options.timeToShow:null,s.withBackground=t.options.withBackground,s.colorIcon=t.options.colorIcon),t.data&&(s.title=t.data.title,s.description=t.data.description,s.iconUrl=t.data.icon),t.listener&&(s.notifierFromParent=t.listener),s.closeEvent.subscribe(()=>{this.closeDialog()}),s.submitEvent.subscribe(()=>{this.submitDialog()}),s.cancelEvent.subscribe(()=>{}),this.onOpen.subscribe(()=>{o.hostView.detectChanges(),s.isOpen=!0}),this.document.body.appendChild(o.location.nativeElement),o.hostView.detectChanges(),this.dialogNotifier=new w.B,this.dialogNotifier.asObservable()}closeDialog(){this.dialogNotifier?.complete()}submitDialog(){this.dialogNotifier?.next(null),this.closeDialog()}cancelDialog(){this.dialogNotifier?.error(null),this.closeDialog()}static#e=this.\u0275fac=function(r){return new(r||e)(i.KVO(i.OM3),i.KVO(i.zZn),i.KVO(k.qQ))};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function R1(e,n){}let T1=(()=>{class e{constructor(){var r,t=this;this.onShowItem=!1,this.listServices=[],this.listServiceCRM=[],this.states=R_.states,this.listServicesUi=[],this.services=(0,i.WQX)(Se),this.servicesCRM=(0,i.WQX)(E1),this.modalService=(0,i.WQX)(lu),this.s3Service=(0,i.WQX)(d1),this.dialogService=(0,i.WQX)(k1),this.isLoadingListItems=!0,this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:(r=(0,h.A)(function*(o){t.dcWrapper.viewContainerRef.clear(),t.onShowItem=!1;const{id:s,plan:a,description:c,image:f,status:m}=o.value,x=m,b=t.listServicesUi.findIndex(_e=>_e.service_id===s||_e.id===s),R=t.listServicesUi[b],M=t.listServicesUi[b].img_url,z=M.substring(M.lastIndexOf("/")+1),Z=Math.floor(1e3*Math.random()),$=f.name.split("."),ie=`${Z}-${a}`,re=$[$.length-1],ve={typeDialog:Ht.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[Mt.center],withBackground:!0,colorIcon:"text-red-500"}};t.dialogService.open(ve).pipe((0,T.n)(_e=>(0,F.of)(null)),(0,T.n)(_e=>(t.isLoadingListItems=!0,t.s3Service.deleteObject(z))),(0,T.n)(_e=>t.s3Service.createItem(f,ie+"."+re)),(0,T.n)(_e=>t.services.updateService({id:s,service_id:s,servicio_id:a,description:c,status:x,destiny:R.destiny,img_url:_e}))).subscribe({next:_e=>{const tn={..._e,service:t.listServiceCRM.find(uu=>uu.servicio_id==s),status:t.states.find(uu=>uu.id===x)||{id:0,title:""}};t.listServicesUi[b]=tn,ve.typeDialog=Ht.isSuccess,ve.data={title:"Actualizado",description:"El servicio ha sido actualizado correctamente",icon:"assets/icons/heroicons/outline/check-badge.svg"},ve.options={withActions:!1,position:[Mt.top,Mt.right],withBackground:!1,colorIcon:"text-green-700",timeToShow:vo(2e3)},t.dialogService.open(ve)},error:_e=>{console.log({err:_e})},complete:()=>{t.isLoadingListItems=!1}})}),function(s){return r.apply(this,arguments)}),cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:r=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1;const o=this.listServicesUi.findIndex(f=>f.service_id===r||f.id===r),s=this.listServicesUi[o].img_url,a=s.substring(s.lastIndexOf("/")+1),c={typeDialog:Ht.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[Mt.center],withBackground:!0,colorIcon:"text-red-500"}};this.dialogService.open(c).pipe((0,T.n)(f=>(0,F.of)(null)),(0,T.n)(f=>this.s3Service.deleteObject(a)),(0,T.n)(f=>this.services.deleteService(r))).subscribe({next:f=>{c.typeDialog=Ht.isSuccess,c.data={title:"Eliminado",description:"El servicio ha sido eliminado correctamente",icon:"assets/icons/heroicons/outline/check-badge.svg"},c.options={withActions:!1,position:[Mt.top,Mt.right],withBackground:!1,colorIcon:"text-green-700",timeToShow:vo(2e3)},this.dialogService.open(c),this.listServicesUi.splice(o,1)},error:f=>{console.log({err:f})},complete:()=>{console.log({fileName:a})}})}}}ngOnInit(){this.services.getServices().pipe((0,T.n)(t=>(this.listServices=[...t],this.servicesCRM.getAll()))).subscribe({next:t=>{this.listServiceCRM=[...t],this.listServicesUi=this.listServices.map(r=>{const o=this.listServiceCRM.filter(s=>s.servicio_id===r.servicio_id)[0];return{...r,service:o,status:this.states.find(s=>s.id===r.status)||{id:0,title:""}}}),this.isLoadingListItems=!1},error:t=>{},complete:()=>{}})}onDetailService(t){const r=this.dcWrapper.viewContainerRef;r.clear();const o=r.createComponent(ko);o.instance.detailListener=this.detailListener,o.instance.service=t,o.instance.data={items:this.listServiceCRM.map(s=>({id:s.servicio_id,name:s.servicio}))},this.onShowItem=!0}onAddService(){const t={component:ei,data:{title:"Detalles del servicio",description:"Especificaciones necesarias del servicio"},dynamicFields:[{component:q_,data:{title:"Plan",items:this.listServiceCRM.map(o=>({id:o.servicio_id,name:o.servicio}))},fieldFormControl:new S.MJ("")},{component:Zr,data:{placeholder:"Descripcion general del plan",title:"Descripcion"},fieldFormControl:new S.MJ("")},{component:Zr,data:{placeholder:"Destinos que se podran visualizar",title:"Destinos"},fieldFormControl:new S.MJ("")}]},r={component:ei,data:{title:"Imagen",description:"Selecciona la imagen a agregar"},dynamicFields:[{component:K_,data:{title:"Imagen"},fieldFormControl:new S.MJ("")}]};this.modalService.open(V_,{title:"Agregar Plan",size:"sm",forms:[t,r],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:Me.Create,title:"Agregar"}]}).pipe((0,T.n)(o=>this.dialogService.open({typeDialog:Ht.isAlert,data:{title:"Advertencia",description:"Estas seguro de realizar esta accion",icon:"assets/icons/heroicons/outline/exclamation.svg"},options:{withActions:!0,position:[Mt.center],withBackground:!0,colorIcon:"text-red-500"}}).pipe((0,T.n)(a=>(0,F.of)(o)))),(0,T.n)(o=>{this.isLoadingListItems=!0;const s=w_(o),{Plan:a,Descripcion:c,Imagen:f,Destinos:m}=s,x=Math.floor(1e3*Math.random()),b=f.name.split(".");return this.s3Service.createItem(f,`${x}-${a}.`+b[b.length-1]).pipe((0,T.n)(z=>(0,F.of)({servicio_id:a,description:c,destiny:m,img_url:z,status:1})))}),(0,T.n)(o=>this.services.createService(o).pipe((0,T.n)(s=>(0,F.of)(o)),(0,C1.W)(s=>(0,S1.$)({newService:o,err:s}))))).subscribe({next:o=>{this.listServices.push(o),this.listServicesUi.push({...o,service:this.listServiceCRM.filter(s=>s.servicio_id===o.servicio_id)[0],status:this.states.find(s=>s.id===o.status)||{id:0,title:""}})},complete:()=>{this.isLoadingListItems=!1},error:o=>{const s={typeDialog:Ht.isAlert,data:{title:"Error",description:"Ha ocurrido un error al agregar el servicio",icon:"assets/icons/heroicons/outline/x-circle.svg"},options:{withActions:!1,position:[Mt.top,Mt.right],withBackground:!1,colorIcon:"text-red-700",timeToShow:vo(2e3)}};this.dialogService.open(s),o.newService&&this.s3Service.deleteObject(o.newService.img_url.split("/").pop())}})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-service-mobile"]],viewQuery:function(r,o){if(1&r&&i.GBs(v,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[i.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"onAddServiceToggle"],[3,"onSelectService","isLoading","listServices"],["dcWrapper",""]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",0)(2,"app-service-mobile-header",1),i.bIt("onAddServiceToggle",function(){return o.onAddService()}),i.k0s(),i.j41(3,"app-list-service-mobile",2),i.bIt("onSelectService",function(a){return o.onDetailService(a)}),i.k0s()(),i.DNE(4,R1,0,0,"ng-template",3),i.k0s()),2&r&&(i.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),i.R7$(),i.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),i.R7$(2),i.Y8G("isLoading",o.isLoadingListItems)("listServices",o.listServicesUi))},dependencies:[k.MD,u,A,v],encapsulation:2})}return e})(),I1=(()=>{class e{constructor(){this.onAddLinkToggle=new i.bkB}ngOnInit(){}onAddToggle(){this.onAddLinkToggle.emit()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-links-header"]],outputs:{onAddLinkToggle:"onAddLinkToggle"},standalone:!0,features:[i.aNF],decls:12,vars:0,consts:[[1,"mb-4","flex","justify-between"],[1,"inline-block"],[1,"font-semibold","text-foreground"],[1,"space-x-1","text-xs","font-medium","text-muted-foreground"],["href","",1,"hover:text-primary"],[1,"inline-block","space-x-4"],[1,"flex-none","rounded-md","bg-primary","px-4","py-2.5","text-xs","font-medium","text-primary-foreground",3,"click"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"h3",2),i.EFF(3,"Enlaces"),i.k0s(),i.j41(4,"div",3)(5,"a",4),i.EFF(6,"Lista"),i.k0s(),i.j41(7,"span"),i.EFF(8," - Enlaces"),i.k0s()()(),i.j41(9,"div",5)(10,"button",6),i.bIt("click",function(){return o.onAddToggle()}),i.EFF(11," Agregar Enlace "),i.k0s()()())},dependencies:[k.MD],encapsulation:2})}return e})();const B1=["item-list-link",""];let N1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["","item-list-link",""]],inputs:{link:"link"},standalone:!0,features:[i.aNF],attrs:B1,decls:12,vars:4,consts:[[1,"py-3","pl-3","text-start"],[1,"text-sm","text-muted-foreground"],[1,"pr-1"],[1,"py-3","pl-3","text-right"],[1,"p-2","text-sm","text-muted-foreground",3,"ngClass"]],template:function(r,o){1&r&&(i.j41(0,"td",0)(1,"div")(2,"span",1),i.EFF(3),i.k0s()()(),i.j41(4,"td",0)(5,"div",2)(6,"span",1),i.EFF(7),i.k0s()()(),i.j41(8,"td",3)(9,"div",2)(10,"span",4),i.EFF(11),i.k0s()()()),2&r&&(i.R7$(3),i.JRh(o.link.title),i.R7$(4),i.JRh(o.link.subtitle),i.R7$(3),i.Y8G("ngClass",1==o.link.status.id?"border border-green-800 items-end w-fit rounded-md ":"border border-red-800  items-end w-fit rounded-md "),i.R7$(),i.JRh(o.link.status.title))},dependencies:[k.MD,k.YU],encapsulation:2})}return e})();function O1(e,n){if(1&e){const t=i.RV6();i.j41(0,"tr",16),i.bIt("click",function(){const o=i.eBV(t).$implicit,s=i.XpG();return i.Njj(s.onSelectTable(o))}),i.k0s()}2&e&&i.Y8G("link",n.$implicit)}function M1(e,n){1&e&&(i.j41(0,"div",17),i.nrm(1,"svg-icon",18),i.k0s())}let P1=(()=>{class e{constructor(){this.links=[],this.states=[],this.onSelectLink=new i.bkB,this.isLoading=!0}onSelectTable(t){this.onSelectLink.emit(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-list-links"]],inputs:{links:"links",states:"states",isLoading:"isLoading"},outputs:{onSelectLink:"onSelectLink"},standalone:!0,features:[i.aNF],decls:24,vars:2,consts:[[1,"flex-col","rounded-lg","bg-background","px-8","py-8","sm:flex-row"],[1,"border-dashed","border-border"],[1,"w-full","flex","flex-col","p-2","gap-2"],[1,"flex","flex-row","items-center","justify-between","w-full"],[1,"w-1/2"],[1,"flex","flex-row","gap-2"],[1,"w-full"],[1,"text-muted-foreground","text-sm"],["type","text","placeholder","nuevo enlace",1,"w-full","border","border-border","rounded-lg","p-2"],[1,"relative","overflow-x-auto","p-2","h-72","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","overflow-auto","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted"],[1,"w-full","table-auto"],[1,"text-xs","uppercase","text-muted-foreground","sticky","top-0","bg-background"],[1,"py-3","text-left"],[1,"py-3","text-right"],["item-list-link","","class","border-b border-dashed border-border hover:bg-card",3,"link","click",4,"ngFor","ngForOf"],["class","absolute inset-0 flex items-center justify-center bg-slate-800 bg-opacity-50",4,"ngIf"],["item-list-link","",1,"border-b","border-dashed","border-border","hover:bg-card",3,"click","link"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-slate-800","bg-opacity-50"],["src","assets/icons/loading.svg","svgClass","h-12 w-12 text-primary"]],template:function(r,o){1&r&&(i.j41(0,"div",0),i.nrm(1,"hr",1),i.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"label",7),i.EFF(8,"Enlaces"),i.k0s(),i.nrm(9,"input",8),i.k0s()()()()(),i.nrm(10,"hr",1),i.j41(11,"div",9)(12,"table",10)(13,"thead",11)(14,"tr")(15,"th",12),i.EFF(16,"Titulo"),i.k0s(),i.j41(17,"th",12),i.EFF(18,"Subtitulo"),i.k0s(),i.j41(19,"th",13),i.EFF(20,"Status"),i.k0s()()(),i.j41(21,"tbody"),i.DNE(22,O1,1,1,"tr",14),i.k0s()(),i.DNE(23,M1,2,0,"div",15),i.k0s()()),2&r&&(i.R7$(22),i.Y8G("ngForOf",o.links),i.R7$(),i.Y8G("ngIf",o.isLoading))},dependencies:[k.MD,k.Sq,k.bT,N1,C.DM],encapsulation:2})}return e})(),D1=(()=>{class e{constructor(){this.apiMobile=ce.c.apiMobile+"links",this.http=(0,i.WQX)(de.Qq)}getLinks(){return this.http.get(this.apiMobile)}getLinkById(t){return this.http.get(`${this.apiMobile}?id=${t}`)}createLink(t){return this.http.post(this.apiMobile,t)}updateLink(t){return this.http.put(`${this.apiMobile}?id=${t.id}`,t)}deleteLink(t){return this.http.delete(`${this.apiMobile}?id=${t}`)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),F1=(()=>{class e{constructor(){this.listStatus=[{id:1,name:"Activo"},{id:2,name:"Inactivo"}],this.linkForm=new S.gE({id:new S.MJ,title:new S.MJ,subtitle:new S.MJ,url:new S.MJ,status:new S.MJ})}ngOnInit(){this.linkForm.setValue({id:this.link.id||this.link.link_id,title:this.link.title,subtitle:this.link.subtitle,url:this.link.url,status:this.link.status.id})}close(){this.detailListener.close()}onSubmit(){this.detailListener.submit(this.linkForm)}delete(){this.detailListener.delete(this.link.link_id||this.link.id)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-link-detail"]],inputs:{detailListener:"detailListener",link:"link"},standalone:!0,features:[i.aNF],decls:38,vars:3,consts:[[1,"flex","w-screen","md:w-96","bg-background","h-full","overflow-auto","gap-2","px-3","flex-col","scrollbar-thumb-rounded","scrollbar-track-rounded","grow","scrollbar-thin","scrollbar-track-transparent","scrollbar-thumb-muted",3,"ngSubmit","formGroup"],[1,"sticky","top-0","flex","flex-col","bg-background"],[1,"flex","relative","flex-row","items-center","gap-2","py-3","justify-start"],[1,"text-lg","text-foreground"],[1,"absolute","cursor-pointer","right-0","inline-flex","w-fit","justify-center","rounded-md","bg-background","px-3","py-2","text-sm","font-semibold","text-foreground","shadow-sm","ring-1","ring-inset","ring-foreground","hover:bg-card","sm:mt-0","sm:w-fit",3,"click"],[1,"border-dashed","border-border"],[1,"flex","py-2","flex-col"],[1,"px-2","flex-col","flex"],[1,"px-2","flex-col","flex","gap-2"],[1,"text-xs","text-muted-foreground"],["type","text","formControlName","title","placeholder","google"],["type","text","formControlName","subtitle","placeholder","Enlace general con detalles precisos"],["type","text","formControlName","url","placeholder","https://google.com"],["formControlName","status",3,"items"],[1,"flex","py-2","flex-col","gap-2"],["type","submit",1,"bg-primary","text-white","rounded-md","p-2"],[1,""],["type","button",1,"bg-red-500","text-white","rounded-md","p-2",3,"click"]],template:function(r,o){1&r&&(i.j41(0,"form",0),i.bIt("ngSubmit",function(){return o.onSubmit()}),i.j41(1,"div",1)(2,"div",2)(3,"span",3),i.EFF(4),i.k0s(),i.j41(5,"button",4),i.bIt("click",function(){return o.close()}),i.EFF(6," X "),i.k0s()(),i.nrm(7,"hr",5),i.k0s(),i.j41(8,"div",6),i.nrm(9,"div",7),i.j41(10,"div",6)(11,"div",8)(12,"span",9),i.EFF(13,"Titulo"),i.k0s(),i.nrm(14,"input",10),i.k0s()(),i.nrm(15,"hr",5),i.j41(16,"div",6)(17,"div",8)(18,"span",9),i.EFF(19,"Subtitulo"),i.k0s(),i.nrm(20,"input",11),i.k0s()(),i.j41(21,"div",6)(22,"div",8)(23,"span",9),i.EFF(24,"Enlace"),i.k0s(),i.nrm(25,"input",12),i.k0s()(),i.j41(26,"div",6)(27,"div",8)(28,"span",9),i.EFF(29,"Estado"),i.k0s(),i.nrm(30,"app-select",13),i.k0s()(),i.nrm(31,"hr",5),i.j41(32,"div",14)(33,"button",15),i.EFF(34," Guardar Cambios "),i.k0s(),i.nrm(35,"hr",16),i.j41(36,"button",17),i.bIt("click",function(){return o.delete()}),i.EFF(37," Eliminar "),i.k0s()()()()),2&r&&(i.Y8G("formGroup",o.linkForm),i.R7$(4),i.JRh("Detalles del enlace"),i.R7$(26),i.Y8G("items",o.listStatus))},dependencies:[k.MD,ee,S.X1,S.qT,S.me,S.BC,S.cb,S.j4,S.JD,S.YN],encapsulation:2})}return e})();function L1(e,n){1&e&&(i.qSk(),i.j41(0,"svg",9),i.nrm(1,"path",10),i.k0s())}function G1(e,n){if(1&e&&(i.j41(0,"li",6)(1,"span",7),i.EFF(2),i.k0s(),i.EFF(3),i.DNE(4,L1,2,0,"svg",8),i.k0s()),2&e){const t=n.$implicit,r=n.index,o=i.XpG();i.Y8G("ngClass",r==o.actualFormIndex?" text-primary ":r<o.actualFormIndex?"text-primary hidden md:flex":"text-muted-foreground hidden md:flex"),i.R7$(),i.Y8G("classList",r<=o.actualFormIndex?"flex items-center justify-center w-5 h-5 me-2 text-xs border border-primary rounded-full shrink-0 ":"flex items-center justify-center w-5 h-5 me-2 text-xs border border-foreground  rounded-full shrink-0"),i.R7$(),i.SpI(" ",r+1," "),i.R7$(),i.SpI(" ",t.data.title," "),i.R7$(),i.Y8G("ngIf",r+1<=o.forms.length-1)}}function U1(e,n){}let j1=(()=>{class e{constructor(){this.onCreateModal=new i.bkB,this.actualFormIndex=0,this.forms=[],this.cdr=(0,i.WQX)(i.gRc)}ngOnInit(){}ngAfterViewInit(){const t=this.createModalListener();this.loadComponent(this.actualFormIndex),this.onCreateModal.emit(t),this.cdr.detectChanges()}loadComponent(t){const r=this.forms[t],o=this.dcWrapper.viewContainerRef;o.clear();const s=o.createComponent(r.component);s.instance.step=t,s.instance.fields=r.dynamicFields,s.instance.data=r.data,s.instance.renderForm()}createModalListener(){return{onNext:()=>this.nextStepForm(),onPrev:()=>this.prevStepForm()}}nextStepForm(){return this.actualFormIndex<this.forms.length-1&&this.actualFormIndex++,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}prevStepForm(){return this.actualFormIndex>0&&this.actualFormIndex--,this.loadComponent(this.actualFormIndex),{actualForm:this.forms[this.actualFormIndex],actualStep:this.actualFormIndex}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-modal-link"]],viewQuery:function(r,o){if(1&r&&i.GBs(v,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},inputs:{forms:"forms",data:"data"},standalone:!0,features:[i.aNF],decls:6,vars:1,consts:[[1,"flex","flex-col","gap-5","w-full"],[1,"flex","flex-col","md:flex-row","bg-background","justify-between","items-center"],[1,"flex","items-center","w-full","p-3","space-x-2","text-sm","font-medium","text-center","rounded-lg","shadow-sm","sm:text-base","sm:p-4","sm:space-x-4","rtl:space-x-reverse"],["class","flex items-center  font-bold h-10 sm:w-full md:w-fit ",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-2","bg-background"],["dcWrapper",""],[1,"flex","items-center","font-bold","h-10","sm:w-full","md:w-fit",3,"ngClass"],[3,"classList"],["class","w-3 h-3 ms-2 sm:ms-4 rtl:rotate-180","aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",4,"ngIf"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 12 10",1,"w-3","h-3","ms-2","sm:ms-4","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 9 4-4-4-4M1 9l4-4-4-4"]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",1)(2,"ol",2),i.DNE(3,G1,5,5,"li",3),i.k0s()(),i.j41(4,"div",4),i.DNE(5,U1,0,0,"ng-template",5),i.k0s()()),2&r&&(i.R7$(3),i.Y8G("ngForOf",o.forms))},dependencies:[k.MD,k.YU,k.Sq,k.bT,v],encapsulation:2})}return e})();function z1(e,n){}const $1=[{path:"",component:E,children:[{path:"services",component:T1},{path:"links",component:(()=>{class e{constructor(){this.detailListener={close:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},submit:t=>{console.log({value:t.value}),this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,console.log({details:t});const{id:r,status:o,title:s,subtitle:a,url:c}=t.value,f={id:r,status:o,title:s,subtitle:a,url:c};this.linkService.updateLink(f).subscribe({next:m=>{const x=this.states.find(M=>M.id===f.status)||{id:0,title:""},b={link_id:r,id:r,status:x,title:s,subtitle:a,url:c},R=this.links.findIndex(M=>M.link_id===f.id);-1!==R&&(this.links[R]=b),console.log({item:this.links[R]})},error:m=>{console.log({err:m})},complete:()=>{}})},cancel:()=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1},delete:t=>{this.dcWrapper.viewContainerRef.clear(),this.onShowItem=!1,this.linkService.deleteLink(t).subscribe({next:r=>{const o=this.links.findIndex(s=>s.id===t||s.link_id===t);-1!==o&&this.links.splice(o,1)},error:r=>{},complete:()=>{}})}},this.states=R_.states,this.onShowItem=!1,this.linkService=(0,i.WQX)(D1),this.modalService=(0,i.WQX)(lu),this.onLoadingItems=!1,this.links=[]}ngOnInit(){this.onLoadingItems=!0,this.linkService.getLinks().subscribe({next:t=>{this.links=[...t.map(r=>{const o=this.states.find(s=>s.id===r.status)||{id:0,title:""};return{...r,status:o}})],this.onLoadingItems=!1},error:t=>{},complete:()=>{}})}onAddLink(){const t={component:ei,data:{title:"Detalles del nuevo link a agregar",description:"Especificaciones necesarias del link a agregar"},dynamicFields:[{component:Zr,data:{placeholder:"Nuevo Enlace",title:"Titulo"},fieldFormControl:new S.MJ("")},{component:Zr,data:{placeholder:"Descripcion general del enlace",title:"Subtitulo"},fieldFormControl:new S.MJ("")},{component:Zr,data:{placeholder:"https://google.com",title:"url"},fieldFormControl:new S.MJ("")}]};this.modalService.open(j1,{title:"Agregar Enlace",size:"sm",forms:[t],data:{},icon:"assets/icons/heroicons/outline/plus.svg",actions:[{action:Me.Create,title:"Agregar"}]}).subscribe({next:r=>{const o=w_(r),{Titulo:s,Subtitulo:a,url:c}=o;this.linkService.createLink({title:s,subtitle:a,url:c,status:1}).subscribe({next:m=>{this.links.push({...m,status:this.states.find(x=>x.id===m.status)||{id:0,title:""}})},error:m=>{},complete:()=>{}})},error:r=>{console.log({err:r})},complete:()=>{console.log("Complete")}})}onDetailLink(t){const r=this.dcWrapper.viewContainerRef;r.clear();const o=r.createComponent(F1);o.instance.detailListener=this.detailListener,o.instance.link=t,this.onShowItem=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=i.VBU({type:e,selectors:[["app-links"]],viewQuery:function(r,o){if(1&r&&i.GBs(v,5),2&r){let s;i.mGM(s=i.lsd())&&(o.dcWrapper=s.first)}},standalone:!0,features:[i.aNF],decls:5,vars:4,consts:[[3,"classList"],[3,"onAddLinkToggle"],[3,"onSelectLink","isLoading","links"],["dcWrapper",""]],template:function(r,o){1&r&&(i.j41(0,"div",0)(1,"div",0)(2,"app-links-header",1),i.bIt("onAddLinkToggle",function(){return o.onAddLink()}),i.k0s(),i.j41(3,"app-list-links",2),i.bIt("onSelectLink",function(a){return o.onDetailLink(a)}),i.k0s()(),i.DNE(4,z1,0,0,"ng-template",3),i.k0s()),2&r&&(i.Y8G("classList",o.onShowItem?"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-auto  h-full ":"mx-auto flex flex-col md:flex-row  px-0 justify-between md:w-full overflow-hidden  h-full "),i.R7$(),i.Y8G("classList",o.onShowItem?" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-0 md:py-4":" flex-col px-4  sm:px-8 overflow-auto scrollbar-thumb-rounded scrollbar-track-rounded grow  scrollbar-thin scrollbar-track-transparent scrollbar-thumb-muted py-4"),i.R7$(2),i.Y8G("isLoading",o.onLoadingItems)("links",o.links))},dependencies:[k.MD,I1,P1,v],encapsulation:2})}return e})()},{path:"",redirectTo:"services",pathMatch:"full"}]},{path:"**",redirectTo:"errors/404"}];let H1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=i.$C({type:e});static#n=this.\u0275inj=i.G2t({imports:[U.iI.forChild($1),U.iI]})}return e})(),V1=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=i.$C({type:e});static#n=this.\u0275inj=i.G2t({imports:[H1]})}return e})()},3349:function(Re){Re.exports=function(oe){var O={};function U(k){if(O[k])return O[k].exports;var i=O[k]={i:k,l:!1,exports:{}};return oe[k].call(i.exports,i,i.exports,U),i.l=!0,i.exports}return U.m=oe,U.c=O,U.d=function(k,i,E){U.o(k,i)||Object.defineProperty(k,i,{enumerable:!0,get:E})},U.r=function(k){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(k,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(k,"__esModule",{value:!0})},U.t=function(k,i){if(1&i&&(k=U(k)),8&i||4&i&&"object"==typeof k&&k&&k.__esModule)return k;var E=Object.create(null);if(U.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:k}),2&i&&"string"!=typeof k)for(var h in k)U.d(E,h,function(u){return k[u]}.bind(null,h));return E},U.n=function(k){var i=k&&k.__esModule?function(){return k.default}:function(){return k};return U.d(i,"a",i),i},U.o=function(k,i){return Object.prototype.hasOwnProperty.call(k,i)},U.p="",U(U.s=90)}({17:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k=U(18),i=function(){function E(){}return E.getFirstMatch=function(h,u){var l=u.match(h);return l&&l.length>0&&l[1]||""},E.getSecondMatch=function(h,u){var l=u.match(h);return l&&l.length>1&&l[2]||""},E.matchAndReturnConst=function(h,u,l){if(h.test(u))return l},E.getWindowsVersionName=function(h){switch(h){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},E.getMacOSVersionName=function(h){var u=h.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(u.push(0),10===u[0])switch(u[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},E.getAndroidVersionName=function(h){var u=h.split(".").splice(0,2).map(function(l){return parseInt(l,10)||0});if(u.push(0),!(1===u[0]&&u[1]<5))return 1===u[0]&&u[1]<6?"Cupcake":1===u[0]&&u[1]>=6?"Donut":2===u[0]&&u[1]<2?"Eclair":2===u[0]&&2===u[1]?"Froyo":2===u[0]&&u[1]>2?"Gingerbread":3===u[0]?"Honeycomb":4===u[0]&&u[1]<1?"Ice Cream Sandwich":4===u[0]&&u[1]<4?"Jelly Bean":4===u[0]&&u[1]>=4?"KitKat":5===u[0]?"Lollipop":6===u[0]?"Marshmallow":7===u[0]?"Nougat":8===u[0]?"Oreo":9===u[0]?"Pie":void 0},E.getVersionPrecision=function(h){return h.split(".").length},E.compareVersions=function(h,u,l){void 0===l&&(l=!1);var d=E.getVersionPrecision(h),C=E.getVersionPrecision(u),g=Math.max(d,C),p=0,A=E.map([h,u],function(T){var F=g-E.getVersionPrecision(T),ce=T+new Array(F+1).join(".0");return E.map(ce.split("."),function(de){return new Array(20-de.length).join("0")+de}).reverse()});for(l&&(p=g-Math.min(d,C)),g-=1;g>=p;){if(A[0][g]>A[1][g])return 1;if(A[0][g]===A[1][g]){if(g===p)return 0;g-=1}else if(A[0][g]<A[1][g])return-1}},E.map=function(h,u){var l,d=[];if(Array.prototype.map)return Array.prototype.map.call(h,u);for(l=0;l<h.length;l+=1)d.push(u(h[l]));return d},E.find=function(h,u){var l,d;if(Array.prototype.find)return Array.prototype.find.call(h,u);for(l=0,d=h.length;l<d;l+=1){var C=h[l];if(u(C,l))return C}},E.assign=function(h){for(var u,l,d=h,C=arguments.length,g=new Array(C>1?C-1:0),p=1;p<C;p++)g[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[h].concat(g));var A=function(){var T=g[u];"object"==typeof T&&null!==T&&Object.keys(T).forEach(function(F){d[F]=T[F]})};for(u=0,l=g.length;u<l;u+=1)A();return h},E.getBrowserAlias=function(h){return k.BROWSER_ALIASES_MAP[h]},E.getBrowserTypeByAlias=function(h){return k.BROWSER_MAP[h]||""},E}();O.default=i,oe.exports=O.default},18:function(oe,O,U){"use strict";O.__esModule=!0,O.ENGINE_MAP=O.OS_MAP=O.PLATFORMS_MAP=O.BROWSER_MAP=O.BROWSER_ALIASES_MAP=void 0,O.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},O.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},O.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},O.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},O.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k,i=(k=U(91))&&k.__esModule?k:{default:k},E=U(18);function h(l,d){for(var C=0;C<d.length;C++){var g=d[C];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}var u=function(){function l(){}var d,g;return l.getParser=function(p,A){if(void 0===A&&(A=!1),"string"!=typeof p)throw new Error("UserAgent should be a string");return new i.default(p,A)},l.parse=function(p){return new i.default(p).getResult()},d=l,g=[{key:"BROWSER_MAP",get:function(){return E.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return E.ENGINE_MAP}},{key:"OS_MAP",get:function(){return E.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return E.PLATFORMS_MAP}}],null&&h(d.prototype,null),g&&h(d,g),l}();O.default=u,oe.exports=O.default},91:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k=l(U(92)),i=l(U(93)),E=l(U(94)),h=l(U(95)),u=l(U(17));function l(C){return C&&C.__esModule?C:{default:C}}var d=function(){function C(p,A){if(void 0===A&&(A=!1),null==p||""===p)throw new Error("UserAgent parameter can't be empty");this._ua=p,this.parsedResult={},!0!==A&&this.parse()}var g=C.prototype;return g.getUA=function(){return this._ua},g.test=function(p){return p.test(this._ua)},g.parseBrowser=function(){var p=this;this.parsedResult.browser={};var A=u.default.find(k.default,function(T){if("function"==typeof T.test)return T.test(p);if(T.test instanceof Array)return T.test.some(function(F){return p.test(F)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.browser=A.describe(this.getUA())),this.parsedResult.browser},g.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},g.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},g.getBrowserVersion=function(){return this.getBrowser().version},g.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},g.parseOS=function(){var p=this;this.parsedResult.os={};var A=u.default.find(i.default,function(T){if("function"==typeof T.test)return T.test(p);if(T.test instanceof Array)return T.test.some(function(F){return p.test(F)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.os=A.describe(this.getUA())),this.parsedResult.os},g.getOSName=function(p){var A=this.getOS().name;return p?String(A).toLowerCase()||"":A||""},g.getOSVersion=function(){return this.getOS().version},g.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},g.getPlatformType=function(p){void 0===p&&(p=!1);var A=this.getPlatform().type;return p?String(A).toLowerCase()||"":A||""},g.parsePlatform=function(){var p=this;this.parsedResult.platform={};var A=u.default.find(E.default,function(T){if("function"==typeof T.test)return T.test(p);if(T.test instanceof Array)return T.test.some(function(F){return p.test(F)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.platform=A.describe(this.getUA())),this.parsedResult.platform},g.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},g.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},g.parseEngine=function(){var p=this;this.parsedResult.engine={};var A=u.default.find(h.default,function(T){if("function"==typeof T.test)return T.test(p);if(T.test instanceof Array)return T.test.some(function(F){return p.test(F)});throw new Error("Browser's test function is not valid")});return A&&(this.parsedResult.engine=A.describe(this.getUA())),this.parsedResult.engine},g.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},g.getResult=function(){return u.default.assign({},this.parsedResult)},g.satisfies=function(p){var A=this,T={},F=0,ce={},de=0;if(Object.keys(p).forEach(function(W){var H=p[W];"string"==typeof H?(ce[W]=H,de+=1):"object"==typeof H&&(T[W]=H,F+=1)}),F>0){var Se=Object.keys(T),v=u.default.find(Se,function(W){return A.isOS(W)});if(v){var S=this.satisfies(T[v]);if(void 0!==S)return S}var Q=u.default.find(Se,function(W){return A.isPlatform(W)});if(Q){var I=this.satisfies(T[Q]);if(void 0!==I)return I}}if(de>0){var j=Object.keys(ce),w=u.default.find(j,function(W){return A.isBrowser(W,!0)});if(void 0!==w)return this.compareVersion(ce[w])}},g.isBrowser=function(p,A){void 0===A&&(A=!1);var T=this.getBrowserName().toLowerCase(),F=p.toLowerCase(),ce=u.default.getBrowserTypeByAlias(F);return A&&ce&&(F=ce.toLowerCase()),F===T},g.compareVersion=function(p){var A=[0],T=p,F=!1,ce=this.getBrowserVersion();if("string"==typeof ce)return">"===p[0]||"<"===p[0]?(T=p.substr(1),"="===p[1]?(F=!0,T=p.substr(2)):A=[],A.push(">"===p[0]?1:-1)):"="===p[0]?T=p.substr(1):"~"===p[0]&&(F=!0,T=p.substr(1)),A.indexOf(u.default.compareVersions(ce,T,F))>-1},g.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},g.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},g.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},g.is=function(p,A){return void 0===A&&(A=!1),this.isBrowser(p,A)||this.isOS(p)||this.isPlatform(p)},g.some=function(p){var A=this;return void 0===p&&(p=[]),p.some(function(T){return A.is(T)})},C}();O.default=d,oe.exports=O.default},92:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k,i=(k=U(17))&&k.__esModule?k:{default:k},E=/version\/(\d+(\.?_?\d+)+)/i;O.default=[{test:[/googlebot/i],describe:function(u){var l={name:"Googlebot"},d=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/opera/i],describe:function(u){var l={name:"Opera"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/opr\/|opios/i],describe:function(u){var l={name:"Opera"},d=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/SamsungBrowser/i],describe:function(u){var l={name:"Samsung Internet for Android"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/Whale/i],describe:function(u){var l={name:"NAVER Whale Browser"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/MZBrowser/i],describe:function(u){var l={name:"MZ Browser"},d=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/focus/i],describe:function(u){var l={name:"Focus"},d=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/swing/i],describe:function(u){var l={name:"Swing"},d=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/coast/i],describe:function(u){var l={name:"Opera Coast"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(u){var l={name:"Opera Touch"},d=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/yabrowser/i],describe:function(u){var l={name:"Yandex Browser"},d=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/ucbrowser/i],describe:function(u){var l={name:"UC Browser"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/Maxthon|mxios/i],describe:function(u){var l={name:"Maxthon"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/epiphany/i],describe:function(u){var l={name:"Epiphany"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/puffin/i],describe:function(u){var l={name:"Puffin"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/sleipnir/i],describe:function(u){var l={name:"Sleipnir"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/k-meleon/i],describe:function(u){var l={name:"K-Meleon"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/micromessenger/i],describe:function(u){var l={name:"WeChat"},d=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/qqbrowser/i],describe:function(u){var l={name:/qqbrowserlite/i.test(u)?"QQ Browser Lite":"QQ Browser"},d=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/msie|trident/i],describe:function(u){var l={name:"Internet Explorer"},d=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/\sedg\//i],describe:function(u){var l={name:"Microsoft Edge"},d=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/edg([ea]|ios)/i],describe:function(u){var l={name:"Microsoft Edge"},d=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/vivaldi/i],describe:function(u){var l={name:"Vivaldi"},d=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/seamonkey/i],describe:function(u){var l={name:"SeaMonkey"},d=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/sailfish/i],describe:function(u){var l={name:"Sailfish"},d=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,u);return d&&(l.version=d),l}},{test:[/silk/i],describe:function(u){var l={name:"Amazon Silk"},d=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/phantom/i],describe:function(u){var l={name:"PhantomJS"},d=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/slimerjs/i],describe:function(u){var l={name:"SlimerJS"},d=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(u){var l={name:"BlackBerry"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/(web|hpw)[o0]s/i],describe:function(u){var l={name:"WebOS Browser"},d=i.default.getFirstMatch(E,u)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/bada/i],describe:function(u){var l={name:"Bada"},d=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/tizen/i],describe:function(u){var l={name:"Tizen"},d=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/qupzilla/i],describe:function(u){var l={name:"QupZilla"},d=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/firefox|iceweasel|fxios/i],describe:function(u){var l={name:"Firefox"},d=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/electron/i],describe:function(u){var l={name:"Electron"},d=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/MiuiBrowser/i],describe:function(u){var l={name:"Miui"},d=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/chromium/i],describe:function(u){var l={name:"Chromium"},d=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,u)||i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/chrome|crios|crmo/i],describe:function(u){var l={name:"Chrome"},d=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/GSA/i],describe:function(u){var l={name:"Google Search"},d=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:function(u){var l=!u.test(/like android/i),d=u.test(/android/i);return l&&d},describe:function(u){var l={name:"Android Browser"},d=i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/playstation 4/i],describe:function(u){var l={name:"PlayStation 4"},d=i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/safari|applewebkit/i],describe:function(u){var l={name:"Safari"},d=i.default.getFirstMatch(E,u);return d&&(l.version=d),l}},{test:[/.*/i],describe:function(u){var l=-1!==u.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(l,u),version:i.default.getSecondMatch(l,u)}}}],oe.exports=O.default},93:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k,i=(k=U(17))&&k.__esModule?k:{default:k},E=U(18);O.default=[{test:[/Roku\/DVP/],describe:function(u){var l=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,u);return{name:E.OS_MAP.Roku,version:l}}},{test:[/windows phone/i],describe:function(u){var l=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,u);return{name:E.OS_MAP.WindowsPhone,version:l}}},{test:[/windows /i],describe:function(u){var l=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,u),d=i.default.getWindowsVersionName(l);return{name:E.OS_MAP.Windows,version:l,versionName:d}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(u){var l={name:E.OS_MAP.iOS},d=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,u);return d&&(l.version=d),l}},{test:[/macintosh/i],describe:function(u){var l=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,u).replace(/[_\s]/g,"."),d=i.default.getMacOSVersionName(l),C={name:E.OS_MAP.MacOS,version:l};return d&&(C.versionName=d),C}},{test:[/(ipod|iphone|ipad)/i],describe:function(u){var l=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,u).replace(/[_\s]/g,".");return{name:E.OS_MAP.iOS,version:l}}},{test:function(u){var l=!u.test(/like android/i),d=u.test(/android/i);return l&&d},describe:function(u){var l=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,u),d=i.default.getAndroidVersionName(l),C={name:E.OS_MAP.Android,version:l};return d&&(C.versionName=d),C}},{test:[/(web|hpw)[o0]s/i],describe:function(u){var l=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,u),d={name:E.OS_MAP.WebOS};return l&&l.length&&(d.version=l),d}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(u){var l=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,u)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,u)||i.default.getFirstMatch(/\bbb(\d+)/i,u);return{name:E.OS_MAP.BlackBerry,version:l}}},{test:[/bada/i],describe:function(u){var l=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,u);return{name:E.OS_MAP.Bada,version:l}}},{test:[/tizen/i],describe:function(u){var l=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,u);return{name:E.OS_MAP.Tizen,version:l}}},{test:[/linux/i],describe:function(){return{name:E.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:E.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(u){var l=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,u);return{name:E.OS_MAP.PlayStation4,version:l}}}],oe.exports=O.default},94:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k,i=(k=U(17))&&k.__esModule?k:{default:k},E=U(18);O.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(u){var l=i.default.getFirstMatch(/(can-l01)/i,u)&&"Nova",d={type:E.PLATFORMS_MAP.mobile,vendor:"Huawei"};return l&&(d.model=l),d}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:E.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:E.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:E.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:E.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:E.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:E.PLATFORMS_MAP.tablet}}},{test:function(u){var l=u.test(/ipod|iphone/i),d=u.test(/like (ipod|iphone)/i);return l&&!d},describe:function(u){var l=i.default.getFirstMatch(/(ipod|iphone)/i,u);return{type:E.PLATFORMS_MAP.mobile,vendor:"Apple",model:l}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:E.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:E.PLATFORMS_MAP.mobile}}},{test:function(u){return"blackberry"===u.getBrowserName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(u){return"bada"===u.getBrowserName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.mobile}}},{test:function(u){return"windows phone"===u.getBrowserName()},describe:function(){return{type:E.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(u){var l=Number(String(u.getOSVersion()).split(".")[0]);return"android"===u.getOSName(!0)&&l>=3},describe:function(){return{type:E.PLATFORMS_MAP.tablet}}},{test:function(u){return"android"===u.getOSName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.mobile}}},{test:function(u){return"macos"===u.getOSName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(u){return"windows"===u.getOSName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.desktop}}},{test:function(u){return"linux"===u.getOSName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.desktop}}},{test:function(u){return"playstation 4"===u.getOSName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.tv}}},{test:function(u){return"roku"===u.getOSName(!0)},describe:function(){return{type:E.PLATFORMS_MAP.tv}}}],oe.exports=O.default},95:function(oe,O,U){"use strict";O.__esModule=!0,O.default=void 0;var k,i=(k=U(17))&&k.__esModule?k:{default:k},E=U(18);O.default=[{test:function(u){return"microsoft edge"===u.getBrowserName(!0)},describe:function(u){if(/\sedg\//i.test(u))return{name:E.ENGINE_MAP.Blink};var l=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,u);return{name:E.ENGINE_MAP.EdgeHTML,version:l}}},{test:[/trident/i],describe:function(u){var l={name:E.ENGINE_MAP.Trident},d=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:function(u){return u.test(/presto/i)},describe:function(u){var l={name:E.ENGINE_MAP.Presto},d=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:function(u){var l=u.test(/gecko/i),d=u.test(/like gecko/i);return l&&!d},describe:function(u){var l={name:E.ENGINE_MAP.Gecko},d=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:E.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(u){var l={name:E.ENGINE_MAP.WebKit},d=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,u);return d&&(l.version=d),l}}],oe.exports=O.default}})},6337:(Re,oe,O)=>{"use strict";const U=O(573),k=O(1240),i=O(1303);Re.exports={XMLParser:k,XMLValidator:U,XMLBuilder:i}},2999:(Re,oe)=>{"use strict";const O=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",k="["+O+"]["+O+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",i=new RegExp("^"+k+"$");oe.isExist=function(u){return typeof u<"u"},oe.isEmptyObject=function(u){return 0===Object.keys(u).length},oe.merge=function(u,l,d){if(l){const C=Object.keys(l),g=C.length;for(let p=0;p<g;p++)u[C[p]]="strict"===d?[l[C[p]]]:l[C[p]]}},oe.getValue=function(u){return oe.isExist(u)?u:""},oe.isName=function(u){const l=i.exec(u);return!(null===l||typeof l>"u")},oe.getAllMatches=function(u,l){const d=[];let C=l.exec(u);for(;C;){const g=[];g.startIndex=l.lastIndex-C[0].length;const p=C.length;for(let A=0;A<p;A++)g.push(C[A]);d.push(g),C=l.exec(u)}return d},oe.nameRegexp=k},573:(Re,oe,O)=>{"use strict";const U=O(2999),k={allowBooleanAttributes:!1,unpairedTags:[]};function i(v){return" "===v||"\t"===v||"\n"===v||"\r"===v}function E(v,S){const Q=S;for(;S<v.length;S++)if("?"==v[S]||" "==v[S]){const I=v.substr(Q,S-Q);if(S>5&&"xml"===I)return T("InvalidXml","XML declaration allowed only at the start of the document.",de(v,S));if("?"==v[S]&&">"==v[S+1]){S++;break}continue}return S}function h(v,S){if(v.length>S+5&&"-"===v[S+1]&&"-"===v[S+2]){for(S+=3;S<v.length;S++)if("-"===v[S]&&"-"===v[S+1]&&">"===v[S+2]){S+=2;break}}else if(v.length>S+8&&"D"===v[S+1]&&"O"===v[S+2]&&"C"===v[S+3]&&"T"===v[S+4]&&"Y"===v[S+5]&&"P"===v[S+6]&&"E"===v[S+7]){let Q=1;for(S+=8;S<v.length;S++)if("<"===v[S])Q++;else if(">"===v[S]&&(Q--,0===Q))break}else if(v.length>S+9&&"["===v[S+1]&&"C"===v[S+2]&&"D"===v[S+3]&&"A"===v[S+4]&&"T"===v[S+5]&&"A"===v[S+6]&&"["===v[S+7])for(S+=8;S<v.length;S++)if("]"===v[S]&&"]"===v[S+1]&&">"===v[S+2]){S+=2;break}return S}oe.validate=function(v,S){S=Object.assign({},k,S);const Q=[];let I=!1,j=!1;"\ufeff"===v[0]&&(v=v.substr(1));for(let w=0;w<v.length;w++)if("<"===v[w]&&"?"===v[w+1]){if(w+=2,w=E(v,w),w.err)return w}else{if("<"!==v[w]){if(i(v[w]))continue;return T("InvalidChar","char '"+v[w]+"' is not expected.",de(v,w))}{let W=w;if(w++,"!"===v[w]){w=h(v,w);continue}{let H=!1;"/"===v[w]&&(H=!0,w++);let L="";for(;w<v.length&&">"!==v[w]&&" "!==v[w]&&"\t"!==v[w]&&"\n"!==v[w]&&"\r"!==v[w];w++)L+=v[w];if(L=L.trim(),"/"===L[L.length-1]&&(L=L.substring(0,L.length-1),w--),!ce(L)){let G;return G=0===L.trim().length?"Invalid space after '<'.":"Tag '"+L+"' is an invalid name.",T("InvalidTag",G,de(v,w))}const Ce=d(v,w);if(!1===Ce)return T("InvalidAttr","Attributes for '"+L+"' have open quote.",de(v,w));let ee=Ce.value;if(w=Ce.index,"/"===ee[ee.length-1]){const G=w-ee.length;ee=ee.substring(0,ee.length-1);const ye=g(ee,S);if(!0!==ye)return T(ye.err.code,ye.err.msg,de(v,G+ye.err.line));I=!0}else if(H){if(!Ce.tagClosed)return T("InvalidTag","Closing tag '"+L+"' doesn't have proper closing.",de(v,w));if(ee.trim().length>0)return T("InvalidTag","Closing tag '"+L+"' can't have attributes or invalid starting.",de(v,W));if(0===Q.length)return T("InvalidTag","Closing tag '"+L+"' has not been opened.",de(v,W));{const G=Q.pop();if(L!==G.tagName){let ye=de(v,G.tagStartPos);return T("InvalidTag","Expected closing tag '"+G.tagName+"' (opened in line "+ye.line+", col "+ye.col+") instead of closing tag '"+L+"'.",de(v,W))}0==Q.length&&(j=!0)}}else{const G=g(ee,S);if(!0!==G)return T(G.err.code,G.err.msg,de(v,w-ee.length+G.err.line));if(!0===j)return T("InvalidXml","Multiple possible root nodes found.",de(v,w));-1!==S.unpairedTags.indexOf(L)||Q.push({tagName:L,tagStartPos:W}),I=!0}for(w++;w<v.length;w++)if("<"===v[w]){if("!"===v[w+1]){w++,w=h(v,w);continue}if("?"!==v[w+1])break;if(w=E(v,++w),w.err)return w}else if("&"===v[w]){const G=A(v,w);if(-1==G)return T("InvalidChar","char '&' is not expected.",de(v,w));w=G}else if(!0===j&&!i(v[w]))return T("InvalidXml","Extra text at the end",de(v,w));"<"===v[w]&&w--}}}return I?1==Q.length?T("InvalidTag","Unclosed tag '"+Q[0].tagName+"'.",de(v,Q[0].tagStartPos)):!(Q.length>0)||T("InvalidXml","Invalid '"+JSON.stringify(Q.map(w=>w.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):T("InvalidXml","Start tag expected.",1)};const u='"',l="'";function d(v,S){let Q="",I="",j=!1;for(;S<v.length;S++){if(v[S]===u||v[S]===l)""===I?I=v[S]:I!==v[S]||(I="");else if(">"===v[S]&&""===I){j=!0;break}Q+=v[S]}return""===I&&{value:Q,index:S,tagClosed:j}}const C=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function g(v,S){const Q=U.getAllMatches(v,C),I={};for(let j=0;j<Q.length;j++){if(0===Q[j][1].length)return T("InvalidAttr","Attribute '"+Q[j][2]+"' has no space in starting.",Se(Q[j]));if(void 0!==Q[j][3]&&void 0===Q[j][4])return T("InvalidAttr","Attribute '"+Q[j][2]+"' is without value.",Se(Q[j]));if(void 0===Q[j][3]&&!S.allowBooleanAttributes)return T("InvalidAttr","boolean attribute '"+Q[j][2]+"' is not allowed.",Se(Q[j]));const w=Q[j][2];if(!F(w))return T("InvalidAttr","Attribute '"+w+"' is an invalid name.",Se(Q[j]));if(I.hasOwnProperty(w))return T("InvalidAttr","Attribute '"+w+"' is repeated.",Se(Q[j]));I[w]=1}return!0}function A(v,S){if(";"===v[++S])return-1;if("#"===v[S])return function p(v,S){let Q=/\d/;for("x"===v[S]&&(S++,Q=/[\da-fA-F]/);S<v.length;S++){if(";"===v[S])return S;if(!v[S].match(Q))break}return-1}(v,++S);let Q=0;for(;S<v.length;S++,Q++)if(!(v[S].match(/\w/)&&Q<20)){if(";"===v[S])break;return-1}return S}function T(v,S,Q){return{err:{code:v,msg:S,line:Q.line||Q,col:Q.col}}}function F(v){return U.isName(v)}function ce(v){return U.isName(v)}function de(v,S){const Q=v.substring(0,S).split(/\r?\n/);return{line:Q.length,col:Q[Q.length-1].length+1}}function Se(v){return v.startIndex+v[1].length}},1303:(Re,oe,O)=>{"use strict";const U=O(9505),k={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(d,C){return C},attributeValueProcessor:function(d,C){return C},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function i(d){this.options=Object.assign({},k,d),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=l),this.processTextOrObjNode=E,this.options.format?(this.indentate=u,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function E(d,C,g){const p=this.j2x(d,g+1);return void 0!==d[this.options.textNodeName]&&1===Object.keys(d).length?this.buildTextValNode(d[this.options.textNodeName],C,p.attrStr,g):this.buildObjectNode(p.val,C,p.attrStr,g)}function u(d){return this.options.indentBy.repeat(d)}function l(d){return!(!d.startsWith(this.options.attributeNamePrefix)||d===this.options.textNodeName)&&d.substr(this.attrPrefixLen)}i.prototype.build=function(d){return this.options.preserveOrder?U(d,this.options):(Array.isArray(d)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(d={[this.options.arrayNodeName]:d}),this.j2x(d,0).val)},i.prototype.j2x=function(d,C){let g="",p="";for(let A in d)if(Object.prototype.hasOwnProperty.call(d,A))if(typeof d[A]>"u")this.isAttribute(A)&&(p+="");else if(null===d[A])this.isAttribute(A)?p+="":p+="?"===A[0]?this.indentate(C)+"<"+A+"?"+this.tagEndChar:this.indentate(C)+"<"+A+"/"+this.tagEndChar;else if(d[A]instanceof Date)p+=this.buildTextValNode(d[A],A,"",C);else if("object"!=typeof d[A]){const T=this.isAttribute(A);if(T)g+=this.buildAttrPairStr(T,""+d[A]);else if(A===this.options.textNodeName){let F=this.options.tagValueProcessor(A,""+d[A]);p+=this.replaceEntitiesValue(F)}else p+=this.buildTextValNode(d[A],A,"",C)}else if(Array.isArray(d[A])){const T=d[A].length;let F="",ce="";for(let de=0;de<T;de++){const Se=d[A][de];if(!(typeof Se>"u"))if(null===Se)p+="?"===A[0]?this.indentate(C)+"<"+A+"?"+this.tagEndChar:this.indentate(C)+"<"+A+"/"+this.tagEndChar;else if("object"==typeof Se)if(this.options.oneListGroup){const v=this.j2x(Se,C+1);F+=v.val,this.options.attributesGroupName&&Se.hasOwnProperty(this.options.attributesGroupName)&&(ce+=v.attrStr)}else F+=this.processTextOrObjNode(Se,A,C);else if(this.options.oneListGroup){let v=this.options.tagValueProcessor(A,Se);v=this.replaceEntitiesValue(v),F+=v}else F+=this.buildTextValNode(Se,A,"",C)}this.options.oneListGroup&&(F=this.buildObjectNode(F,A,ce,C)),p+=F}else if(this.options.attributesGroupName&&A===this.options.attributesGroupName){const T=Object.keys(d[A]),F=T.length;for(let ce=0;ce<F;ce++)g+=this.buildAttrPairStr(T[ce],""+d[A][T[ce]])}else p+=this.processTextOrObjNode(d[A],A,C);return{attrStr:g,val:p}},i.prototype.buildAttrPairStr=function(d,C){return C=this.options.attributeValueProcessor(d,""+C),C=this.replaceEntitiesValue(C),this.options.suppressBooleanAttributes&&"true"===C?" "+d:" "+d+'="'+C+'"'},i.prototype.buildObjectNode=function(d,C,g,p){if(""===d)return"?"===C[0]?this.indentate(p)+"<"+C+g+"?"+this.tagEndChar:this.indentate(p)+"<"+C+g+this.closeTag(C)+this.tagEndChar;{let A="</"+C+this.tagEndChar,T="";return"?"===C[0]&&(T="?",A=""),!g&&""!==g||-1!==d.indexOf("<")?!1!==this.options.commentPropName&&C===this.options.commentPropName&&0===T.length?this.indentate(p)+`\x3c!--${d}--\x3e`+this.newLine:this.indentate(p)+"<"+C+g+T+this.tagEndChar+d+this.indentate(p)+A:this.indentate(p)+"<"+C+g+T+">"+d+A}},i.prototype.closeTag=function(d){let C="";return-1!==this.options.unpairedTags.indexOf(d)?this.options.suppressUnpairedNode||(C="/"):C=this.options.suppressEmptyNode?"/":`></${d}`,C},i.prototype.buildTextValNode=function(d,C,g,p){if(!1!==this.options.cdataPropName&&C===this.options.cdataPropName)return this.indentate(p)+`<![CDATA[${d}]]>`+this.newLine;if(!1!==this.options.commentPropName&&C===this.options.commentPropName)return this.indentate(p)+`\x3c!--${d}--\x3e`+this.newLine;if("?"===C[0])return this.indentate(p)+"<"+C+g+"?"+this.tagEndChar;{let A=this.options.tagValueProcessor(C,d);return A=this.replaceEntitiesValue(A),""===A?this.indentate(p)+"<"+C+g+this.closeTag(C)+this.tagEndChar:this.indentate(p)+"<"+C+g+">"+A+"</"+C+this.tagEndChar}},i.prototype.replaceEntitiesValue=function(d){if(d&&d.length>0&&this.options.processEntities)for(let C=0;C<this.options.entities.length;C++){const g=this.options.entities[C];d=d.replace(g.regex,g.val)}return d},Re.exports=i},9505:Re=>{function U(u,l,d,C){let g="",p=!1;for(let A=0;A<u.length;A++){const T=u[A],F=k(T);if(void 0===F)continue;let ce="";if(ce=0===d.length?F:`${d}.${F}`,F===l.textNodeName){let Q=T[F];E(ce,l)||(Q=l.tagValueProcessor(F,Q),Q=h(Q,l)),p&&(g+=C),g+=Q,p=!1;continue}if(F===l.cdataPropName){p&&(g+=C),g+=`<![CDATA[${T[F][0][l.textNodeName]}]]>`,p=!1;continue}if(F===l.commentPropName){g+=C+`\x3c!--${T[F][0][l.textNodeName]}--\x3e`,p=!0;continue}if("?"===F[0]){const Q=i(T[":@"],l);let j=T[F][0][l.textNodeName];j=0!==j.length?" "+j:"",g+=("?xml"===F?"":C)+`<${F}${j}${Q}?>`,p=!0;continue}let de=C;""!==de&&(de+=l.indentBy);const v=C+`<${F}${i(T[":@"],l)}`,S=U(T[F],l,ce,de);-1!==l.unpairedTags.indexOf(F)?g+=l.suppressUnpairedNode?v+">":v+"/>":S&&0!==S.length||!l.suppressEmptyNode?S&&S.endsWith(">")?g+=v+`>${S}${C}</${F}>`:(g+=v+">",S&&""!==C&&(S.includes("/>")||S.includes("</"))?g+=C+l.indentBy+S+C:g+=S,g+=`</${F}>`):g+=v+"/>",p=!0}return g}function k(u){const l=Object.keys(u);for(let d=0;d<l.length;d++){const C=l[d];if(u.hasOwnProperty(C)&&":@"!==C)return C}}function i(u,l){let d="";if(u&&!l.ignoreAttributes)for(let C in u){if(!u.hasOwnProperty(C))continue;let g=l.attributeValueProcessor(C,u[C]);g=h(g,l),d+=!0===g&&l.suppressBooleanAttributes?` ${C.substr(l.attributeNamePrefix.length)}`:` ${C.substr(l.attributeNamePrefix.length)}="${g}"`}return d}function E(u,l){let d=(u=u.substr(0,u.length-l.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let C in l.stopNodes)if(l.stopNodes[C]===u||l.stopNodes[C]==="*."+d)return!0;return!1}function h(u,l){if(u&&u.length>0&&l.processEntities)for(let d=0;d<l.entities.length;d++){const C=l.entities[d];u=u.replace(C.regex,C.val)}return u}Re.exports=function O(u,l){let d="";return l.format&&l.indentBy.length>0&&(d="\n"),U(u,l,"",d)}},9563:(Re,oe,O)=>{const U=O(2999);function i(g,p){let A="";for(;p<g.length&&"'"!==g[p]&&'"'!==g[p];p++)A+=g[p];if(A=A.trim(),-1!==A.indexOf(" "))throw new Error("External entites are not supported");const T=g[p++];let F="";for(;p<g.length&&g[p]!==T;p++)F+=g[p];return[A,F,p]}function E(g,p){return"!"===g[p+1]&&"-"===g[p+2]&&"-"===g[p+3]}function h(g,p){return"!"===g[p+1]&&"E"===g[p+2]&&"N"===g[p+3]&&"T"===g[p+4]&&"I"===g[p+5]&&"T"===g[p+6]&&"Y"===g[p+7]}function u(g,p){return"!"===g[p+1]&&"E"===g[p+2]&&"L"===g[p+3]&&"E"===g[p+4]&&"M"===g[p+5]&&"E"===g[p+6]&&"N"===g[p+7]&&"T"===g[p+8]}function l(g,p){return"!"===g[p+1]&&"A"===g[p+2]&&"T"===g[p+3]&&"T"===g[p+4]&&"L"===g[p+5]&&"I"===g[p+6]&&"S"===g[p+7]&&"T"===g[p+8]}function d(g,p){return"!"===g[p+1]&&"N"===g[p+2]&&"O"===g[p+3]&&"T"===g[p+4]&&"A"===g[p+5]&&"T"===g[p+6]&&"I"===g[p+7]&&"O"===g[p+8]&&"N"===g[p+9]}function C(g){if(U.isName(g))return g;throw new Error(`Invalid entity name ${g}`)}Re.exports=function k(g,p){const A={};if("O"!==g[p+3]||"C"!==g[p+4]||"T"!==g[p+5]||"Y"!==g[p+6]||"P"!==g[p+7]||"E"!==g[p+8])throw new Error("Invalid Tag instead of DOCTYPE");{p+=9;let T=1,F=!1,ce=!1,de="";for(;p<g.length;p++)if("<"!==g[p]||ce)if(">"===g[p]){if(ce?"-"===g[p-1]&&"-"===g[p-2]&&(ce=!1,T--):T--,0===T)break}else"["===g[p]?F=!0:de+=g[p];else{if(F&&h(g,p))p+=7,[entityName,val,p]=i(g,p+1),-1===val.indexOf("&")&&(A[C(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(F&&u(g,p))p+=8;else if(F&&l(g,p))p+=8;else if(F&&d(g,p))p+=9;else{if(!E)throw new Error("Invalid DOCTYPE");ce=!0}T++,de=""}if(0!==T)throw new Error("Unclosed DOCTYPE")}return{entities:A,i:p}}},9621:(Re,oe)=>{const O={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(k,i){return i},attributeValueProcessor:function(k,i){return i},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(k,i,E){return k}};oe.buildOptions=function(k){return Object.assign({},O,k)},oe.defaultOptions=O},1573:(Re,oe,O)=>{"use strict";const U=O(2999),k=O(6999),i=O(9563),E=O(2140);function u(I){const j=Object.keys(I);for(let w=0;w<j.length;w++){const W=j[w];this.lastEntities[W]={regex:new RegExp("&"+W+";","g"),val:I[W]}}}function l(I,j,w,W,H,L,Ce){if(void 0!==I&&(this.options.trimValues&&!W&&(I=I.trim()),I.length>0)){Ce||(I=this.replaceEntitiesValue(I));const ee=this.options.tagValueProcessor(j,I,w,H,L);return null==ee?I:typeof ee!=typeof I||ee!==I?ee:this.options.trimValues||I.trim()===I?Q(I,this.options.parseTagValue,this.options.numberParseOptions):I}}function d(I){if(this.options.removeNSPrefix){const j=I.split(":"),w="/"===I.charAt(0)?"/":"";if("xmlns"===j[0])return"";2===j.length&&(I=w+j[1])}return I}const C=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function g(I,j,w){if(!this.options.ignoreAttributes&&"string"==typeof I){const W=U.getAllMatches(I,C),H=W.length,L={};for(let Ce=0;Ce<H;Ce++){const ee=this.resolveNameSpace(W[Ce][1]);let G=W[Ce][4],ye=this.options.attributeNamePrefix+ee;if(ee.length)if(this.options.transformAttributeName&&(ye=this.options.transformAttributeName(ye)),"__proto__"===ye&&(ye="#__proto__"),void 0!==G){this.options.trimValues&&(G=G.trim()),G=this.replaceEntitiesValue(G);const he=this.options.attributeValueProcessor(ee,G,j);L[ye]=null==he?G:typeof he!=typeof G||he!==G?he:Q(G,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(L[ye]=!0)}if(!Object.keys(L).length)return;if(this.options.attributesGroupName){const Ce={};return Ce[this.options.attributesGroupName]=L,Ce}return L}}const p=function(I){I=I.replace(/\r\n?/g,"\n");const j=new k("!xml");let w=j,W="",H="";for(let L=0;L<I.length;L++)if("<"===I[L])if("/"===I[L+1]){const ee=Se(I,">",L,"Closing Tag is not closed.");let G=I.substring(L+2,ee).trim();if(this.options.removeNSPrefix){const ct=G.indexOf(":");-1!==ct&&(G=G.substr(ct+1))}this.options.transformTagName&&(G=this.options.transformTagName(G)),w&&(W=this.saveTextToParentTag(W,w,H));const ye=H.substring(H.lastIndexOf(".")+1);if(G&&-1!==this.options.unpairedTags.indexOf(G))throw new Error(`Unpaired tag can not be used as closing tag: </${G}>`);let he=0;ye&&-1!==this.options.unpairedTags.indexOf(ye)?(he=H.lastIndexOf(".",H.lastIndexOf(".")-1),this.tagsNodeStack.pop()):he=H.lastIndexOf("."),H=H.substring(0,he),w=this.tagsNodeStack.pop(),W="",L=ee}else if("?"===I[L+1]){let ee=v(I,L,!1,"?>");if(!ee)throw new Error("Pi Tag is not closed.");if(W=this.saveTextToParentTag(W,w,H),!(this.options.ignoreDeclaration&&"?xml"===ee.tagName||this.options.ignorePiTags)){const G=new k(ee.tagName);G.add(this.options.textNodeName,""),ee.tagName!==ee.tagExp&&ee.attrExpPresent&&(G[":@"]=this.buildAttributesMap(ee.tagExp,H,ee.tagName)),this.addChild(w,G,H)}L=ee.closeIndex+1}else if("!--"===I.substr(L+1,3)){const ee=Se(I,"--\x3e",L+4,"Comment is not closed.");if(this.options.commentPropName){const G=I.substring(L+4,ee-2);W=this.saveTextToParentTag(W,w,H),w.add(this.options.commentPropName,[{[this.options.textNodeName]:G}])}L=ee}else if("!D"===I.substr(L+1,2)){const ee=i(I,L);this.docTypeEntities=ee.entities,L=ee.i}else if("!["===I.substr(L+1,2)){const ee=Se(I,"]]>",L,"CDATA is not closed.")-2,G=I.substring(L+9,ee);W=this.saveTextToParentTag(W,w,H);let ye=this.parseTextData(G,w.tagname,H,!0,!1,!0,!0);null==ye&&(ye=""),this.options.cdataPropName?w.add(this.options.cdataPropName,[{[this.options.textNodeName]:G}]):w.add(this.options.textNodeName,ye),L=ee+2}else{let ee=v(I,L,this.options.removeNSPrefix),G=ee.tagName;const ye=ee.rawTagName;let he=ee.tagExp,ct=ee.attrExpPresent,wo=ee.closeIndex;if(this.options.transformTagName&&(G=this.options.transformTagName(G)),w&&W&&"!xml"!==w.tagname&&(W=this.saveTextToParentTag(W,w,H,!1)),w&&-1!==this.options.unpairedTags.indexOf(w.tagname)&&(w=this.tagsNodeStack.pop(),H=H.substring(0,H.lastIndexOf("."))),G!==j.tagname&&(H+=H?"."+G:G),this.isItStopNode(this.options.stopNodes,H,G)){let Me="";if(he.length>0&&he.lastIndexOf("/")===he.length-1)"/"===G[G.length-1]?(G=G.substr(0,G.length-1),H=H.substr(0,H.length-1),he=G):he=he.substr(0,he.length-1),L=ee.closeIndex;else if(-1!==this.options.unpairedTags.indexOf(G))L=ee.closeIndex;else{const Jr=this.readStopNodeData(I,ye,wo+1);if(!Jr)throw new Error(`Unexpected end of ${ye}`);L=Jr.i,Me=Jr.tagContent}const or=new k(G);G!==he&&ct&&(or[":@"]=this.buildAttributesMap(he,H,G)),Me&&(Me=this.parseTextData(Me,G,H,!0,ct,!0,!0)),H=H.substr(0,H.lastIndexOf(".")),or.add(this.options.textNodeName,Me),this.addChild(w,or,H)}else{if(he.length>0&&he.lastIndexOf("/")===he.length-1){"/"===G[G.length-1]?(G=G.substr(0,G.length-1),H=H.substr(0,H.length-1),he=G):he=he.substr(0,he.length-1),this.options.transformTagName&&(G=this.options.transformTagName(G));const Me=new k(G);G!==he&&ct&&(Me[":@"]=this.buildAttributesMap(he,H,G)),this.addChild(w,Me,H),H=H.substr(0,H.lastIndexOf("."))}else{const Me=new k(G);this.tagsNodeStack.push(w),G!==he&&ct&&(Me[":@"]=this.buildAttributesMap(he,H,G)),this.addChild(w,Me,H),w=Me}W="",L=wo}}else W+=I[L];return j.child};function A(I,j,w){const W=this.options.updateTag(j.tagname,w,j[":@"]);!1===W||("string"==typeof W&&(j.tagname=W),I.addChild(j))}const T=function(I){if(this.options.processEntities){for(let j in this.docTypeEntities){const w=this.docTypeEntities[j];I=I.replace(w.regx,w.val)}for(let j in this.lastEntities){const w=this.lastEntities[j];I=I.replace(w.regex,w.val)}if(this.options.htmlEntities)for(let j in this.htmlEntities){const w=this.htmlEntities[j];I=I.replace(w.regex,w.val)}I=I.replace(this.ampEntity.regex,this.ampEntity.val)}return I};function F(I,j,w,W){return I&&(void 0===W&&(W=0===Object.keys(j.child).length),void 0!==(I=this.parseTextData(I,j.tagname,w,!1,!!j[":@"]&&0!==Object.keys(j[":@"]).length,W))&&""!==I&&j.add(this.options.textNodeName,I),I=""),I}function ce(I,j,w){const W="*."+w;for(const H in I){const L=I[H];if(W===L||j===L)return!0}return!1}function Se(I,j,w,W){const H=I.indexOf(j,w);if(-1===H)throw new Error(W);return H+j.length-1}function v(I,j,w,W=">"){const H=function de(I,j,w=">"){let W,H="";for(let L=j;L<I.length;L++){let Ce=I[L];if(W)Ce===W&&(W="");else if('"'===Ce||"'"===Ce)W=Ce;else if(Ce===w[0]){if(!w[1])return{data:H,index:L};if(I[L+1]===w[1])return{data:H,index:L}}else"\t"===Ce&&(Ce=" ");H+=Ce}}(I,j+1,W);if(!H)return;let L=H.data;const Ce=H.index,ee=L.search(/\s/);let G=L,ye=!0;-1!==ee&&(G=L.substring(0,ee),L=L.substring(ee+1).trimStart());const he=G;if(w){const ct=G.indexOf(":");-1!==ct&&(G=G.substr(ct+1),ye=G!==H.data.substr(ct+1))}return{tagName:G,tagExp:L,closeIndex:Ce,attrExpPresent:ye,rawTagName:he}}function S(I,j,w){const W=w;let H=1;for(;w<I.length;w++)if("<"===I[w])if("/"===I[w+1]){const L=Se(I,">",w,`${j} is not closed`);if(I.substring(w+2,L).trim()===j&&(H--,0===H))return{tagContent:I.substring(W,w),i:L};w=L}else if("?"===I[w+1])w=Se(I,"?>",w+1,"StopNode is not closed.");else if("!--"===I.substr(w+1,3))w=Se(I,"--\x3e",w+3,"StopNode is not closed.");else if("!["===I.substr(w+1,2))w=Se(I,"]]>",w,"StopNode is not closed.")-2;else{const L=v(I,w,">");L&&((L&&L.tagName)===j&&"/"!==L.tagExp[L.tagExp.length-1]&&H++,w=L.closeIndex)}}function Q(I,j,w){if(j&&"string"==typeof I){const W=I.trim();return"true"===W||"false"!==W&&E(I,w)}return U.isExist(I)?I:""}Re.exports=class h{constructor(j){this.options=j,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xa2"},pound:{regex:/&(pound|#163);/g,val:"\xa3"},yen:{regex:/&(yen|#165);/g,val:"\xa5"},euro:{regex:/&(euro|#8364);/g,val:"\u20ac"},copyright:{regex:/&(copy|#169);/g,val:"\xa9"},reg:{regex:/&(reg|#174);/g,val:"\xae"},inr:{regex:/&(inr|#8377);/g,val:"\u20b9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(w,W)=>String.fromCharCode(Number.parseInt(W,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(w,W)=>String.fromCharCode(Number.parseInt(W,16))}},this.addExternalEntities=u,this.parseXml=p,this.parseTextData=l,this.resolveNameSpace=d,this.buildAttributesMap=g,this.isItStopNode=ce,this.replaceEntitiesValue=T,this.readStopNodeData=S,this.saveTextToParentTag=F,this.addChild=A}}},1240:(Re,oe,O)=>{const{buildOptions:U}=O(9621),k=O(1573),{prettify:i}=O(5526),E=O(573);Re.exports=class h{constructor(l){this.externalEntities={},this.options=U(l)}parse(l,d){if("string"!=typeof l){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(d){!0===d&&(d={});const p=E.validate(l,d);if(!0!==p)throw Error(`${p.err.msg}:${p.err.line}:${p.err.col}`)}const C=new k(this.options);C.addExternalEntities(this.externalEntities);const g=C.parseXml(l);return this.options.preserveOrder||void 0===g?g:i(g,this.options)}addEntity(l,d){if(-1!==d.indexOf("&"))throw new Error("Entity value can't have '&'");if(-1!==l.indexOf("&")||-1!==l.indexOf(";"))throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if("&"===d)throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=d}}},5526:(Re,oe)=>{"use strict";function U(h,u,l){let d;const C={};for(let g=0;g<h.length;g++){const p=h[g],A=k(p);let T="";if(T=void 0===l?A:l+"."+A,A===u.textNodeName)void 0===d?d=p[A]:d+=""+p[A];else{if(void 0===A)continue;if(p[A]){let F=U(p[A],u,T);const ce=E(F,u);p[":@"]?i(F,p[":@"],T,u):1!==Object.keys(F).length||void 0===F[u.textNodeName]||u.alwaysCreateTextNode?0===Object.keys(F).length&&(u.alwaysCreateTextNode?F[u.textNodeName]="":F=""):F=F[u.textNodeName],void 0!==C[A]&&C.hasOwnProperty(A)?(Array.isArray(C[A])||(C[A]=[C[A]]),C[A].push(F)):C[A]=u.isArray(A,T,ce)?[F]:F}}}return"string"==typeof d?d.length>0&&(C[u.textNodeName]=d):void 0!==d&&(C[u.textNodeName]=d),C}function k(h){const u=Object.keys(h);for(let l=0;l<u.length;l++){const d=u[l];if(":@"!==d)return d}}function i(h,u,l,d){if(u){const C=Object.keys(u),g=C.length;for(let p=0;p<g;p++){const A=C[p];h[A]=d.isArray(A,l+"."+A,!0,!0)?[u[A]]:u[A]}}}function E(h,u){const{textNodeName:l}=u,d=Object.keys(h).length;return!(0!==d&&(1!==d||!h[l]&&"boolean"!=typeof h[l]&&0!==h[l]))}oe.prettify=function O(h,u){return U(h,u)}},6999:Re=>{"use strict";Re.exports=class oe{constructor(U){this.tagname=U,this.child=[],this[":@"]={}}add(U,k){"__proto__"===U&&(U="#__proto__"),this.child.push({[U]:k})}addChild(U){"__proto__"===U.tagname&&(U.tagname="#__proto__"),U[":@"]&&Object.keys(U[":@"]).length>0?this.child.push({[U.tagname]:U.child,":@":U[":@"]}):this.child.push({[U.tagname]:U.child})}}},2140:Re=>{const oe=/^[-+]?0x[a-fA-F0-9]+$/,O=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const U={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};Re.exports=function k(E,h={}){if(h=Object.assign({},U,h),!E||"string"!=typeof E)return E;let u=E.trim();if(void 0!==h.skipLike&&h.skipLike.test(u))return E;if(h.hex&&oe.test(u))return Number.parseInt(u,16);{const l=O.exec(u);if(l){const d=l[1],C=l[2];let g=function i(E){return E&&-1!==E.indexOf(".")&&("."===(E=E.replace(/0+$/,""))?E="0":"."===E[0]?E="0"+E:"."===E[E.length-1]&&(E=E.substr(0,E.length-1))),E}(l[3]);const p=l[4]||l[6];if(!h.leadingZeros&&C.length>0&&d&&"."!==u[2])return E;if(!h.leadingZeros&&C.length>0&&!d&&"."!==u[1])return E;{const A=Number(u),T=""+A;return-1!==T.search(/[eE]/)||p?h.eNotation?A:E:-1!==u.indexOf(".")?"0"===T&&""===g||T===g||d&&T==="-"+g?A:E:C?g===T||d+g===T?A:E:u===T||u===d+T?A:E}}return E}}}}]);